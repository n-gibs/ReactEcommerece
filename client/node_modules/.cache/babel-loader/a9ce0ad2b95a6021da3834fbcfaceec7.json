{"ast":null,"code":"\"use strict\";\n\nfunction _interopDefault(t) {\n  return t && \"object\" == typeof t && \"default\" in t ? t.default : t;\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: !0\n});\n\nvar LogLevel,\n    firebase = _interopDefault(require(\"@firebase/app\")),\n    tslib = require(\"tslib\"),\n    logger = require(\"@firebase/logger\"),\n    util = require(\"@firebase/util\"),\n    component = require(\"@firebase/component\"),\n    webchannelWrapper = require(\"@firebase/webchannel-wrapper\"),\n    SDK_VERSION = firebase.SDK_VERSION,\n    __PRIVATE_logClient = new logger.Logger(\"@firebase/firestore\");\n\nfunction __PRIVATE_getLogLevel() {\n  return __PRIVATE_logClient.logLevel === logger.LogLevel.DEBUG ? LogLevel.DEBUG : __PRIVATE_logClient.logLevel === logger.LogLevel.SILENT ? LogLevel.SILENT : LogLevel.ERROR;\n}\n\nfunction setLogLevel(t) {\n  switch (t) {\n    case LogLevel.DEBUG:\n      __PRIVATE_logClient.logLevel = logger.LogLevel.DEBUG;\n      break;\n\n    case LogLevel.ERROR:\n      __PRIVATE_logClient.logLevel = logger.LogLevel.ERROR;\n      break;\n\n    case LogLevel.SILENT:\n      __PRIVATE_logClient.logLevel = logger.LogLevel.SILENT;\n      break;\n\n    default:\n      __PRIVATE_logClient.error(\"Firestore (\" + SDK_VERSION + \"): Invalid value passed to `setLogLevel`\");\n\n  }\n}\n\nfunction debug(t, e) {\n  for (var n = [], r = 2; r < arguments.length; r++) n[r - 2] = arguments[r];\n\n  if (__PRIVATE_logClient.logLevel <= logger.LogLevel.DEBUG) {\n    var i = n.map(__PRIVATE_argToString);\n\n    __PRIVATE_logClient.debug.apply(__PRIVATE_logClient, tslib.__spreadArrays([\"Firestore (\" + SDK_VERSION + \") [\" + t + \"]: \" + e], i));\n  }\n}\n\nfunction error(t) {\n  for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];\n\n  if (__PRIVATE_logClient.logLevel <= logger.LogLevel.ERROR) {\n    var r = e.map(__PRIVATE_argToString);\n\n    __PRIVATE_logClient.error.apply(__PRIVATE_logClient, tslib.__spreadArrays([\"Firestore (\" + SDK_VERSION + \"): \" + t], r));\n  }\n}\n\nfunction __PRIVATE_argToString(t) {\n  if (\"string\" == typeof t) return t;\n\n  var e = __PRIVATE_PlatformSupport.t();\n\n  try {\n    return e.i(t);\n  } catch (e) {\n    return t;\n  }\n}\n\nfunction fail(t) {\n  var e = \"FIRESTORE (\" + SDK_VERSION + \") INTERNAL ASSERTION FAILED: \" + t;\n  throw error(e), new Error(e);\n}\n\nfunction assert(t, e) {\n  t || fail(e);\n}\n\n!function (t) {\n  t[t.DEBUG = 0] = \"DEBUG\", t[t.ERROR = 1] = \"ERROR\", t[t.SILENT = 2] = \"SILENT\";\n}(LogLevel || (LogLevel = {}));\n\nvar __PRIVATE_AutoId = function () {\n  function t() {}\n\n  return t.s = function () {\n    for (var t = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\", e = \"\", n = 0; n < 20; n++) e += t.charAt(Math.floor(Math.random() * t.length));\n\n    return assert(20 === e.length, \"Invalid auto ID: \" + e), e;\n  }, t;\n}();\n\nfunction __PRIVATE_primitiveComparator(t, e) {\n  return t < e ? -1 : t > e ? 1 : 0;\n}\n\nfunction equals(t, e) {\n  return null != t ? !(!e || !t.isEqual(e)) : t === e;\n}\n\nfunction __PRIVATE_arrayEquals(t, e) {\n  if (t.length !== e.length) return !1;\n\n  for (var n = 0; n < t.length; n++) if (!t[n].isEqual(e[n])) return !1;\n\n  return !0;\n}\n\nfunction __PRIVATE_immediateSuccessor(t) {\n  return t + \"\\0\";\n}\n\nvar __PRIVATE_OnlineState,\n    __PRIVATE_OnlineStateSource,\n    __PRIVATE_DatabaseInfo = function (t, e, n, r, i) {\n  this.o = t, this.persistenceKey = e, this.host = n, this.ssl = r, this.forceLongPolling = i;\n},\n    __PRIVATE_DEFAULT_DATABASE_NAME = \"(default)\",\n    __PRIVATE_DatabaseId = function () {\n  function t(t, e) {\n    this.projectId = t, this.database = e || __PRIVATE_DEFAULT_DATABASE_NAME;\n  }\n\n  return Object.defineProperty(t.prototype, \"u\", {\n    get: function () {\n      return this.database === __PRIVATE_DEFAULT_DATABASE_NAME;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.isEqual = function (e) {\n    return e instanceof t && e.projectId === this.projectId && e.database === this.database;\n  }, t.prototype._ = function (t) {\n    return __PRIVATE_primitiveComparator(this.projectId, t.projectId) || __PRIVATE_primitiveComparator(this.database, t.database);\n  }, t;\n}();\n\n!function (t) {\n  t[t.h = 0] = \"__PRIVATE_Unknown\", t[t.l = 1] = \"__PRIVATE_Online\", t[t.T = 2] = \"__PRIVATE_Offline\";\n}(__PRIVATE_OnlineState || (__PRIVATE_OnlineState = {})), function (t) {\n  t[t.P = 0] = \"__PRIVATE_RemoteStore\", t[t.A = 1] = \"__PRIVATE_SharedClientState\";\n}(__PRIVATE_OnlineStateSource || (__PRIVATE_OnlineStateSource = {}));\n\nvar User = function () {\n  function t(t) {\n    this.uid = t;\n  }\n\n  return t.prototype.R = function () {\n    return null != this.uid;\n  }, t.prototype.I = function () {\n    return this.R() ? \"uid:\" + this.uid : \"anonymous-user\";\n  }, t.prototype.isEqual = function (t) {\n    return t.uid === this.uid;\n  }, t.UNAUTHENTICATED = new t(null), t.V = new t(\"google-credentials-uid\"), t.m = new t(\"first-party-uid\"), t;\n}(),\n    Code = {\n  OK: \"ok\",\n  CANCELLED: \"cancelled\",\n  UNKNOWN: \"unknown\",\n  INVALID_ARGUMENT: \"invalid-argument\",\n  DEADLINE_EXCEEDED: \"deadline-exceeded\",\n  NOT_FOUND: \"not-found\",\n  ALREADY_EXISTS: \"already-exists\",\n  PERMISSION_DENIED: \"permission-denied\",\n  UNAUTHENTICATED: \"unauthenticated\",\n  RESOURCE_EXHAUSTED: \"resource-exhausted\",\n  FAILED_PRECONDITION: \"failed-precondition\",\n  ABORTED: \"aborted\",\n  OUT_OF_RANGE: \"out-of-range\",\n  UNIMPLEMENTED: \"unimplemented\",\n  INTERNAL: \"internal\",\n  UNAVAILABLE: \"unavailable\",\n  DATA_LOSS: \"data-loss\"\n},\n    FirestoreError = function (t) {\n  function e(e, n) {\n    var r = t.call(this, n) || this;\n    return r.code = e, r.message = n, r.name = \"FirebaseError\", r.toString = function () {\n      return r.name + \": [code=\" + r.code + \"]: \" + r.message;\n    }, r;\n  }\n\n  return tslib.__extends(e, t), e;\n}(Error),\n    __PRIVATE_OAuthToken = function (t, e) {\n  this.user = e, this.type = \"OAuth\", this.v = {}, this.v.Authorization = \"Bearer \" + t;\n},\n    __PRIVATE_EmptyCredentialsProvider = function () {\n  function t() {\n    this.p = null;\n  }\n\n  return t.prototype.getToken = function () {\n    return Promise.resolve(null);\n  }, t.prototype.g = function () {}, t.prototype.S = function (t) {\n    assert(!this.p, \"Can only call setChangeListener() once.\"), this.p = t, t(User.UNAUTHENTICATED);\n  }, t.prototype.D = function () {\n    assert(null !== this.p, \"removeChangeListener() when no listener registered\"), this.p = null;\n  }, t;\n}(),\n    __PRIVATE_FirebaseCredentialsProvider = function () {\n  function t(t) {\n    var e = this;\n    this.C = null, this.currentUser = User.UNAUTHENTICATED, this.O = !1, this.F = 0, this.p = null, this.forceRefresh = !1, this.C = function () {\n      e.F++, e.currentUser = e.N(), e.O = !0, e.p && e.p(e.currentUser);\n    }, this.F = 0, this.auth = t.getImmediate({\n      optional: !0\n    }), this.auth ? this.auth.addAuthTokenListener(this.C) : (this.C(null), t.get().then(function (t) {\n      e.auth = t, e.C && e.auth.addAuthTokenListener(e.C);\n    }, function () {}));\n  }\n\n  return t.prototype.getToken = function () {\n    var t = this;\n    assert(null != this.C, \"getToken cannot be called after listener removed.\");\n    var e = this.F,\n        n = this.forceRefresh;\n    return this.forceRefresh = !1, this.auth ? this.auth.getToken(n).then(function (n) {\n      if (t.F !== e) throw new FirestoreError(Code.ABORTED, \"getToken aborted due to token change.\");\n      return n ? (assert(\"string\" == typeof n.accessToken, \"Invalid tokenData returned from getToken():\" + n), new __PRIVATE_OAuthToken(n.accessToken, t.currentUser)) : null;\n    }) : Promise.resolve(null);\n  }, t.prototype.g = function () {\n    this.forceRefresh = !0;\n  }, t.prototype.S = function (t) {\n    assert(!this.p, \"Can only call setChangeListener() once.\"), this.p = t, this.O && t(this.currentUser);\n  }, t.prototype.D = function () {\n    assert(null != this.C, \"removeChangeListener() called twice\"), assert(null !== this.p, \"removeChangeListener() called when no listener registered\"), this.auth && this.auth.removeAuthTokenListener(this.C), this.C = null, this.p = null;\n  }, t.prototype.N = function () {\n    var t = this.auth && this.auth.getUid();\n    return assert(null === t || \"string\" == typeof t, \"Received invalid UID: \" + t), new User(t);\n  }, t;\n}(),\n    __PRIVATE_FirstPartyToken = function () {\n  function t(t, e) {\n    this.M = t, this.L = e, this.type = \"FirstParty\", this.user = User.m;\n  }\n\n  return Object.defineProperty(t.prototype, \"v\", {\n    get: function () {\n      var t = {\n        \"X-Goog-AuthUser\": this.L\n      },\n          e = this.M.auth.G([]);\n      return e && (t.Authorization = e), t;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t;\n}(),\n    __PRIVATE_FirstPartyCredentialsProvider = function () {\n  function t(t, e) {\n    this.M = t, this.L = e;\n  }\n\n  return t.prototype.getToken = function () {\n    return Promise.resolve(new __PRIVATE_FirstPartyToken(this.M, this.L));\n  }, t.prototype.S = function (t) {\n    t(User.m);\n  }, t.prototype.D = function () {}, t.prototype.g = function () {}, t;\n}();\n\nfunction __PRIVATE_makeCredentialsProvider(t) {\n  if (!t) return new __PRIVATE_EmptyCredentialsProvider();\n\n  switch (t.type) {\n    case \"gapi\":\n      var e = t.B;\n      return assert(!(\"object\" != typeof e || null === e || !e.auth || !e.auth.getAuthHeaderValueForFirstParty), \"unexpected gapi interface\"), new __PRIVATE_FirstPartyCredentialsProvider(e, t.L || \"0\");\n\n    case \"provider\":\n      return t.B;\n\n    default:\n      throw new FirestoreError(Code.INVALID_ARGUMENT, \"makeCredentialsProvider failed due to invalid credential type\");\n  }\n}\n\nfunction contains(t, e) {\n  return Object.prototype.hasOwnProperty.call(t, e);\n}\n\nfunction __PRIVATE_defaulted(t, e) {\n  return void 0 !== t ? t : e;\n}\n\nfunction __PRIVATE_forEachNumber(t, e) {\n  for (var n in t) if (Object.prototype.hasOwnProperty.call(t, n)) {\n    var r = Number(n);\n    isNaN(r) || e(r, t[n]);\n  }\n}\n\nfunction values(t) {\n  var e = [];\n  return forEach(t, function (t, n) {\n    return e.push(n);\n  }), e;\n}\n\nfunction forEach(t, e) {\n  for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && e(n, t[n]);\n}\n\nfunction __PRIVATE_isEmpty(t) {\n  for (var e in assert(null != t && \"object\" == typeof t, \"isEmpty() expects object parameter.\"), t) if (Object.prototype.hasOwnProperty.call(t, e)) return !1;\n\n  return !0;\n}\n\nfunction __PRIVATE_shallowCopy(t) {\n  assert(t && \"object\" == typeof t, \"shallowCopy() expects object parameter.\");\n  var e = {};\n\n  for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);\n\n  return e;\n}\n\nfunction __PRIVATE_validateNoArgs(t, e) {\n  if (0 !== e.length) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Function \" + t + \"() does not support arguments, but was called with \" + __PRIVATE_formatPlural(e.length, \"argument\") + \".\");\n}\n\nfunction __PRIVATE_validateExactNumberOfArgs(t, e, n) {\n  if (e.length !== n) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Function \" + t + \"() requires \" + __PRIVATE_formatPlural(n, \"argument\") + \", but was called with \" + __PRIVATE_formatPlural(e.length, \"argument\") + \".\");\n}\n\nfunction __PRIVATE_validateAtLeastNumberOfArgs(t, e, n) {\n  if (e.length < n) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Function \" + t + \"() requires at least \" + __PRIVATE_formatPlural(n, \"argument\") + \", but was called with \" + __PRIVATE_formatPlural(e.length, \"argument\") + \".\");\n}\n\nfunction __PRIVATE_validateBetweenNumberOfArgs(t, e, n, r) {\n  if (e.length < n || e.length > r) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Function \" + t + \"() requires between \" + n + \" and \" + r + \" arguments, but was called with \" + __PRIVATE_formatPlural(e.length, \"argument\") + \".\");\n}\n\nfunction __PRIVATE_validateNamedArrayAtLeastNumberOfElements(t, e, n, r) {\n  if (!(e instanceof Array) || e.length < r) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Function \" + t + \"() requires its \" + n + \" argument to be an array with at least \" + __PRIVATE_formatPlural(r, \"element\") + \".\");\n}\n\nfunction __PRIVATE_validateArgType(t, e, n, r) {\n  __PRIVATE_validateType(t, e, __PRIVATE_ordinal(n) + \" argument\", r);\n}\n\nfunction __PRIVATE_validateOptionalArgType(t, e, n, r) {\n  void 0 !== r && __PRIVATE_validateArgType(t, e, n, r);\n}\n\nfunction __PRIVATE_validateNamedType(t, e, n, r) {\n  __PRIVATE_validateType(t, e, n + \" option\", r);\n}\n\nfunction __PRIVATE_validateNamedOptionalType(t, e, n, r) {\n  void 0 !== r && __PRIVATE_validateNamedType(t, e, n, r);\n}\n\nfunction __PRIVATE_validateArrayElements(t, e, n, r, i) {\n  if (!(r instanceof Array)) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Function \" + t + \"() requires its \" + e + \" option to be an array, but it was: \" + __PRIVATE_valueDescription(r));\n\n  for (var s = 0; s < r.length; ++s) if (!i(r[s])) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Function \" + t + \"() requires all \" + e + \" elements to be \" + n + \", but the value at index \" + s + \" was: \" + __PRIVATE_valueDescription(r[s]));\n}\n\nfunction __PRIVATE_validateOptionalArrayElements(t, e, n, r, i) {\n  void 0 !== r && __PRIVATE_validateArrayElements(t, e, n, r, i);\n}\n\nfunction __PRIVATE_validateNamedPropertyEquals(t, e, n, r, i) {\n  for (var s = [], o = 0, u = i; o < u.length; o++) {\n    var a = u[o];\n    if (a === r) return;\n    s.push(__PRIVATE_valueDescription(a));\n  }\n\n  var _ = __PRIVATE_valueDescription(r);\n\n  throw new FirestoreError(Code.INVALID_ARGUMENT, \"Invalid value \" + _ + \" provided to function \" + t + '() for option \"' + n + '\". Acceptable values: ' + s.join(\", \"));\n}\n\nfunction __PRIVATE_validateNamedOptionalPropertyEquals(t, e, n, r, i) {\n  void 0 !== r && __PRIVATE_validateNamedPropertyEquals(t, e, n, r, i);\n}\n\nfunction __PRIVATE_validateStringEnum(t, e, n, r) {\n  if (!e.some(function (t) {\n    return t === r;\n  })) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Invalid value \" + __PRIVATE_valueDescription(r) + \" provided to function \" + t + \"() for its \" + __PRIVATE_ordinal(n) + \" argument. Acceptable values: \" + e.join(\", \"));\n}\n\nfunction __PRIVATE_validateType(t, e, n, r) {\n  if (!(\"object\" === e ? __PRIVATE_isPlainObject(r) : \"non-empty string\" === e ? \"string\" == typeof r && \"\" !== r : typeof r === e)) {\n    var i = __PRIVATE_valueDescription(r);\n\n    throw new FirestoreError(Code.INVALID_ARGUMENT, \"Function \" + t + \"() requires its \" + n + \" to be of type \" + e + \", but it was: \" + i);\n  }\n}\n\nfunction __PRIVATE_isPlainObject(t) {\n  return \"object\" == typeof t && null !== t && (Object.getPrototypeOf(t) === Object.prototype || null === Object.getPrototypeOf(t));\n}\n\nfunction __PRIVATE_valueDescription(t) {\n  if (void 0 === t) return \"undefined\";\n  if (null === t) return \"null\";\n  if (\"string\" == typeof t) return t.length > 20 && (t = t.substring(0, 20) + \"...\"), JSON.stringify(t);\n  if (\"number\" == typeof t || \"boolean\" == typeof t) return \"\" + t;\n\n  if (\"object\" == typeof t) {\n    if (t instanceof Array) return \"an array\";\n\n    var e = __PRIVATE_tryGetCustomObjectType(t);\n\n    return e ? \"a custom \" + e + \" object\" : \"an object\";\n  }\n\n  return \"function\" == typeof t ? \"a function\" : fail(\"Unknown wrong type: \" + typeof t);\n}\n\nfunction __PRIVATE_tryGetCustomObjectType(t) {\n  if (t.constructor) {\n    var e = /function\\s+([^\\s(]+)\\s*\\(/.exec(t.constructor.toString());\n    if (e && e.length > 1) return e[1];\n  }\n\n  return null;\n}\n\nfunction __PRIVATE_validateDefined(t, e, n) {\n  if (void 0 === n) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Function \" + t + \"() requires a valid \" + __PRIVATE_ordinal(e) + \" argument, but it was undefined.\");\n}\n\nfunction __PRIVATE_validateOptionNames(t, e, n) {\n  forEach(e, function (e, r) {\n    if (n.indexOf(e) < 0) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Unknown option '\" + e + \"' passed to function \" + t + \"(). Available options: \" + n.join(\", \"));\n  });\n}\n\nfunction __PRIVATE_invalidClassError(t, e, n, r) {\n  var i = __PRIVATE_valueDescription(r);\n\n  return new FirestoreError(Code.INVALID_ARGUMENT, \"Function \" + t + \"() requires its \" + __PRIVATE_ordinal(n) + \" argument to be a \" + e + \", but it was: \" + i);\n}\n\nfunction __PRIVATE_validatePositiveNumber(t, e, n) {\n  if (n <= 0) throw new FirestoreError(Code.INVALID_ARGUMENT, 'Function \"' + t + '()\" requires its ' + __PRIVATE_ordinal(e) + \" argument to be a positive number, but it was: \" + n + \".\");\n}\n\nfunction __PRIVATE_ordinal(t) {\n  switch (t) {\n    case 1:\n      return \"first\";\n\n    case 2:\n      return \"second\";\n\n    case 3:\n      return \"third\";\n\n    default:\n      return t + \"th\";\n  }\n}\n\nfunction __PRIVATE_formatPlural(t, e) {\n  return t + \" \" + e + (1 === t ? \"\" : \"s\");\n}\n\nvar GeoPoint = function () {\n  function t(t, e) {\n    if (__PRIVATE_validateExactNumberOfArgs(\"GeoPoint\", arguments, 2), __PRIVATE_validateArgType(\"GeoPoint\", \"number\", 1, t), __PRIVATE_validateArgType(\"GeoPoint\", \"number\", 2, e), !isFinite(t) || t < -90 || t > 90) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Latitude must be a number between -90 and 90, but was: \" + t);\n    if (!isFinite(e) || e < -180 || e > 180) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Longitude must be a number between -180 and 180, but was: \" + e);\n    this.U = t, this.k = e;\n  }\n\n  return Object.defineProperty(t.prototype, \"latitude\", {\n    get: function () {\n      return this.U;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"longitude\", {\n    get: function () {\n      return this.k;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.isEqual = function (t) {\n    return this.U === t.U && this.k === t.k;\n  }, t.prototype.K = function (t) {\n    return __PRIVATE_primitiveComparator(this.U, t.U) || __PRIVATE_primitiveComparator(this.k, t.k);\n  }, t;\n}(),\n    Timestamp = function () {\n  function t(t, e) {\n    if (this.seconds = t, this.nanoseconds = e, e < 0) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Timestamp nanoseconds out of range: \" + e);\n    if (e >= 1e9) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Timestamp nanoseconds out of range: \" + e);\n    if (t < -62135596800) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Timestamp seconds out of range: \" + t);\n    if (t >= 253402300800) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Timestamp seconds out of range: \" + t);\n  }\n\n  return t.now = function () {\n    return t.fromMillis(Date.now());\n  }, t.fromDate = function (e) {\n    return t.fromMillis(e.getTime());\n  }, t.fromMillis = function (e) {\n    var n = Math.floor(e / 1e3);\n    return new t(n, 1e6 * (e - 1e3 * n));\n  }, t.prototype.toDate = function () {\n    return new Date(this.toMillis());\n  }, t.prototype.toMillis = function () {\n    return 1e3 * this.seconds + this.nanoseconds / 1e6;\n  }, t.prototype.K = function (t) {\n    return this.seconds === t.seconds ? __PRIVATE_primitiveComparator(this.nanoseconds, t.nanoseconds) : __PRIVATE_primitiveComparator(this.seconds, t.seconds);\n  }, t.prototype.isEqual = function (t) {\n    return t.seconds === this.seconds && t.nanoseconds === this.nanoseconds;\n  }, t.prototype.toString = function () {\n    return \"Timestamp(seconds=\" + this.seconds + \", nanoseconds=\" + this.nanoseconds + \")\";\n  }, t;\n}(),\n    __PRIVATE_SnapshotVersion = function () {\n  function t(t) {\n    this.timestamp = t;\n  }\n\n  return t.j = function (e) {\n    var n = Math.floor(e / 1e6);\n    return new t(new Timestamp(n, e % 1e6 * 1e3));\n  }, t.q = function (e) {\n    return new t(e);\n  }, t.W = function () {\n    return t.MIN;\n  }, t.prototype._ = function (t) {\n    return this.timestamp.K(t.timestamp);\n  }, t.prototype.isEqual = function (t) {\n    return this.timestamp.isEqual(t.timestamp);\n  }, t.prototype.$ = function () {\n    return 1e6 * this.timestamp.seconds + this.timestamp.nanoseconds / 1e3;\n  }, t.prototype.toString = function () {\n    return \"SnapshotVersion(\" + this.timestamp.toString() + \")\";\n  }, t.prototype.Y = function () {\n    return this.timestamp;\n  }, t.MIN = new t(new Timestamp(0, 0)), t;\n}(),\n    __PRIVATE_DOCUMENT_KEY_NAME = \"__name__\",\n    __PRIVATE_BasePath = function () {\n  function t(t, e, n) {\n    void 0 === e ? e = 0 : e > t.length && fail(\"offset \" + e + \" out of range \" + t.length), void 0 === n ? n = t.length - e : n > t.length - e && fail(\"length \" + n + \" out of range \" + (t.length - e)), this.segments = t, this.offset = e, this.len = n;\n  }\n\n  return Object.defineProperty(t.prototype, \"length\", {\n    get: function () {\n      return this.len;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.isEqual = function (e) {\n    return 0 === t.H(this, e);\n  }, t.prototype.child = function (e) {\n    var n = this.segments.slice(this.offset, this.limit());\n    return e instanceof t ? e.forEach(function (t) {\n      n.push(t);\n    }) : n.push(e), this.X(n);\n  }, t.prototype.limit = function () {\n    return this.offset + this.length;\n  }, t.prototype.J = function (t) {\n    return t = void 0 === t ? 1 : t, assert(this.length >= t, \"Can't call popFirst() with less segments\"), this.X(this.segments, this.offset + t, this.length - t);\n  }, t.prototype.Z = function () {\n    return assert(!this.tt(), \"Can't call popLast() on empty path\"), this.X(this.segments, this.offset, this.length - 1);\n  }, t.prototype.et = function () {\n    return assert(!this.tt(), \"Can't call firstSegment() on empty path\"), this.segments[this.offset];\n  }, t.prototype.nt = function () {\n    return this.get(this.length - 1);\n  }, t.prototype.get = function (t) {\n    return assert(t < this.length, \"Index out of range\"), this.segments[this.offset + t];\n  }, t.prototype.tt = function () {\n    return 0 === this.length;\n  }, t.prototype.rt = function (t) {\n    if (t.length < this.length) return !1;\n\n    for (var e = 0; e < this.length; e++) if (this.get(e) !== t.get(e)) return !1;\n\n    return !0;\n  }, t.prototype.it = function (t) {\n    if (this.length + 1 !== t.length) return !1;\n\n    for (var e = 0; e < this.length; e++) if (this.get(e) !== t.get(e)) return !1;\n\n    return !0;\n  }, t.prototype.forEach = function (t) {\n    for (var e = this.offset, n = this.limit(); e < n; e++) t(this.segments[e]);\n  }, t.prototype.st = function () {\n    return this.segments.slice(this.offset, this.limit());\n  }, t.H = function (t, e) {\n    for (var n = Math.min(t.length, e.length), r = 0; r < n; r++) {\n      var i = t.get(r),\n          s = e.get(r);\n      if (i < s) return -1;\n      if (i > s) return 1;\n    }\n\n    return t.length < e.length ? -1 : t.length > e.length ? 1 : 0;\n  }, t;\n}(),\n    ResourcePath = function (t) {\n  function e() {\n    return null !== t && t.apply(this, arguments) || this;\n  }\n\n  return tslib.__extends(e, t), e.prototype.X = function (t, n, r) {\n    return new e(t, n, r);\n  }, e.prototype.ot = function () {\n    return this.st().join(\"/\");\n  }, e.prototype.toString = function () {\n    return this.ot();\n  }, e.ut = function (t) {\n    if (t.indexOf(\"//\") >= 0) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Invalid path (\" + t + \"). Paths must not contain // in them.\");\n    return new e(t.split(\"/\").filter(function (t) {\n      return t.length > 0;\n    }));\n  }, e.at = new e([]), e;\n}(__PRIVATE_BasePath),\n    __PRIVATE_identifierRegExp = /^[_a-zA-Z][_a-zA-Z0-9]*$/,\n    FieldPath = function (t) {\n  function e() {\n    return null !== t && t.apply(this, arguments) || this;\n  }\n\n  return tslib.__extends(e, t), e.prototype.X = function (t, n, r) {\n    return new e(t, n, r);\n  }, e._t = function (t) {\n    return __PRIVATE_identifierRegExp.test(t);\n  }, e.prototype.ot = function () {\n    return this.st().map(function (t) {\n      return t = t.replace(\"\\\\\", \"\\\\\\\\\").replace(\"`\", \"\\\\`\"), e._t(t) || (t = \"`\" + t + \"`\"), t;\n    }).join(\".\");\n  }, e.prototype.toString = function () {\n    return this.ot();\n  }, e.prototype.ct = function () {\n    return 1 === this.length && this.get(0) === __PRIVATE_DOCUMENT_KEY_NAME;\n  }, e.ht = function () {\n    return new e([__PRIVATE_DOCUMENT_KEY_NAME]);\n  }, e.ft = function (t) {\n    for (var n = [], r = \"\", i = 0, s = function () {\n      if (0 === r.length) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Invalid field path (\" + t + \"). Paths must not be empty, begin with '.', end with '.', or contain '..'\");\n      n.push(r), r = \"\";\n    }, o = !1; i < t.length;) {\n      var u = t[i];\n\n      if (\"\\\\\" === u) {\n        if (i + 1 === t.length) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Path has trailing escape character: \" + t);\n        var a = t[i + 1];\n        if (\"\\\\\" !== a && \".\" !== a && \"`\" !== a) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Path has invalid escape sequence: \" + t);\n        r += a, i += 2;\n      } else \"`\" === u ? (o = !o, i++) : \".\" !== u || o ? (r += u, i++) : (s(), i++);\n    }\n\n    if (s(), o) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Unterminated ` in path: \" + t);\n    return new e(n);\n  }, e.at = new e([]), e;\n}(__PRIVATE_BasePath),\n    __PRIVATE_DocumentKey = function () {\n  function t(e) {\n    this.path = e, assert(t.lt(e), \"Invalid DocumentKey with an odd number of segments: \" + e.st().join(\"/\"));\n  }\n\n  return t.prototype.dt = function (t) {\n    return this.path.length >= 2 && this.path.get(this.path.length - 2) === t;\n  }, t.prototype.isEqual = function (t) {\n    return null !== t && 0 === ResourcePath.H(this.path, t.path);\n  }, t.prototype.toString = function () {\n    return this.path.toString();\n  }, t.H = function (t, e) {\n    return ResourcePath.H(t.path, e.path);\n  }, t.lt = function (t) {\n    return t.length % 2 == 0;\n  }, t.Tt = function (e) {\n    return new t(new ResourcePath(e.slice()));\n  }, t.Et = function (e) {\n    return new t(ResourcePath.ut(e));\n  }, t.EMPTY = new t(new ResourcePath([])), t;\n}(),\n    __PRIVATE_SortedMap = function () {\n  function t(t, e) {\n    this.H = t, this.root = e || __PRIVATE_LLRBNode.EMPTY;\n  }\n\n  return t.prototype.Pt = function (e, n) {\n    return new t(this.H, this.root.Pt(e, n, this.H).copy(null, null, __PRIVATE_LLRBNode.At, null, null));\n  }, t.prototype.remove = function (e) {\n    return new t(this.H, this.root.remove(e, this.H).copy(null, null, __PRIVATE_LLRBNode.At, null, null));\n  }, t.prototype.get = function (t) {\n    for (var e = this.root; !e.tt();) {\n      var n = this.H(t, e.key);\n      if (0 === n) return e.value;\n      n < 0 ? e = e.left : n > 0 && (e = e.right);\n    }\n\n    return null;\n  }, t.prototype.indexOf = function (t) {\n    for (var e = 0, n = this.root; !n.tt();) {\n      var r = this.H(t, n.key);\n      if (0 === r) return e + n.left.size;\n      r < 0 ? n = n.left : (e += n.left.size + 1, n = n.right);\n    }\n\n    return -1;\n  }, t.prototype.tt = function () {\n    return this.root.tt();\n  }, Object.defineProperty(t.prototype, \"size\", {\n    get: function () {\n      return this.root.size;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.Rt = function () {\n    return this.root.Rt();\n  }, t.prototype.It = function () {\n    return this.root.It();\n  }, t.prototype.Vt = function (t) {\n    return this.root.Vt(t);\n  }, t.prototype.forEach = function (t) {\n    this.Vt(function (e, n) {\n      return t(e, n), !1;\n    });\n  }, t.prototype.toString = function () {\n    var t = [];\n    return this.Vt(function (e, n) {\n      return t.push(e + \":\" + n), !1;\n    }), \"{\" + t.join(\", \") + \"}\";\n  }, t.prototype.vt = function (t) {\n    return this.root.vt(t);\n  }, t.prototype.pt = function () {\n    return new __PRIVATE_SortedMapIterator(this.root, null, this.H, !1);\n  }, t.prototype.bt = function (t) {\n    return new __PRIVATE_SortedMapIterator(this.root, t, this.H, !1);\n  }, t.prototype.gt = function () {\n    return new __PRIVATE_SortedMapIterator(this.root, null, this.H, !0);\n  }, t.prototype.wt = function (t) {\n    return new __PRIVATE_SortedMapIterator(this.root, t, this.H, !0);\n  }, t;\n}(),\n    __PRIVATE_SortedMapIterator = function () {\n  function t(t, e, n, r) {\n    this.yt = r, this.St = [];\n\n    for (var i = 1; !t.tt();) if (i = e ? n(t.key, e) : 1, r && (i *= -1), i < 0) t = this.yt ? t.left : t.right;else {\n      if (0 === i) {\n        this.St.push(t);\n        break;\n      }\n\n      this.St.push(t), t = this.yt ? t.right : t.left;\n    }\n  }\n\n  return t.prototype.Dt = function () {\n    assert(this.St.length > 0, \"getNext() called on iterator when hasNext() is false.\");\n    var t = this.St.pop(),\n        e = {\n      key: t.key,\n      value: t.value\n    };\n    if (this.yt) for (t = t.left; !t.tt();) this.St.push(t), t = t.right;else for (t = t.right; !t.tt();) this.St.push(t), t = t.left;\n    return e;\n  }, t.prototype.Ct = function () {\n    return this.St.length > 0;\n  }, t.prototype.Ot = function () {\n    if (0 === this.St.length) return null;\n    var t = this.St[this.St.length - 1];\n    return {\n      key: t.key,\n      value: t.value\n    };\n  }, t;\n}(),\n    __PRIVATE_LLRBNode = function () {\n  function t(e, n, r, i, s) {\n    this.key = e, this.value = n, this.color = null != r ? r : t.RED, this.left = null != i ? i : t.EMPTY, this.right = null != s ? s : t.EMPTY, this.size = this.left.size + 1 + this.right.size;\n  }\n\n  return t.prototype.copy = function (e, n, r, i, s) {\n    return new t(null != e ? e : this.key, null != n ? n : this.value, null != r ? r : this.color, null != i ? i : this.left, null != s ? s : this.right);\n  }, t.prototype.tt = function () {\n    return !1;\n  }, t.prototype.Vt = function (t) {\n    return this.left.Vt(t) || t(this.key, this.value) || this.right.Vt(t);\n  }, t.prototype.vt = function (t) {\n    return this.right.vt(t) || t(this.key, this.value) || this.left.vt(t);\n  }, t.prototype.min = function () {\n    return this.left.tt() ? this : this.left.min();\n  }, t.prototype.Rt = function () {\n    return this.min().key;\n  }, t.prototype.It = function () {\n    return this.right.tt() ? this.key : this.right.It();\n  }, t.prototype.Pt = function (t, e, n) {\n    var r = this,\n        i = n(t, r.key);\n    return (r = i < 0 ? r.copy(null, null, null, r.left.Pt(t, e, n), null) : 0 === i ? r.copy(null, e, null, null, null) : r.copy(null, null, null, null, r.right.Pt(t, e, n))).Ft();\n  }, t.prototype.Nt = function () {\n    if (this.left.tt()) return t.EMPTY;\n    var e = this;\n    return e.left.Mt() || e.left.left.Mt() || (e = e.Lt()), (e = e.copy(null, null, null, e.left.Nt(), null)).Ft();\n  }, t.prototype.remove = function (e, n) {\n    var r,\n        i = this;\n    if (n(e, i.key) < 0) i.left.tt() || i.left.Mt() || i.left.left.Mt() || (i = i.Lt()), i = i.copy(null, null, null, i.left.remove(e, n), null);else {\n      if (i.left.Mt() && (i = i.Gt()), i.right.tt() || i.right.Mt() || i.right.left.Mt() || (i = i.Bt()), 0 === n(e, i.key)) {\n        if (i.right.tt()) return t.EMPTY;\n        r = i.right.min(), i = i.copy(r.key, r.value, null, null, i.right.Nt());\n      }\n\n      i = i.copy(null, null, null, null, i.right.remove(e, n));\n    }\n    return i.Ft();\n  }, t.prototype.Mt = function () {\n    return this.color;\n  }, t.prototype.Ft = function () {\n    var t = this;\n    return t.right.Mt() && !t.left.Mt() && (t = t.Ut()), t.left.Mt() && t.left.left.Mt() && (t = t.Gt()), t.left.Mt() && t.right.Mt() && (t = t.kt()), t;\n  }, t.prototype.Lt = function () {\n    var t = this.kt();\n    return t.right.left.Mt() && (t = (t = (t = t.copy(null, null, null, null, t.right.Gt())).Ut()).kt()), t;\n  }, t.prototype.Bt = function () {\n    var t = this.kt();\n    return t.left.left.Mt() && (t = (t = t.Gt()).kt()), t;\n  }, t.prototype.Ut = function () {\n    var e = this.copy(null, null, t.RED, null, this.right.left);\n    return this.right.copy(null, null, this.color, e, null);\n  }, t.prototype.Gt = function () {\n    var e = this.copy(null, null, t.RED, this.left.right, null);\n    return this.left.copy(null, null, this.color, null, e);\n  }, t.prototype.kt = function () {\n    var t = this.left.copy(null, null, !this.left.color, null, null),\n        e = this.right.copy(null, null, !this.right.color, null, null);\n    return this.copy(null, null, !this.color, t, e);\n  }, t.prototype.xt = function () {\n    var t = this.Kt();\n    return Math.pow(2, t) <= this.size + 1;\n  }, t.prototype.Kt = function () {\n    if (this.Mt() && this.left.Mt()) throw fail(\"Red node has red child(\" + this.key + \",\" + this.value + \")\");\n    if (this.right.Mt()) throw fail(\"Right child of (\" + this.key + \",\" + this.value + \") is red\");\n    var t = this.left.Kt();\n    if (t !== this.right.Kt()) throw fail(\"Black depths differ\");\n    return t + (this.Mt() ? 0 : 1);\n  }, t.EMPTY = null, t.RED = !0, t.At = !1, t;\n}(),\n    __PRIVATE_LLRBEmptyNode = function () {\n  function t() {\n    this.size = 0;\n  }\n\n  return Object.defineProperty(t.prototype, \"key\", {\n    get: function () {\n      throw fail(\"LLRBEmptyNode has no key.\");\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"value\", {\n    get: function () {\n      throw fail(\"LLRBEmptyNode has no value.\");\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"color\", {\n    get: function () {\n      throw fail(\"LLRBEmptyNode has no color.\");\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"left\", {\n    get: function () {\n      throw fail(\"LLRBEmptyNode has no left child.\");\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"right\", {\n    get: function () {\n      throw fail(\"LLRBEmptyNode has no right child.\");\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.copy = function (t, e, n, r, i) {\n    return this;\n  }, t.prototype.Pt = function (t, e, n) {\n    return new __PRIVATE_LLRBNode(t, e);\n  }, t.prototype.remove = function (t, e) {\n    return this;\n  }, t.prototype.tt = function () {\n    return !0;\n  }, t.prototype.Vt = function (t) {\n    return !1;\n  }, t.prototype.vt = function (t) {\n    return !1;\n  }, t.prototype.Rt = function () {\n    return null;\n  }, t.prototype.It = function () {\n    return null;\n  }, t.prototype.Mt = function () {\n    return !1;\n  }, t.prototype.xt = function () {\n    return !0;\n  }, t.prototype.Kt = function () {\n    return 0;\n  }, t;\n}();\n\n__PRIVATE_LLRBNode.EMPTY = new __PRIVATE_LLRBEmptyNode();\n\nvar __PRIVATE_SortedSet = function () {\n  function t(t) {\n    this.H = t, this.data = new __PRIVATE_SortedMap(this.H);\n  }\n\n  return t.jt = function (e) {\n    var n = new t(e.H);\n    return e.forEach(function (t) {\n      n = n.add(t);\n    }), n;\n  }, t.prototype.has = function (t) {\n    return null !== this.data.get(t);\n  }, t.prototype.first = function () {\n    return this.data.Rt();\n  }, t.prototype.last = function () {\n    return this.data.It();\n  }, Object.defineProperty(t.prototype, \"size\", {\n    get: function () {\n      return this.data.size;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.indexOf = function (t) {\n    return this.data.indexOf(t);\n  }, t.prototype.forEach = function (t) {\n    this.data.Vt(function (e, n) {\n      return t(e), !1;\n    });\n  }, t.prototype.qt = function (t, e) {\n    for (var n = this.data.bt(t[0]); n.Ct();) {\n      var r = n.Dt();\n      if (this.H(r.key, t[1]) >= 0) return;\n      e(r.key);\n    }\n  }, t.prototype.Qt = function (t, e) {\n    var n;\n\n    for (n = void 0 !== e ? this.data.bt(e) : this.data.pt(); n.Ct();) {\n      if (!t(n.Dt().key)) return;\n    }\n  }, t.prototype.Wt = function (t) {\n    var e = this.data.bt(t);\n    return e.Ct() ? e.Dt().key : null;\n  }, t.prototype.pt = function () {\n    return new __PRIVATE_SortedSetIterator(this.data.pt());\n  }, t.prototype.bt = function (t) {\n    return new __PRIVATE_SortedSetIterator(this.data.bt(t));\n  }, t.prototype.add = function (t) {\n    return this.copy(this.data.remove(t).Pt(t, !0));\n  }, t.prototype.delete = function (t) {\n    return this.has(t) ? this.copy(this.data.remove(t)) : this;\n  }, t.prototype.tt = function () {\n    return this.data.tt();\n  }, t.prototype.$t = function (t) {\n    var e = this;\n    return e.size < t.size && (e = t, t = this), t.forEach(function (t) {\n      e = e.add(t);\n    }), e;\n  }, t.prototype.isEqual = function (e) {\n    if (!(e instanceof t)) return !1;\n    if (this.size !== e.size) return !1;\n\n    for (var n = this.data.pt(), r = e.data.pt(); n.Ct();) {\n      var i = n.Dt().key,\n          s = r.Dt().key;\n      if (0 !== this.H(i, s)) return !1;\n    }\n\n    return !0;\n  }, t.prototype.st = function () {\n    var t = [];\n    return this.forEach(function (e) {\n      t.push(e);\n    }), t;\n  }, t.prototype.toString = function () {\n    var t = [];\n    return this.forEach(function (e) {\n      return t.push(e);\n    }), \"SortedSet(\" + t.toString() + \")\";\n  }, t.prototype.copy = function (e) {\n    var n = new t(this.H);\n    return n.data = e, n;\n  }, t;\n}(),\n    __PRIVATE_SortedSetIterator = function () {\n  function t(t) {\n    this.Yt = t;\n  }\n\n  return t.prototype.Dt = function () {\n    return this.Yt.Dt().key;\n  }, t.prototype.Ct = function () {\n    return this.Yt.Ct();\n  }, t;\n}(),\n    __PRIVATE_ServerTimestampTransform = function () {\n  function t() {}\n\n  return t.prototype.Ht = function (t, e) {\n    return new __PRIVATE_ServerTimestampValue(e, t);\n  }, t.prototype.Xt = function (t, e) {\n    return e;\n  }, t.prototype.zt = function (t) {\n    return null;\n  }, t.prototype.isEqual = function (e) {\n    return e instanceof t;\n  }, t.instance = new t(), t;\n}(),\n    __PRIVATE_ArrayUnionTransformOperation = function () {\n  function t(t) {\n    this.elements = t;\n  }\n\n  return t.prototype.Ht = function (t, e) {\n    return this.apply(t);\n  }, t.prototype.Xt = function (t, e) {\n    return this.apply(t);\n  }, t.prototype.apply = function (t) {\n    for (var e = __PRIVATE_coercedFieldValuesArray(t), n = function (t) {\n      e.find(function (e) {\n        return e.isEqual(t);\n      }) || e.push(t);\n    }, r = 0, i = this.elements; r < i.length; r++) {\n      n(i[r]);\n    }\n\n    return new ArrayValue(e);\n  }, t.prototype.zt = function (t) {\n    return null;\n  }, t.prototype.isEqual = function (e) {\n    return e instanceof t && __PRIVATE_arrayEquals(e.elements, this.elements);\n  }, t;\n}(),\n    __PRIVATE_ArrayRemoveTransformOperation = function () {\n  function t(t) {\n    this.elements = t;\n  }\n\n  return t.prototype.Ht = function (t, e) {\n    return this.apply(t);\n  }, t.prototype.Xt = function (t, e) {\n    return this.apply(t);\n  }, t.prototype.apply = function (t) {\n    for (var e = __PRIVATE_coercedFieldValuesArray(t), n = function (t) {\n      e = e.filter(function (e) {\n        return !e.isEqual(t);\n      });\n    }, r = 0, i = this.elements; r < i.length; r++) {\n      n(i[r]);\n    }\n\n    return new ArrayValue(e);\n  }, t.prototype.zt = function (t) {\n    return null;\n  }, t.prototype.isEqual = function (e) {\n    return e instanceof t && __PRIVATE_arrayEquals(e.elements, this.elements);\n  }, t;\n}(),\n    __PRIVATE_NumericIncrementTransformOperation = function () {\n  function t(t) {\n    this.Jt = t;\n  }\n\n  return t.prototype.Ht = function (t, e) {\n    var n = this.zt(t);\n\n    if (n instanceof __PRIVATE_IntegerValue && this.Jt instanceof __PRIVATE_IntegerValue) {\n      var r = n.Zt + this.Jt.Zt;\n      return new __PRIVATE_IntegerValue(r);\n    }\n\n    r = n.Zt + this.Jt.Zt;\n    return new __PRIVATE_DoubleValue(r);\n  }, t.prototype.Xt = function (t, e) {\n    return assert(null !== e, \"Didn't receive transformResult for NUMERIC_ADD transform\"), e;\n  }, t.prototype.zt = function (t) {\n    return t instanceof __PRIVATE_NumberValue ? t : new __PRIVATE_IntegerValue(0);\n  }, t.prototype.isEqual = function (e) {\n    return e instanceof t && this.Jt.isEqual(e.Jt);\n  }, t;\n}();\n\nfunction __PRIVATE_coercedFieldValuesArray(t) {\n  return t instanceof ArrayValue ? t.Zt.slice() : [];\n}\n\nvar __PRIVATE_MutationType,\n    __PRIVATE_FieldMask = function () {\n  function t(t) {\n    this.fields = t;\n  }\n\n  return t.te = function (e) {\n    return new t(e);\n  }, t.ee = function (e) {\n    var n = new __PRIVATE_SortedSet(FieldPath.H);\n    return e.forEach(function (t) {\n      return n = n.add(t);\n    }), new t(n);\n  }, t.prototype.ne = function (t) {\n    var e = !1;\n    return this.fields.forEach(function (n) {\n      n.rt(t) && (e = !0);\n    }), e;\n  }, t.prototype.isEqual = function (t) {\n    return this.fields.isEqual(t.fields);\n  }, t;\n}(),\n    FieldTransform = function () {\n  function t(t, e) {\n    this.field = t, this.transform = e;\n  }\n\n  return t.prototype.isEqual = function (t) {\n    return this.field.isEqual(t.field) && this.transform.isEqual(t.transform);\n  }, t;\n}(),\n    __PRIVATE_MutationResult = function (t, e) {\n  this.version = t, this.transformResults = e;\n};\n\n!function (t) {\n  t[t.Set = 0] = \"Set\", t[t.re = 1] = \"__PRIVATE_Patch\", t[t.Transform = 2] = \"Transform\", t[t.ie = 3] = \"__PRIVATE_Delete\", t[t.Verify = 4] = \"Verify\";\n}(__PRIVATE_MutationType || (__PRIVATE_MutationType = {}));\n\nvar __PRIVATE_TypeOrder,\n    __PRIVATE_ServerTimestampBehavior,\n    Precondition = function () {\n  function t(t, e) {\n    this.updateTime = t, this.exists = e, assert(void 0 === t || void 0 === e, 'Precondition can specify \"exists\" or \"updateTime\" but not both');\n  }\n\n  return t.exists = function (e) {\n    return new t(void 0, e);\n  }, t.updateTime = function (e) {\n    return new t(e);\n  }, Object.defineProperty(t.prototype, \"se\", {\n    get: function () {\n      return void 0 === this.updateTime && void 0 === this.exists;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.oe = function (t) {\n    return void 0 !== this.updateTime ? t instanceof Document && t.version.isEqual(this.updateTime) : void 0 !== this.exists ? this.exists === t instanceof Document : (assert(this.se, \"Precondition should be empty\"), !0);\n  }, t.prototype.isEqual = function (t) {\n    return equals(this.updateTime, t.updateTime) && this.exists === t.exists;\n  }, t.NONE = new t(), t;\n}(),\n    __PRIVATE_Mutation = function () {\n  function t() {}\n\n  return t.prototype.ue = function (t) {\n    null != t && assert(t.key.isEqual(this.key), \"Can only apply a mutation to a document with the same key\");\n  }, t.ae = function (t) {\n    return t instanceof Document ? t.version : __PRIVATE_SnapshotVersion.MIN;\n  }, t;\n}(),\n    __PRIVATE_SetMutation = function (t) {\n  function e(e, n, r) {\n    var i = t.call(this) || this;\n    return i.key = e, i.value = n, i._e = r, i.type = __PRIVATE_MutationType.Set, i;\n  }\n\n  return tslib.__extends(e, t), e.prototype.Xt = function (t, e) {\n    this.ue(t), assert(null == e.transformResults, \"Transform results received by SetMutation.\");\n    var n = e.version;\n    return new Document(this.key, n, {\n      hasCommittedMutations: !0\n    }, this.value);\n  }, e.prototype.Ht = function (t, e, n) {\n    if (this.ue(t), !this._e.oe(t)) return t;\n\n    var r = __PRIVATE_Mutation.ae(t);\n\n    return new Document(this.key, r, {\n      ce: !0\n    }, this.value);\n  }, e.prototype.he = function (t) {\n    return null;\n  }, e.prototype.isEqual = function (t) {\n    return t instanceof e && this.key.isEqual(t.key) && this.value.isEqual(t.value) && this._e.isEqual(t._e);\n  }, e;\n}(__PRIVATE_Mutation),\n    __PRIVATE_PatchMutation = function (t) {\n  function e(e, n, r, i) {\n    var s = t.call(this) || this;\n    return s.key = e, s.data = n, s.fe = r, s._e = i, s.type = __PRIVATE_MutationType.re, s;\n  }\n\n  return tslib.__extends(e, t), e.prototype.Xt = function (t, e) {\n    if (this.ue(t), assert(null == e.transformResults, \"Transform results received by PatchMutation.\"), !this._e.oe(t)) return new __PRIVATE_UnknownDocument(this.key, e.version);\n    var n = this.le(t);\n    return new Document(this.key, e.version, {\n      hasCommittedMutations: !0\n    }, n);\n  }, e.prototype.Ht = function (t, e, n) {\n    if (this.ue(t), !this._e.oe(t)) return t;\n\n    var r = __PRIVATE_Mutation.ae(t),\n        i = this.le(t);\n\n    return new Document(this.key, r, {\n      ce: !0\n    }, i);\n  }, e.prototype.he = function (t) {\n    return null;\n  }, e.prototype.isEqual = function (t) {\n    return t instanceof e && this.key.isEqual(t.key) && this.fe.isEqual(t.fe) && this._e.isEqual(t._e);\n  }, e.prototype.le = function (t) {\n    var e;\n    return e = t instanceof Document ? t.data() : __PRIVATE_ObjectValue.EMPTY, this.de(e);\n  }, e.prototype.de = function (t) {\n    var e = this;\n    return this.fe.fields.forEach(function (n) {\n      if (!n.tt()) {\n        var r = e.data.field(n);\n        t = null !== r ? t.set(n, r) : t.delete(n);\n      }\n    }), t;\n  }, e;\n}(__PRIVATE_Mutation),\n    __PRIVATE_TransformMutation = function (t) {\n  function e(e, n) {\n    var r = t.call(this) || this;\n    return r.key = e, r.fieldTransforms = n, r.type = __PRIVATE_MutationType.Transform, r._e = Precondition.exists(!0), r;\n  }\n\n  return tslib.__extends(e, t), e.prototype.Xt = function (t, e) {\n    if (this.ue(t), assert(null != e.transformResults, \"Transform results missing for TransformMutation.\"), !this._e.oe(t)) return new __PRIVATE_UnknownDocument(this.key, e.version);\n    var n = this.Te(t),\n        r = this.Ee(t, e.transformResults),\n        i = e.version,\n        s = this.Pe(n.data(), r);\n    return new Document(this.key, i, {\n      hasCommittedMutations: !0\n    }, s);\n  }, e.prototype.Ht = function (t, e, n) {\n    if (this.ue(t), !this._e.oe(t)) return t;\n    var r = this.Te(t),\n        i = this.Ae(n, t, e),\n        s = this.Pe(r.data(), i);\n    return new Document(this.key, r.version, {\n      ce: !0\n    }, s);\n  }, e.prototype.he = function (t) {\n    for (var e = null, n = 0, r = this.fieldTransforms; n < r.length; n++) {\n      var i = r[n],\n          s = t instanceof Document ? t.field(i.field) : void 0,\n          o = i.transform.zt(s || null);\n      null != o && (e = null == e ? __PRIVATE_ObjectValue.EMPTY.set(i.field, o) : e.set(i.field, o));\n    }\n\n    return e;\n  }, e.prototype.isEqual = function (t) {\n    return t instanceof e && this.key.isEqual(t.key) && __PRIVATE_arrayEquals(this.fieldTransforms, t.fieldTransforms) && this._e.isEqual(t._e);\n  }, e.prototype.Te = function (t) {\n    return assert(t instanceof Document, \"Unknown MaybeDocument type \" + t), assert(t.key.isEqual(this.key), \"Can only transform a document with the same key\"), t;\n  }, e.prototype.Ee = function (t, e) {\n    var n = [];\n    assert(this.fieldTransforms.length === e.length, \"server transform result count (\" + e.length + \") should match field transform count (\" + this.fieldTransforms.length + \")\");\n\n    for (var r = 0; r < e.length; r++) {\n      var i = this.fieldTransforms[r],\n          s = i.transform,\n          o = null;\n      t instanceof Document && (o = t.field(i.field)), n.push(s.Xt(o, e[r]));\n    }\n\n    return n;\n  }, e.prototype.Ae = function (t, e, n) {\n    for (var r = [], i = 0, s = this.fieldTransforms; i < s.length; i++) {\n      var o = s[i],\n          u = o.transform,\n          a = null;\n      e instanceof Document && (a = e.field(o.field)), null === a && n instanceof Document && (a = n.field(o.field)), r.push(u.Ht(a, t));\n    }\n\n    return r;\n  }, e.prototype.Pe = function (t, e) {\n    assert(e.length === this.fieldTransforms.length, \"TransformResults length mismatch.\");\n\n    for (var n = 0; n < this.fieldTransforms.length; n++) {\n      var r = this.fieldTransforms[n].field;\n      t = t.set(r, e[n]);\n    }\n\n    return t;\n  }, e;\n}(__PRIVATE_Mutation),\n    __PRIVATE_DeleteMutation = function (t) {\n  function e(e, n) {\n    var r = t.call(this) || this;\n    return r.key = e, r._e = n, r.type = __PRIVATE_MutationType.ie, r;\n  }\n\n  return tslib.__extends(e, t), e.prototype.Xt = function (t, e) {\n    return this.ue(t), assert(null == e.transformResults, \"Transform results received by DeleteMutation.\"), new __PRIVATE_NoDocument(this.key, e.version, {\n      hasCommittedMutations: !0\n    });\n  }, e.prototype.Ht = function (t, e, n) {\n    return this.ue(t), this._e.oe(t) ? (t && assert(t.key.isEqual(this.key), \"Can only apply mutation to document with same key\"), new __PRIVATE_NoDocument(this.key, __PRIVATE_SnapshotVersion.W())) : t;\n  }, e.prototype.he = function (t) {\n    return null;\n  }, e.prototype.isEqual = function (t) {\n    return t instanceof e && this.key.isEqual(t.key) && this._e.isEqual(t._e);\n  }, e;\n}(__PRIVATE_Mutation),\n    __PRIVATE_VerifyMutation = function (t) {\n  function e(e, n) {\n    var r = t.call(this) || this;\n    return r.key = e, r._e = n, r.type = __PRIVATE_MutationType.Verify, r;\n  }\n\n  return tslib.__extends(e, t), e.prototype.Xt = function (t, e) {\n    fail(\"VerifyMutation should only be used in Transactions.\");\n  }, e.prototype.Ht = function (t, e, n) {\n    fail(\"VerifyMutation should only be used in Transactions.\");\n  }, e.prototype.he = function (t) {\n    fail(\"VerifyMutation should only be used in Transactions.\");\n  }, e.prototype.isEqual = function (t) {\n    return t instanceof e && this.key.isEqual(t.key) && this._e.isEqual(t._e);\n  }, e;\n}(__PRIVATE_Mutation);\n\n!function (t) {\n  t[t.Re = 0] = \"__PRIVATE_NullValue\", t[t.Ie = 1] = \"__PRIVATE_BooleanValue\", t[t.Ve = 2] = \"__PRIVATE_NumberValue\", t[t.me = 3] = \"__PRIVATE_TimestampValue\", t[t.ve = 4] = \"__PRIVATE_StringValue\", t[t.pe = 5] = \"__PRIVATE_BlobValue\", t[t.be = 6] = \"__PRIVATE_RefValue\", t[t.ge = 7] = \"__PRIVATE_GeoPointValue\", t[t.ArrayValue = 8] = \"ArrayValue\", t[t.we = 9] = \"__PRIVATE_ObjectValue\";\n}(__PRIVATE_TypeOrder || (__PRIVATE_TypeOrder = {})), function (t) {\n  t[t.ye = 0] = \"__PRIVATE_Default\", t[t.Se = 1] = \"__PRIVATE_Estimate\", t[t.De = 2] = \"__PRIVATE_Previous\";\n}(__PRIVATE_ServerTimestampBehavior || (__PRIVATE_ServerTimestampBehavior = {}));\n\nvar __PRIVATE_FieldValueOptions = function () {\n  function t(t, e) {\n    this.Ce = t, this.timestampsInSnapshots = e;\n  }\n\n  return t.Oe = function (e, n) {\n    switch (e.serverTimestamps) {\n      case \"estimate\":\n        return new t(__PRIVATE_ServerTimestampBehavior.Se, n);\n\n      case \"previous\":\n        return new t(__PRIVATE_ServerTimestampBehavior.De, n);\n\n      case \"none\":\n      case void 0:\n        return new t(__PRIVATE_ServerTimestampBehavior.ye, n);\n\n      default:\n        return fail(\"fromSnapshotOptions() called with invalid options.\");\n    }\n  }, t;\n}(),\n    FieldValue = function () {\n  function t() {}\n\n  return t.prototype.toString = function () {\n    var t = this.value();\n    return null === t ? \"null\" : t.toString();\n  }, t.prototype.Fe = function (t) {\n    return assert(this.Ne !== t.Ne, \"Default compareTo should not be used for values of same type.\"), __PRIVATE_primitiveComparator(this.Ne, t.Ne);\n  }, t;\n}(),\n    __PRIVATE_NullValue = function (t) {\n  function e() {\n    var e = t.call(this) || this;\n    return e.Ne = __PRIVATE_TypeOrder.Re, e.Zt = null, e;\n  }\n\n  return tslib.__extends(e, t), e.prototype.value = function (t) {\n    return null;\n  }, e.prototype.isEqual = function (t) {\n    return t instanceof e;\n  }, e.prototype._ = function (t) {\n    return t instanceof e ? 0 : this.Fe(t);\n  }, e.prototype.Me = function () {\n    return 4;\n  }, e.Le = new e(), e;\n}(FieldValue),\n    __PRIVATE_BooleanValue = function (t) {\n  function e(e) {\n    var n = t.call(this) || this;\n    return n.Zt = e, n.Ne = __PRIVATE_TypeOrder.Ie, n;\n  }\n\n  return tslib.__extends(e, t), e.prototype.value = function (t) {\n    return this.Zt;\n  }, e.prototype.isEqual = function (t) {\n    return t instanceof e && this.Zt === t.Zt;\n  }, e.prototype._ = function (t) {\n    return t instanceof e ? __PRIVATE_primitiveComparator(this, t) : this.Fe(t);\n  }, e.prototype.Me = function () {\n    return 4;\n  }, e.of = function (t) {\n    return t ? e.Ge : e.Be;\n  }, e.Ge = new e(!0), e.Be = new e(!1), e;\n}(FieldValue),\n    __PRIVATE_NumberValue = function (t) {\n  function e(e) {\n    var n = t.call(this) || this;\n    return n.Zt = e, n.Ne = __PRIVATE_TypeOrder.Ve, n;\n  }\n\n  return tslib.__extends(e, t), e.prototype.value = function (t) {\n    return this.Zt;\n  }, e.prototype._ = function (t) {\n    return t instanceof e ? __PRIVATE_numericComparator(this.Zt, t.Zt) : this.Fe(t);\n  }, e.prototype.Me = function () {\n    return 8;\n  }, e;\n}(FieldValue);\n\nfunction __PRIVATE_numericComparator(t, e) {\n  return t < e ? -1 : t > e ? 1 : t === e ? 0 : isNaN(t) ? isNaN(e) ? 0 : -1 : 1;\n}\n\nfunction __PRIVATE_numericEquals(t, e) {\n  return t === e ? 0 !== t || 1 / t == 1 / e : t != t && e != e;\n}\n\nvar __PRIVATE_IntegerValue = function (t) {\n  function e() {\n    return null !== t && t.apply(this, arguments) || this;\n  }\n\n  return tslib.__extends(e, t), e.prototype.isEqual = function (t) {\n    return t instanceof e && __PRIVATE_numericEquals(this.Zt, t.Zt);\n  }, e;\n}(__PRIVATE_NumberValue),\n    __PRIVATE_DoubleValue = function (t) {\n  function e() {\n    return null !== t && t.apply(this, arguments) || this;\n  }\n\n  return tslib.__extends(e, t), e.prototype.isEqual = function (t) {\n    return t instanceof e && __PRIVATE_numericEquals(this.Zt, t.Zt);\n  }, e.Ue = new e(NaN), e.POSITIVE_INFINITY = new e(1 / 0), e.NEGATIVE_INFINITY = new e(-1 / 0), e;\n}(__PRIVATE_NumberValue),\n    __PRIVATE_StringValue = function (t) {\n  function e(e) {\n    var n = t.call(this) || this;\n    return n.Zt = e, n.Ne = __PRIVATE_TypeOrder.ve, n;\n  }\n\n  return tslib.__extends(e, t), e.prototype.value = function (t) {\n    return this.Zt;\n  }, e.prototype.isEqual = function (t) {\n    return t instanceof e && this.Zt === t.Zt;\n  }, e.prototype._ = function (t) {\n    return t instanceof e ? __PRIVATE_primitiveComparator(this.Zt, t.Zt) : this.Fe(t);\n  }, e.prototype.Me = function () {\n    return 2 * this.Zt.length;\n  }, e;\n}(FieldValue),\n    __PRIVATE_TimestampValue = function (t) {\n  function e(e) {\n    var n = t.call(this) || this;\n    return n.Zt = e, n.Ne = __PRIVATE_TypeOrder.me, n;\n  }\n\n  return tslib.__extends(e, t), e.prototype.value = function (t) {\n    return !t || t.timestampsInSnapshots ? this.Zt : this.Zt.toDate();\n  }, e.prototype.isEqual = function (t) {\n    return t instanceof e && this.Zt.isEqual(t.Zt);\n  }, e.prototype._ = function (t) {\n    return t instanceof e ? this.Zt.K(t.Zt) : t instanceof __PRIVATE_ServerTimestampValue ? -1 : this.Fe(t);\n  }, e.prototype.Me = function () {\n    return 16;\n  }, e;\n}(FieldValue),\n    __PRIVATE_ServerTimestampValue = function (t) {\n  function e(e, n) {\n    var r = t.call(this) || this;\n    return r.ke = e, r.previousValue = n, r.Ne = __PRIVATE_TypeOrder.me, r;\n  }\n\n  return tslib.__extends(e, t), e.prototype.value = function (t) {\n    return t && t.Ce === __PRIVATE_ServerTimestampBehavior.Se ? new __PRIVATE_TimestampValue(this.ke).value(t) : t && t.Ce === __PRIVATE_ServerTimestampBehavior.De && this.previousValue ? this.previousValue.value(t) : null;\n  }, e.prototype.isEqual = function (t) {\n    return t instanceof e && this.ke.isEqual(t.ke);\n  }, e.prototype._ = function (t) {\n    return t instanceof e ? this.ke.K(t.ke) : t instanceof __PRIVATE_TimestampValue ? 1 : this.Fe(t);\n  }, e.prototype.toString = function () {\n    return \"<ServerTimestamp localTime=\" + this.ke.toString() + \">\";\n  }, e.prototype.Me = function () {\n    return 16 + (this.previousValue ? this.previousValue.Me() : 0);\n  }, e;\n}(FieldValue),\n    __PRIVATE_BlobValue = function (t) {\n  function e(e) {\n    var n = t.call(this) || this;\n    return n.Zt = e, n.Ne = __PRIVATE_TypeOrder.pe, n;\n  }\n\n  return tslib.__extends(e, t), e.prototype.value = function (t) {\n    return this.Zt;\n  }, e.prototype.isEqual = function (t) {\n    return t instanceof e && this.Zt.isEqual(t.Zt);\n  }, e.prototype._ = function (t) {\n    return t instanceof e ? this.Zt.K(t.Zt) : this.Fe(t);\n  }, e.prototype.Me = function () {\n    return this.Zt.xe();\n  }, e;\n}(FieldValue),\n    __PRIVATE_RefValue = function (t) {\n  function e(e, n) {\n    var r = t.call(this) || this;\n    return r.o = e, r.key = n, r.Ne = __PRIVATE_TypeOrder.be, r;\n  }\n\n  return tslib.__extends(e, t), e.prototype.value = function (t) {\n    return this.key;\n  }, e.prototype.isEqual = function (t) {\n    return t instanceof e && this.key.isEqual(t.key) && this.o.isEqual(t.o);\n  }, e.prototype._ = function (t) {\n    if (t instanceof e) {\n      var n = this.o._(t.o);\n\n      return 0 !== n ? n : __PRIVATE_DocumentKey.H(this.key, t.key);\n    }\n\n    return this.Fe(t);\n  }, e.prototype.Me = function () {\n    return this.o.projectId.length + this.o.database.length + this.key.toString().length;\n  }, e;\n}(FieldValue),\n    __PRIVATE_GeoPointValue = function (t) {\n  function e(e) {\n    var n = t.call(this) || this;\n    return n.Zt = e, n.Ne = __PRIVATE_TypeOrder.ge, n;\n  }\n\n  return tslib.__extends(e, t), e.prototype.value = function (t) {\n    return this.Zt;\n  }, e.prototype.isEqual = function (t) {\n    return t instanceof e && this.Zt.isEqual(t.Zt);\n  }, e.prototype._ = function (t) {\n    return t instanceof e ? this.Zt.K(t.Zt) : this.Fe(t);\n  }, e.prototype.Me = function () {\n    return 16;\n  }, e;\n}(FieldValue),\n    __PRIVATE_ObjectValue = function (t) {\n  function e(e) {\n    var n = t.call(this) || this;\n    return n.Zt = e, n.Ne = __PRIVATE_TypeOrder.we, n;\n  }\n\n  return tslib.__extends(e, t), e.prototype.value = function (t) {\n    var e = {};\n    return this.Zt.Vt(function (n, r) {\n      e[n] = r.value(t);\n    }), e;\n  }, e.prototype.forEach = function (t) {\n    this.Zt.Vt(t);\n  }, e.prototype.isEqual = function (t) {\n    if (t instanceof e) {\n      for (var n = this.Zt.pt(), r = t.Zt.pt(); n.Ct() && r.Ct();) {\n        var i = n.Dt(),\n            s = r.Dt();\n        if (i.key !== s.key || !i.value.isEqual(s.value)) return !1;\n      }\n\n      return !n.Ct() && !r.Ct();\n    }\n\n    return !1;\n  }, e.prototype._ = function (t) {\n    if (t instanceof e) {\n      for (var n = this.Zt.pt(), r = t.Zt.pt(); n.Ct() && r.Ct();) {\n        var i = n.Dt(),\n            s = r.Dt(),\n            o = __PRIVATE_primitiveComparator(i.key, s.key) || i.value._(s.value);\n\n        if (o) return o;\n      }\n\n      return __PRIVATE_primitiveComparator(n.Ct(), r.Ct());\n    }\n\n    return this.Fe(t);\n  }, e.prototype.set = function (t, n) {\n    if (assert(!t.tt(), \"Cannot set field for empty path on ObjectValue\"), 1 === t.length) return this.Ke(t.et(), n);\n    var r = this.child(t.et());\n    r instanceof e || (r = e.EMPTY);\n    var i = r.set(t.J(), n);\n    return this.Ke(t.et(), i);\n  }, e.prototype.delete = function (t) {\n    if (assert(!t.tt(), \"Cannot delete field for empty path on ObjectValue\"), 1 === t.length) return new e(this.Zt.remove(t.et()));\n    var n = this.child(t.et());\n\n    if (n instanceof e) {\n      var r = n.delete(t.J());\n      return new e(this.Zt.Pt(t.et(), r));\n    }\n\n    return this;\n  }, e.prototype.contains = function (t) {\n    return null !== this.field(t);\n  }, e.prototype.field = function (t) {\n    assert(!t.tt(), \"Can't get field of empty path\");\n    var n = this;\n    return t.forEach(function (t) {\n      n = n instanceof e ? n.Zt.get(t) : null;\n    }), n;\n  }, e.prototype.fe = function () {\n    var t = new __PRIVATE_SortedSet(FieldPath.H);\n    return this.Zt.forEach(function (n, r) {\n      var i = new FieldPath([n]);\n\n      if (r instanceof e) {\n        var s = r.fe().fields;\n        s.tt() ? t = t.add(i) : s.forEach(function (e) {\n          t = t.add(i.child(e));\n        });\n      } else t = t.add(i);\n    }), __PRIVATE_FieldMask.te(t);\n  }, e.prototype.Me = function () {\n    var t = 0;\n    return this.Zt.Vt(function (e, n) {\n      t += e.length + n.Me();\n    }), t;\n  }, e.prototype.toString = function () {\n    return this.Zt.toString();\n  }, e.prototype.child = function (t) {\n    return this.Zt.get(t) || void 0;\n  }, e.prototype.Ke = function (t, n) {\n    return new e(this.Zt.Pt(t, n));\n  }, e.EMPTY = new e(new __PRIVATE_SortedMap(__PRIVATE_primitiveComparator)), e;\n}(FieldValue),\n    ArrayValue = function (t) {\n  function e(e) {\n    var n = t.call(this) || this;\n    return n.Zt = e, n.Ne = __PRIVATE_TypeOrder.ArrayValue, n;\n  }\n\n  return tslib.__extends(e, t), e.prototype.value = function (t) {\n    return this.Zt.map(function (e) {\n      return e.value(t);\n    });\n  }, e.prototype.contains = function (t) {\n    for (var e = 0, n = this.Zt; e < n.length; e++) {\n      if (n[e].isEqual(t)) return !0;\n    }\n\n    return !1;\n  }, e.prototype.forEach = function (t) {\n    this.Zt.forEach(t);\n  }, e.prototype.isEqual = function (t) {\n    if (t instanceof e) {\n      if (this.Zt.length !== t.Zt.length) return !1;\n\n      for (var n = 0; n < this.Zt.length; n++) if (!this.Zt[n].isEqual(t.Zt[n])) return !1;\n\n      return !0;\n    }\n\n    return !1;\n  }, e.prototype._ = function (t) {\n    if (t instanceof e) {\n      for (var n = Math.min(this.Zt.length, t.Zt.length), r = 0; r < n; r++) {\n        var i = this.Zt[r]._(t.Zt[r]);\n\n        if (i) return i;\n      }\n\n      return __PRIVATE_primitiveComparator(this.Zt.length, t.Zt.length);\n    }\n\n    return this.Fe(t);\n  }, e.prototype.Me = function () {\n    return this.Zt.reduce(function (t, e) {\n      return t + e.Me();\n    }, 0);\n  }, e.prototype.toString = function () {\n    return \"[\" + this.Zt.map(function (t) {\n      return t.toString();\n    }).join(\",\") + \"]\";\n  }, e;\n}(FieldValue),\n    __PRIVATE_MaybeDocument = function () {\n  function t(t, e) {\n    this.key = t, this.version = e;\n  }\n\n  return t.je = function (t, e) {\n    return __PRIVATE_DocumentKey.H(t.key, e.key);\n  }, t;\n}(),\n    Document = function (t) {\n  function e(e, n, r, i, s, o) {\n    var u = t.call(this, e, n) || this;\n    return u.qe = i, u.proto = s, u.converter = o, assert(void 0 !== u.qe || void 0 !== u.proto && void 0 !== u.converter, \"If objectValue is not defined, proto and converter need to be set.\"), u.ce = !!r.ce, u.hasCommittedMutations = !!r.hasCommittedMutations, u;\n  }\n\n  return tslib.__extends(e, t), e.prototype.field = function (t) {\n    if (this.qe) return this.qe.field(t);\n    this.Qe || (this.Qe = new Map());\n    var e = t.ot(),\n        n = this.Qe.get(e);\n\n    if (void 0 === n) {\n      var r = this.We(t);\n      n = void 0 === r ? null : this.converter(r), this.Qe.set(e, n);\n    }\n\n    return n;\n  }, e.prototype.data = function () {\n    var t = this;\n\n    if (!this.qe) {\n      var e = __PRIVATE_ObjectValue.EMPTY;\n      forEach(this.proto.fields || {}, function (n, r) {\n        e = e.set(new FieldPath([n]), t.converter(r));\n      }), this.qe = e, this.Qe = void 0;\n    }\n\n    return this.qe;\n  }, e.prototype.value = function () {\n    return this.data().value();\n  }, e.prototype.isEqual = function (t) {\n    return t instanceof e && this.key.isEqual(t.key) && this.version.isEqual(t.version) && this.ce === t.ce && this.hasCommittedMutations === t.hasCommittedMutations && this.data().isEqual(t.data());\n  }, e.prototype.toString = function () {\n    return \"Document(\" + this.key + \", \" + this.version + \", \" + this.data().toString() + \", {hasLocalMutations: \" + this.ce + \"}), {hasCommittedMutations: \" + this.hasCommittedMutations + \"})\";\n  }, Object.defineProperty(e.prototype, \"hasPendingWrites\", {\n    get: function () {\n      return this.ce || this.hasCommittedMutations;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), e.prototype.We = function (t) {\n    assert(void 0 !== this.proto, \"Can only call getProtoField() when proto is defined\");\n\n    for (var e = this.proto.fields ? this.proto.fields[t.et()] : void 0, n = 1; n < t.length; ++n) {\n      if (!e || !e.mapValue || !e.mapValue.fields) return;\n      e = e.mapValue.fields[t.get(n)];\n    }\n\n    return e;\n  }, e.$e = function (t, e, n) {\n    var r = e.field(t),\n        i = n.field(t);\n    return null !== r && null !== i ? r._(i) : fail(\"Trying to compare documents on fields that don't exist\");\n  }, e;\n}(__PRIVATE_MaybeDocument),\n    __PRIVATE_NoDocument = function (t) {\n  function e(e, n, r) {\n    var i = t.call(this, e, n) || this;\n    return i.hasCommittedMutations = !(!r || !r.hasCommittedMutations), i;\n  }\n\n  return tslib.__extends(e, t), e.prototype.toString = function () {\n    return \"NoDocument(\" + this.key + \", \" + this.version + \")\";\n  }, Object.defineProperty(e.prototype, \"hasPendingWrites\", {\n    get: function () {\n      return this.hasCommittedMutations;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), e.prototype.isEqual = function (t) {\n    return t instanceof e && t.hasCommittedMutations === this.hasCommittedMutations && t.version.isEqual(this.version) && t.key.isEqual(this.key);\n  }, e;\n}(__PRIVATE_MaybeDocument),\n    __PRIVATE_UnknownDocument = function (t) {\n  function e() {\n    return null !== t && t.apply(this, arguments) || this;\n  }\n\n  return tslib.__extends(e, t), e.prototype.toString = function () {\n    return \"UnknownDocument(\" + this.key + \", \" + this.version + \")\";\n  }, Object.defineProperty(e.prototype, \"hasPendingWrites\", {\n    get: function () {\n      return !0;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), e.prototype.isEqual = function (t) {\n    return t instanceof e && t.version.isEqual(this.version) && t.key.isEqual(this.key);\n  }, e;\n}(__PRIVATE_MaybeDocument),\n    __PRIVATE_NumberAsAny = Number,\n    MIN_SAFE_INTEGER = __PRIVATE_NumberAsAny.MIN_SAFE_INTEGER || -(Math.pow(2, 53) - 1),\n    MAX_SAFE_INTEGER = __PRIVATE_NumberAsAny.MAX_SAFE_INTEGER || Math.pow(2, 53) - 1,\n    isInteger = __PRIVATE_NumberAsAny.isInteger || function (t) {\n  return \"number\" == typeof t && isFinite(t) && Math.floor(t) === t;\n};\n\nfunction isNullOrUndefined(t) {\n  return null == t;\n}\n\nfunction isSafeInteger(t) {\n  return isInteger(t) && t <= MAX_SAFE_INTEGER && t >= MIN_SAFE_INTEGER;\n}\n\nvar __PRIVATE_LimitType,\n    Target = function () {\n  function t(t, e, n, r, i, s, o) {\n    void 0 === e && (e = null), void 0 === n && (n = []), void 0 === r && (r = []), void 0 === i && (i = null), void 0 === s && (s = null), void 0 === o && (o = null), this.path = t, this.collectionGroup = e, this.orderBy = n, this.filters = r, this.limit = i, this.startAt = s, this.endAt = o, this.Ye = null;\n  }\n\n  return t.prototype.canonicalId = function () {\n    if (null === this.Ye) {\n      var t = this.path.ot();\n      null !== this.collectionGroup && (t += \"|cg:\" + this.collectionGroup), t += \"|f:\";\n\n      for (var e = 0, n = this.filters; e < n.length; e++) {\n        t += n[e].canonicalId(), t += \",\";\n      }\n\n      t += \"|ob:\";\n\n      for (var r = 0, i = this.orderBy; r < i.length; r++) {\n        t += i[r].canonicalId(), t += \",\";\n      }\n\n      isNullOrUndefined(this.limit) || (t += \"|l:\", t += this.limit), this.startAt && (t += \"|lb:\", t += this.startAt.canonicalId()), this.endAt && (t += \"|ub:\", t += this.endAt.canonicalId()), this.Ye = t;\n    }\n\n    return this.Ye;\n  }, t.prototype.toString = function () {\n    var t = this.path.ot();\n    return null !== this.collectionGroup && (t += \" collectionGroup=\" + this.collectionGroup), this.filters.length > 0 && (t += \", filters: [\" + this.filters.join(\", \") + \"]\"), isNullOrUndefined(this.limit) || (t += \", limit: \" + this.limit), this.orderBy.length > 0 && (t += \", orderBy: [\" + this.orderBy.join(\", \") + \"]\"), this.startAt && (t += \", startAt: \" + this.startAt.canonicalId()), this.endAt && (t += \", endAt: \" + this.endAt.canonicalId()), \"Target(\" + t + \")\";\n  }, t.prototype.isEqual = function (t) {\n    if (this.limit !== t.limit) return !1;\n    if (this.orderBy.length !== t.orderBy.length) return !1;\n\n    for (var e = 0; e < this.orderBy.length; e++) if (!this.orderBy[e].isEqual(t.orderBy[e])) return !1;\n\n    if (this.filters.length !== t.filters.length) return !1;\n\n    for (e = 0; e < this.filters.length; e++) if (!this.filters[e].isEqual(t.filters[e])) return !1;\n\n    return this.collectionGroup === t.collectionGroup && !!this.path.isEqual(t.path) && !(null !== this.startAt ? !this.startAt.isEqual(t.startAt) : null !== t.startAt) && (null !== this.endAt ? this.endAt.isEqual(t.endAt) : null === t.endAt);\n  }, t.prototype.He = function () {\n    return __PRIVATE_DocumentKey.lt(this.path) && null === this.collectionGroup && 0 === this.filters.length;\n  }, t;\n}();\n\n!function (t) {\n  t.Xe = \"F\", t.ze = \"L\";\n}(__PRIVATE_LimitType || (__PRIVATE_LimitType = {}));\n\nvar __PRIVATE_TargetPurpose,\n    Query = function () {\n  function t(t, e, n, r, i, s, o, u) {\n    void 0 === e && (e = null), void 0 === n && (n = []), void 0 === r && (r = []), void 0 === i && (i = null), void 0 === s && (s = __PRIVATE_LimitType.Xe), void 0 === o && (o = null), void 0 === u && (u = null), this.path = t, this.collectionGroup = e, this.Je = n, this.filters = r, this.limit = i, this.Ze = s, this.startAt = o, this.endAt = u, this.tn = null, this.en = null, this.startAt && this.nn(this.startAt), this.endAt && this.nn(this.endAt);\n  }\n\n  return t.rn = function (e) {\n    return new t(e);\n  }, Object.defineProperty(t.prototype, \"orderBy\", {\n    get: function () {\n      if (null === this.tn) {\n        var t = this.in(),\n            e = this.sn();\n        if (null !== t && null === e) t.ct() ? this.tn = [__PRIVATE_KEY_ORDERING_ASC] : this.tn = [new __PRIVATE_OrderBy(t), __PRIVATE_KEY_ORDERING_ASC];else {\n          assert(null === t || null !== e && t.isEqual(e), \"First orderBy should match inequality field.\"), this.tn = [];\n\n          for (var n = !1, r = 0, i = this.Je; r < i.length; r++) {\n            var s = i[r];\n            this.tn.push(s), s.field.ct() && (n = !0);\n          }\n\n          if (!n) {\n            var o = this.Je.length > 0 ? this.Je[this.Je.length - 1].dir : __PRIVATE_Direction.ASCENDING;\n            this.tn.push(o === __PRIVATE_Direction.ASCENDING ? __PRIVATE_KEY_ORDERING_ASC : __PRIVATE_KEY_ORDERING_DESC);\n          }\n        }\n      }\n\n      return this.tn;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.on = function (e) {\n    assert(null == this.in() || !(e instanceof FieldFilter) || !e.un() || e.field.isEqual(this.in()), \"Query must only have one inequality field.\"), assert(!this.He(), \"No filtering allowed for document query\");\n    var n = this.filters.concat([e]);\n    return new t(this.path, this.collectionGroup, this.Je.slice(), n, this.limit, this.Ze, this.startAt, this.endAt);\n  }, t.prototype.an = function (e) {\n    assert(!this.startAt && !this.endAt, \"Bounds must be set after orderBy\");\n    var n = this.Je.concat([e]);\n    return new t(this.path, this.collectionGroup, n, this.filters.slice(), this.limit, this.Ze, this.startAt, this.endAt);\n  }, t.prototype._n = function (e) {\n    return new t(this.path, this.collectionGroup, this.Je.slice(), this.filters.slice(), e, __PRIVATE_LimitType.Xe, this.startAt, this.endAt);\n  }, t.prototype.cn = function (e) {\n    return new t(this.path, this.collectionGroup, this.Je.slice(), this.filters.slice(), e, __PRIVATE_LimitType.ze, this.startAt, this.endAt);\n  }, t.prototype.hn = function (e) {\n    return new t(this.path, this.collectionGroup, this.Je.slice(), this.filters.slice(), this.limit, this.Ze, e, this.endAt);\n  }, t.prototype.fn = function (e) {\n    return new t(this.path, this.collectionGroup, this.Je.slice(), this.filters.slice(), this.limit, this.Ze, this.startAt, e);\n  }, t.prototype.ln = function (e) {\n    return new t(e, null, this.Je.slice(), this.filters.slice(), this.limit, this.Ze, this.startAt, this.endAt);\n  }, t.prototype.dn = function () {\n    return 0 === this.filters.length && null === this.limit && null == this.startAt && null == this.endAt && (0 === this.Je.length || 1 === this.Je.length && this.Je[0].field.ct());\n  }, t.prototype.canonicalId = function () {\n    return this.Tn().canonicalId() + \"|lt:\" + this.Ze;\n  }, t.prototype.toString = function () {\n    return \"Query(target=\" + this.Tn().toString() + \"; limitType=\" + this.Ze + \")\";\n  }, t.prototype.isEqual = function (t) {\n    return this.Tn().isEqual(t.Tn()) && this.Ze === t.Ze;\n  }, t.prototype.En = function (t, e) {\n    for (var n = !1, r = 0, i = this.orderBy; r < i.length; r++) {\n      var s = i[r],\n          o = s.compare(t, e);\n      if (0 !== o) return o;\n      n = n || s.field.ct();\n    }\n\n    return assert(n, \"orderBy used that doesn't compare on key field\"), 0;\n  }, t.prototype.matches = function (t) {\n    return this.Pn(t) && this.An(t) && this.Rn(t) && this.In(t);\n  }, t.prototype.Vn = function () {\n    return !isNullOrUndefined(this.limit) && this.Ze === __PRIVATE_LimitType.Xe;\n  }, t.prototype.mn = function () {\n    return !isNullOrUndefined(this.limit) && this.Ze === __PRIVATE_LimitType.ze;\n  }, t.prototype.sn = function () {\n    return this.Je.length > 0 ? this.Je[0].field : null;\n  }, t.prototype.in = function () {\n    for (var t = 0, e = this.filters; t < e.length; t++) {\n      var n = e[t];\n      if (n instanceof FieldFilter && n.un()) return n.field;\n    }\n\n    return null;\n  }, t.prototype.vn = function (t) {\n    for (var e = 0, n = this.filters; e < n.length; e++) {\n      var r = n[e];\n      if (r instanceof FieldFilter && t.indexOf(r.op) >= 0) return r.op;\n    }\n\n    return null;\n  }, t.prototype.He = function () {\n    return this.Tn().He();\n  }, t.prototype.pn = function () {\n    return null !== this.collectionGroup;\n  }, t.prototype.Tn = function () {\n    if (!this.en) if (this.Ze === __PRIVATE_LimitType.Xe) this.en = new Target(this.path, this.collectionGroup, this.orderBy, this.filters, this.limit, this.startAt, this.endAt);else {\n      for (var t = [], e = 0, n = this.orderBy; e < n.length; e++) {\n        var r = n[e],\n            i = r.dir === __PRIVATE_Direction.DESCENDING ? __PRIVATE_Direction.ASCENDING : __PRIVATE_Direction.DESCENDING;\n        t.push(new __PRIVATE_OrderBy(r.field, i));\n      }\n\n      var s = this.endAt ? new __PRIVATE_Bound(this.endAt.position, !this.endAt.before) : null,\n          o = this.startAt ? new __PRIVATE_Bound(this.startAt.position, !this.startAt.before) : null;\n      this.en = new Target(this.path, this.collectionGroup, t, this.filters, this.limit, s, o);\n    }\n    return this.en;\n  }, t.prototype.Pn = function (t) {\n    var e = t.key.path;\n    return null !== this.collectionGroup ? t.key.dt(this.collectionGroup) && this.path.rt(e) : __PRIVATE_DocumentKey.lt(this.path) ? this.path.isEqual(e) : this.path.it(e);\n  }, t.prototype.An = function (t) {\n    for (var e = 0, n = this.Je; e < n.length; e++) {\n      var r = n[e];\n      if (!r.field.ct() && null === t.field(r.field)) return !1;\n    }\n\n    return !0;\n  }, t.prototype.Rn = function (t) {\n    for (var e = 0, n = this.filters; e < n.length; e++) {\n      if (!n[e].matches(t)) return !1;\n    }\n\n    return !0;\n  }, t.prototype.In = function (t) {\n    return !(this.startAt && !this.startAt.bn(this.orderBy, t)) && (!this.endAt || !this.endAt.bn(this.orderBy, t));\n  }, t.prototype.nn = function (t) {\n    assert(t.position.length <= this.orderBy.length, \"Bound is longer than orderBy\");\n  }, t;\n}(),\n    Filter = function () {},\n    __PRIVATE_Operator = function () {\n  function t(t) {\n    this.name = t;\n  }\n\n  return t.ut = function (e) {\n    switch (e) {\n      case \"<\":\n        return t.LESS_THAN;\n\n      case \"<=\":\n        return t.LESS_THAN_OR_EQUAL;\n\n      case \"==\":\n        return t.EQUAL;\n\n      case \">=\":\n        return t.GREATER_THAN_OR_EQUAL;\n\n      case \">\":\n        return t.GREATER_THAN;\n\n      case \"array-contains\":\n        return t.ARRAY_CONTAINS;\n\n      case \"in\":\n        return t.IN;\n\n      case \"array-contains-any\":\n        return t.ARRAY_CONTAINS_ANY;\n\n      default:\n        return fail(\"Unknown FieldFilter operator: \" + e);\n    }\n  }, t.prototype.toString = function () {\n    return this.name;\n  }, t.prototype.isEqual = function (t) {\n    return this.name === t.name;\n  }, t.LESS_THAN = new t(\"<\"), t.LESS_THAN_OR_EQUAL = new t(\"<=\"), t.EQUAL = new t(\"==\"), t.GREATER_THAN = new t(\">\"), t.GREATER_THAN_OR_EQUAL = new t(\">=\"), t.ARRAY_CONTAINS = new t(\"array-contains\"), t.IN = new t(\"in\"), t.ARRAY_CONTAINS_ANY = new t(\"array-contains-any\"), t;\n}(),\n    FieldFilter = function (t) {\n  function e(e, n, r) {\n    var i = t.call(this) || this;\n    return i.field = e, i.op = n, i.value = r, i;\n  }\n\n  return tslib.__extends(e, t), e.create = function (t, n, r) {\n    if (t.ct()) return n === __PRIVATE_Operator.IN ? (assert(r instanceof ArrayValue, \"Comparing on key with IN, but filter value not an ArrayValue\"), assert(r.Zt.every(function (t) {\n      return t instanceof __PRIVATE_RefValue;\n    }), \"Comparing on key with IN, but an array value was not a RefValue\"), new __PRIVATE_KeyFieldInFilter(t, r)) : (assert(r instanceof __PRIVATE_RefValue, \"Comparing on key, but filter value not a RefValue\"), assert(n !== __PRIVATE_Operator.ARRAY_CONTAINS && n !== __PRIVATE_Operator.ARRAY_CONTAINS_ANY, \"'\" + n.toString() + \"' queries don't make sense on document keys.\"), new __PRIVATE_KeyFieldFilter(t, n, r));\n\n    if (r.isEqual(__PRIVATE_NullValue.Le)) {\n      if (n !== __PRIVATE_Operator.EQUAL) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Invalid query. Null supports only equality comparisons.\");\n      return new e(t, n, r);\n    }\n\n    if (r.isEqual(__PRIVATE_DoubleValue.Ue)) {\n      if (n !== __PRIVATE_Operator.EQUAL) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Invalid query. NaN supports only equality comparisons.\");\n      return new e(t, n, r);\n    }\n\n    return n === __PRIVATE_Operator.ARRAY_CONTAINS ? new __PRIVATE_ArrayContainsFilter(t, r) : n === __PRIVATE_Operator.IN ? (assert(r instanceof ArrayValue, \"IN filter has invalid value: \" + r.toString()), new __PRIVATE_InFilter(t, r)) : n === __PRIVATE_Operator.ARRAY_CONTAINS_ANY ? (assert(r instanceof ArrayValue, \"ARRAY_CONTAINS_ANY filter has invalid value: \" + r.toString()), new __PRIVATE_ArrayContainsAnyFilter(t, r)) : new e(t, n, r);\n  }, e.prototype.matches = function (t) {\n    var e = t.field(this.field);\n    return null !== e && this.value.Ne === e.Ne && this.gn(e._(this.value));\n  }, e.prototype.gn = function (t) {\n    switch (this.op) {\n      case __PRIVATE_Operator.LESS_THAN:\n        return t < 0;\n\n      case __PRIVATE_Operator.LESS_THAN_OR_EQUAL:\n        return t <= 0;\n\n      case __PRIVATE_Operator.EQUAL:\n        return 0 === t;\n\n      case __PRIVATE_Operator.GREATER_THAN:\n        return t > 0;\n\n      case __PRIVATE_Operator.GREATER_THAN_OR_EQUAL:\n        return t >= 0;\n\n      default:\n        return fail(\"Unknown FieldFilter operator: \" + this.op);\n    }\n  }, e.prototype.un = function () {\n    return [__PRIVATE_Operator.LESS_THAN, __PRIVATE_Operator.LESS_THAN_OR_EQUAL, __PRIVATE_Operator.GREATER_THAN, __PRIVATE_Operator.GREATER_THAN_OR_EQUAL].indexOf(this.op) >= 0;\n  }, e.prototype.canonicalId = function () {\n    return this.field.ot() + this.op.toString() + this.value.toString();\n  }, e.prototype.isEqual = function (t) {\n    return t instanceof e && this.op.isEqual(t.op) && this.field.isEqual(t.field) && this.value.isEqual(t.value);\n  }, e.prototype.toString = function () {\n    return this.field.ot() + \" \" + this.op + \" \" + this.value.value();\n  }, e;\n}(Filter),\n    __PRIVATE_KeyFieldFilter = function (t) {\n  function e() {\n    return null !== t && t.apply(this, arguments) || this;\n  }\n\n  return tslib.__extends(e, t), e.prototype.matches = function (t) {\n    var e = this.value,\n        n = __PRIVATE_DocumentKey.H(t.key, e.key);\n\n    return this.gn(n);\n  }, e;\n}(FieldFilter),\n    __PRIVATE_KeyFieldInFilter = function (t) {\n  function e(e, n) {\n    var r = t.call(this, e, __PRIVATE_Operator.IN, n) || this;\n    return r.value = n, r;\n  }\n\n  return tslib.__extends(e, t), e.prototype.matches = function (t) {\n    return this.value.Zt.some(function (e) {\n      return t.key.isEqual(e.key);\n    });\n  }, e;\n}(FieldFilter),\n    __PRIVATE_ArrayContainsFilter = function (t) {\n  function e(e, n) {\n    return t.call(this, e, __PRIVATE_Operator.ARRAY_CONTAINS, n) || this;\n  }\n\n  return tslib.__extends(e, t), e.prototype.matches = function (t) {\n    var e = t.field(this.field);\n    return e instanceof ArrayValue && e.contains(this.value);\n  }, e;\n}(FieldFilter),\n    __PRIVATE_InFilter = function (t) {\n  function e(e, n) {\n    var r = t.call(this, e, __PRIVATE_Operator.IN, n) || this;\n    return r.value = n, r;\n  }\n\n  return tslib.__extends(e, t), e.prototype.matches = function (t) {\n    var e = this.value,\n        n = t.field(this.field);\n    return null !== n && e.contains(n);\n  }, e;\n}(FieldFilter),\n    __PRIVATE_ArrayContainsAnyFilter = function (t) {\n  function e(e, n) {\n    var r = t.call(this, e, __PRIVATE_Operator.ARRAY_CONTAINS_ANY, n) || this;\n    return r.value = n, r;\n  }\n\n  return tslib.__extends(e, t), e.prototype.matches = function (t) {\n    var e = this,\n        n = t.field(this.field);\n    return n instanceof ArrayValue && n.Zt.some(function (t) {\n      return e.value.contains(t);\n    });\n  }, e;\n}(FieldFilter),\n    __PRIVATE_Direction = function () {\n  function t(t) {\n    this.name = t;\n  }\n\n  return t.prototype.toString = function () {\n    return this.name;\n  }, t.ASCENDING = new t(\"asc\"), t.DESCENDING = new t(\"desc\"), t;\n}(),\n    __PRIVATE_Bound = function () {\n  function t(t, e) {\n    this.position = t, this.before = e;\n  }\n\n  return t.prototype.canonicalId = function () {\n    for (var t = this.before ? \"b:\" : \"a:\", e = 0, n = this.position; e < n.length; e++) {\n      t += n[e].toString();\n    }\n\n    return t;\n  }, t.prototype.bn = function (t, e) {\n    assert(this.position.length <= t.length, \"Bound has more components than query's orderBy\");\n\n    for (var n = 0, r = 0; r < this.position.length; r++) {\n      var i = t[r],\n          s = this.position[r];\n      if (i.field.ct()) assert(s instanceof __PRIVATE_RefValue, \"Bound has a non-key value where the key path is being used.\"), n = __PRIVATE_DocumentKey.H(s.key, e.key);else {\n        var o = e.field(i.field);\n        assert(null !== o, \"Field should exist since document matched the orderBy already.\"), n = s._(o);\n      }\n      if (i.dir === __PRIVATE_Direction.DESCENDING && (n *= -1), 0 !== n) break;\n    }\n\n    return this.before ? n <= 0 : n < 0;\n  }, t.prototype.isEqual = function (t) {\n    if (null === t) return !1;\n    if (this.before !== t.before || this.position.length !== t.position.length) return !1;\n\n    for (var e = 0; e < this.position.length; e++) {\n      var n = this.position[e],\n          r = t.position[e];\n      if (!n.isEqual(r)) return !1;\n    }\n\n    return !0;\n  }, t;\n}(),\n    __PRIVATE_OrderBy = function () {\n  function t(t, e) {\n    this.field = t, void 0 === e && (e = __PRIVATE_Direction.ASCENDING), this.dir = e, this.wn = t.ct();\n  }\n\n  return t.prototype.compare = function (t, e) {\n    var n = this.wn ? Document.je(t, e) : Document.$e(this.field, t, e);\n\n    switch (this.dir) {\n      case __PRIVATE_Direction.ASCENDING:\n        return n;\n\n      case __PRIVATE_Direction.DESCENDING:\n        return -1 * n;\n\n      default:\n        return fail(\"Unknown direction: \" + this.dir);\n    }\n  }, t.prototype.canonicalId = function () {\n    return this.field.ot() + this.dir.toString();\n  }, t.prototype.toString = function () {\n    return this.field.ot() + \" (\" + this.dir + \")\";\n  }, t.prototype.isEqual = function (t) {\n    return this.dir === t.dir && this.field.isEqual(t.field);\n  }, t;\n}(),\n    __PRIVATE_KEY_ORDERING_ASC = new __PRIVATE_OrderBy(FieldPath.ht(), __PRIVATE_Direction.ASCENDING),\n    __PRIVATE_KEY_ORDERING_DESC = new __PRIVATE_OrderBy(FieldPath.ht(), __PRIVATE_Direction.DESCENDING);\n\n!function (t) {\n  t[t.yn = 0] = \"__PRIVATE_Listen\", t[t.Sn = 1] = \"__PRIVATE_ExistenceFilterMismatch\", t[t.Dn = 2] = \"__PRIVATE_LimboResolution\";\n}(__PRIVATE_TargetPurpose || (__PRIVATE_TargetPurpose = {}));\n\nvar __PRIVATE_RpcCode,\n    __PRIVATE_TargetData = function () {\n  function t(t, e, n, r, i, s, o) {\n    void 0 === i && (i = __PRIVATE_SnapshotVersion.MIN), void 0 === s && (s = __PRIVATE_SnapshotVersion.MIN), void 0 === o && (o = __PRIVATE_emptyByteString()), this.target = t, this.targetId = e, this.Cn = n, this.sequenceNumber = r, this.On = i, this.lastLimboFreeSnapshotVersion = s, this.resumeToken = o;\n  }\n\n  return t.prototype.Fn = function (e) {\n    return new t(this.target, this.targetId, this.Cn, e, this.On, this.lastLimboFreeSnapshotVersion, this.resumeToken);\n  }, t.prototype.Nn = function (e, n) {\n    return new t(this.target, this.targetId, this.Cn, this.sequenceNumber, n, this.lastLimboFreeSnapshotVersion, e);\n  }, t.prototype.Mn = function (e) {\n    return new t(this.target, this.targetId, this.Cn, this.sequenceNumber, this.On, e, this.resumeToken);\n  }, t.prototype.isEqual = function (t) {\n    return this.targetId === t.targetId && this.Cn === t.Cn && this.sequenceNumber === t.sequenceNumber && this.On.isEqual(t.On) && this.lastLimboFreeSnapshotVersion.isEqual(t.lastLimboFreeSnapshotVersion) && this.resumeToken === t.resumeToken && this.target.isEqual(t.target);\n  }, t;\n}(),\n    ExistenceFilter = function () {\n  function t(t) {\n    this.count = t;\n  }\n\n  return t.prototype.isEqual = function (t) {\n    return t && t.count === this.count;\n  }, t;\n}();\n\nfunction __PRIVATE_isPermanentError(t) {\n  switch (t) {\n    case Code.OK:\n      return fail(\"Treated status OK as error\");\n\n    case Code.CANCELLED:\n    case Code.UNKNOWN:\n    case Code.DEADLINE_EXCEEDED:\n    case Code.RESOURCE_EXHAUSTED:\n    case Code.INTERNAL:\n    case Code.UNAVAILABLE:\n    case Code.UNAUTHENTICATED:\n      return !1;\n\n    case Code.INVALID_ARGUMENT:\n    case Code.NOT_FOUND:\n    case Code.ALREADY_EXISTS:\n    case Code.PERMISSION_DENIED:\n    case Code.FAILED_PRECONDITION:\n    case Code.ABORTED:\n    case Code.OUT_OF_RANGE:\n    case Code.UNIMPLEMENTED:\n    case Code.DATA_LOSS:\n      return !0;\n\n    default:\n      return fail(\"Unknown status code: \" + t);\n  }\n}\n\nfunction __PRIVATE_isPermanentWriteError(t) {\n  return __PRIVATE_isPermanentError(t) && t !== Code.ABORTED;\n}\n\nfunction __PRIVATE_mapCodeFromRpcStatus(t) {\n  var e = __PRIVATE_RpcCode[t];\n  if (void 0 !== e) return __PRIVATE_mapCodeFromRpcCode(e);\n}\n\nfunction __PRIVATE_mapCodeFromRpcCode(t) {\n  if (void 0 === t) return error(\"GRPC error has no .code\"), Code.UNKNOWN;\n\n  switch (t) {\n    case __PRIVATE_RpcCode.OK:\n      return Code.OK;\n\n    case __PRIVATE_RpcCode.CANCELLED:\n      return Code.CANCELLED;\n\n    case __PRIVATE_RpcCode.UNKNOWN:\n      return Code.UNKNOWN;\n\n    case __PRIVATE_RpcCode.DEADLINE_EXCEEDED:\n      return Code.DEADLINE_EXCEEDED;\n\n    case __PRIVATE_RpcCode.RESOURCE_EXHAUSTED:\n      return Code.RESOURCE_EXHAUSTED;\n\n    case __PRIVATE_RpcCode.INTERNAL:\n      return Code.INTERNAL;\n\n    case __PRIVATE_RpcCode.UNAVAILABLE:\n      return Code.UNAVAILABLE;\n\n    case __PRIVATE_RpcCode.UNAUTHENTICATED:\n      return Code.UNAUTHENTICATED;\n\n    case __PRIVATE_RpcCode.INVALID_ARGUMENT:\n      return Code.INVALID_ARGUMENT;\n\n    case __PRIVATE_RpcCode.NOT_FOUND:\n      return Code.NOT_FOUND;\n\n    case __PRIVATE_RpcCode.ALREADY_EXISTS:\n      return Code.ALREADY_EXISTS;\n\n    case __PRIVATE_RpcCode.PERMISSION_DENIED:\n      return Code.PERMISSION_DENIED;\n\n    case __PRIVATE_RpcCode.FAILED_PRECONDITION:\n      return Code.FAILED_PRECONDITION;\n\n    case __PRIVATE_RpcCode.ABORTED:\n      return Code.ABORTED;\n\n    case __PRIVATE_RpcCode.OUT_OF_RANGE:\n      return Code.OUT_OF_RANGE;\n\n    case __PRIVATE_RpcCode.UNIMPLEMENTED:\n      return Code.UNIMPLEMENTED;\n\n    case __PRIVATE_RpcCode.DATA_LOSS:\n      return Code.DATA_LOSS;\n\n    default:\n      return fail(\"Unknown status code: \" + t);\n  }\n}\n\nfunction __PRIVATE_mapRpcCodeFromCode(t) {\n  if (void 0 === t) return __PRIVATE_RpcCode.OK;\n\n  switch (t) {\n    case Code.OK:\n      return __PRIVATE_RpcCode.OK;\n\n    case Code.CANCELLED:\n      return __PRIVATE_RpcCode.CANCELLED;\n\n    case Code.UNKNOWN:\n      return __PRIVATE_RpcCode.UNKNOWN;\n\n    case Code.DEADLINE_EXCEEDED:\n      return __PRIVATE_RpcCode.DEADLINE_EXCEEDED;\n\n    case Code.RESOURCE_EXHAUSTED:\n      return __PRIVATE_RpcCode.RESOURCE_EXHAUSTED;\n\n    case Code.INTERNAL:\n      return __PRIVATE_RpcCode.INTERNAL;\n\n    case Code.UNAVAILABLE:\n      return __PRIVATE_RpcCode.UNAVAILABLE;\n\n    case Code.UNAUTHENTICATED:\n      return __PRIVATE_RpcCode.UNAUTHENTICATED;\n\n    case Code.INVALID_ARGUMENT:\n      return __PRIVATE_RpcCode.INVALID_ARGUMENT;\n\n    case Code.NOT_FOUND:\n      return __PRIVATE_RpcCode.NOT_FOUND;\n\n    case Code.ALREADY_EXISTS:\n      return __PRIVATE_RpcCode.ALREADY_EXISTS;\n\n    case Code.PERMISSION_DENIED:\n      return __PRIVATE_RpcCode.PERMISSION_DENIED;\n\n    case Code.FAILED_PRECONDITION:\n      return __PRIVATE_RpcCode.FAILED_PRECONDITION;\n\n    case Code.ABORTED:\n      return __PRIVATE_RpcCode.ABORTED;\n\n    case Code.OUT_OF_RANGE:\n      return __PRIVATE_RpcCode.OUT_OF_RANGE;\n\n    case Code.UNIMPLEMENTED:\n      return __PRIVATE_RpcCode.UNIMPLEMENTED;\n\n    case Code.DATA_LOSS:\n      return __PRIVATE_RpcCode.DATA_LOSS;\n\n    default:\n      return fail(\"Unknown status code: \" + t);\n  }\n}\n\nfunction __PRIVATE_mapCodeFromHttpResponseErrorStatus(t) {\n  var e = t.toLowerCase().replace(\"_\", \"-\");\n  return Object.values(Code).indexOf(e) >= 0 ? e : Code.UNKNOWN;\n}\n\n!function (t) {\n  t[t.OK = 0] = \"OK\", t[t.CANCELLED = 1] = \"CANCELLED\", t[t.UNKNOWN = 2] = \"UNKNOWN\", t[t.INVALID_ARGUMENT = 3] = \"INVALID_ARGUMENT\", t[t.DEADLINE_EXCEEDED = 4] = \"DEADLINE_EXCEEDED\", t[t.NOT_FOUND = 5] = \"NOT_FOUND\", t[t.ALREADY_EXISTS = 6] = \"ALREADY_EXISTS\", t[t.PERMISSION_DENIED = 7] = \"PERMISSION_DENIED\", t[t.UNAUTHENTICATED = 16] = \"UNAUTHENTICATED\", t[t.RESOURCE_EXHAUSTED = 8] = \"RESOURCE_EXHAUSTED\", t[t.FAILED_PRECONDITION = 9] = \"FAILED_PRECONDITION\", t[t.ABORTED = 10] = \"ABORTED\", t[t.OUT_OF_RANGE = 11] = \"OUT_OF_RANGE\", t[t.UNIMPLEMENTED = 12] = \"UNIMPLEMENTED\", t[t.INTERNAL = 13] = \"INTERNAL\", t[t.UNAVAILABLE = 14] = \"UNAVAILABLE\", t[t.DATA_LOSS = 15] = \"DATA_LOSS\";\n}(__PRIVATE_RpcCode || (__PRIVATE_RpcCode = {}));\n\nvar __PRIVATE_EMPTY_MAYBE_DOCUMENT_MAP = new __PRIVATE_SortedMap(__PRIVATE_DocumentKey.H);\n\nfunction __PRIVATE_maybeDocumentMap() {\n  return __PRIVATE_EMPTY_MAYBE_DOCUMENT_MAP;\n}\n\nfunction __PRIVATE_nullableMaybeDocumentMap() {\n  return __PRIVATE_maybeDocumentMap();\n}\n\nvar __PRIVATE_EMPTY_DOCUMENT_MAP = new __PRIVATE_SortedMap(__PRIVATE_DocumentKey.H);\n\nfunction __PRIVATE_documentMap() {\n  return __PRIVATE_EMPTY_DOCUMENT_MAP;\n}\n\nvar __PRIVATE_EMPTY_DOCUMENT_VERSION_MAP = new __PRIVATE_SortedMap(__PRIVATE_DocumentKey.H);\n\nfunction __PRIVATE_documentVersionMap() {\n  return __PRIVATE_EMPTY_DOCUMENT_VERSION_MAP;\n}\n\nvar __PRIVATE_EMPTY_DOCUMENT_KEY_SET = new __PRIVATE_SortedSet(__PRIVATE_DocumentKey.H);\n\nfunction __PRIVATE_documentKeySet() {\n  for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];\n\n  for (var n = __PRIVATE_EMPTY_DOCUMENT_KEY_SET, r = 0, i = t; r < i.length; r++) {\n    var s = i[r];\n    n = n.add(s);\n  }\n\n  return n;\n}\n\nvar __PRIVATE_EMPTY_TARGET_ID_SET = new __PRIVATE_SortedSet(__PRIVATE_primitiveComparator);\n\nfunction __PRIVATE_targetIdSet() {\n  return __PRIVATE_EMPTY_TARGET_ID_SET;\n}\n\nvar __PRIVATE_ChangeType,\n    __PRIVATE_SyncState,\n    __PRIVATE_DocumentSet = function () {\n  function t(t) {\n    this.H = t ? function (e, n) {\n      return t(e, n) || __PRIVATE_DocumentKey.H(e.key, n.key);\n    } : function (t, e) {\n      return __PRIVATE_DocumentKey.H(t.key, e.key);\n    }, this.Ln = __PRIVATE_documentMap(), this.Gn = new __PRIVATE_SortedMap(this.H);\n  }\n\n  return t.Bn = function (e) {\n    return new t(e.H);\n  }, t.prototype.has = function (t) {\n    return null != this.Ln.get(t);\n  }, t.prototype.get = function (t) {\n    return this.Ln.get(t);\n  }, t.prototype.first = function () {\n    return this.Gn.Rt();\n  }, t.prototype.last = function () {\n    return this.Gn.It();\n  }, t.prototype.tt = function () {\n    return this.Gn.tt();\n  }, t.prototype.indexOf = function (t) {\n    var e = this.Ln.get(t);\n    return e ? this.Gn.indexOf(e) : -1;\n  }, Object.defineProperty(t.prototype, \"size\", {\n    get: function () {\n      return this.Gn.size;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.forEach = function (t) {\n    this.Gn.Vt(function (e, n) {\n      return t(e), !1;\n    });\n  }, t.prototype.add = function (t) {\n    var e = this.delete(t.key);\n    return e.copy(e.Ln.Pt(t.key, t), e.Gn.Pt(t, null));\n  }, t.prototype.delete = function (t) {\n    var e = this.get(t);\n    return e ? this.copy(this.Ln.remove(t), this.Gn.remove(e)) : this;\n  }, t.prototype.isEqual = function (e) {\n    if (!(e instanceof t)) return !1;\n    if (this.size !== e.size) return !1;\n\n    for (var n = this.Gn.pt(), r = e.Gn.pt(); n.Ct();) {\n      var i = n.Dt().key,\n          s = r.Dt().key;\n      if (!i.isEqual(s)) return !1;\n    }\n\n    return !0;\n  }, t.prototype.toString = function () {\n    var t = [];\n    return this.forEach(function (e) {\n      t.push(e.toString());\n    }), 0 === t.length ? \"DocumentSet ()\" : \"DocumentSet (\\n  \" + t.join(\"  \\n\") + \"\\n)\";\n  }, t.prototype.copy = function (e, n) {\n    var r = new t();\n    return r.H = this.H, r.Ln = e, r.Gn = n, r;\n  }, t;\n}();\n\n!function (t) {\n  t[t.Un = 0] = \"__PRIVATE_Added\", t[t.kn = 1] = \"__PRIVATE_Removed\", t[t.xn = 2] = \"__PRIVATE_Modified\", t[t.Kn = 3] = \"__PRIVATE_Metadata\";\n}(__PRIVATE_ChangeType || (__PRIVATE_ChangeType = {})), function (t) {\n  t[t.jn = 0] = \"__PRIVATE_Local\", t[t.qn = 1] = \"__PRIVATE_Synced\";\n}(__PRIVATE_SyncState || (__PRIVATE_SyncState = {}));\n\nvar __PRIVATE_WatchTargetChangeState,\n    __PRIVATE_DocumentChangeSet = function () {\n  function t() {\n    this.Qn = new __PRIVATE_SortedMap(__PRIVATE_DocumentKey.H);\n  }\n\n  return t.prototype.track = function (t) {\n    var e = t.doc.key,\n        n = this.Qn.get(e);\n    n ? t.type !== __PRIVATE_ChangeType.Un && n.type === __PRIVATE_ChangeType.Kn ? this.Qn = this.Qn.Pt(e, t) : t.type === __PRIVATE_ChangeType.Kn && n.type !== __PRIVATE_ChangeType.kn ? this.Qn = this.Qn.Pt(e, {\n      type: n.type,\n      doc: t.doc\n    }) : t.type === __PRIVATE_ChangeType.xn && n.type === __PRIVATE_ChangeType.xn ? this.Qn = this.Qn.Pt(e, {\n      type: __PRIVATE_ChangeType.xn,\n      doc: t.doc\n    }) : t.type === __PRIVATE_ChangeType.xn && n.type === __PRIVATE_ChangeType.Un ? this.Qn = this.Qn.Pt(e, {\n      type: __PRIVATE_ChangeType.Un,\n      doc: t.doc\n    }) : t.type === __PRIVATE_ChangeType.kn && n.type === __PRIVATE_ChangeType.Un ? this.Qn = this.Qn.remove(e) : t.type === __PRIVATE_ChangeType.kn && n.type === __PRIVATE_ChangeType.xn ? this.Qn = this.Qn.Pt(e, {\n      type: __PRIVATE_ChangeType.kn,\n      doc: n.doc\n    }) : t.type === __PRIVATE_ChangeType.Un && n.type === __PRIVATE_ChangeType.kn ? this.Qn = this.Qn.Pt(e, {\n      type: __PRIVATE_ChangeType.xn,\n      doc: t.doc\n    }) : fail(\"unsupported combination of changes: \" + JSON.stringify(t) + \" after \" + JSON.stringify(n)) : this.Qn = this.Qn.Pt(e, t);\n  }, t.prototype.Wn = function () {\n    var t = [];\n    return this.Qn.Vt(function (e, n) {\n      t.push(n);\n    }), t;\n  }, t;\n}(),\n    __PRIVATE_ViewSnapshot = function () {\n  function t(t, e, n, r, i, s, o, u) {\n    this.query = t, this.docs = e, this.$n = n, this.docChanges = r, this.Yn = i, this.fromCache = s, this.Hn = o, this.Xn = u;\n  }\n\n  return t.zn = function (e, n, r, i) {\n    var s = [];\n    return n.forEach(function (t) {\n      s.push({\n        type: __PRIVATE_ChangeType.Un,\n        doc: t\n      });\n    }), new t(e, n, __PRIVATE_DocumentSet.Bn(n), s, r, i, !0, !1);\n  }, Object.defineProperty(t.prototype, \"hasPendingWrites\", {\n    get: function () {\n      return !this.Yn.tt();\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.isEqual = function (t) {\n    if (!(this.fromCache === t.fromCache && this.Hn === t.Hn && this.Yn.isEqual(t.Yn) && this.query.isEqual(t.query) && this.docs.isEqual(t.docs) && this.$n.isEqual(t.$n))) return !1;\n    var e = this.docChanges,\n        n = t.docChanges;\n    if (e.length !== n.length) return !1;\n\n    for (var r = 0; r < e.length; r++) if (e[r].type !== n[r].type || !e[r].doc.isEqual(n[r].doc)) return !1;\n\n    return !0;\n  }, t;\n}(),\n    __PRIVATE_RemoteEvent = function () {\n  function t(t, e, n, r, i) {\n    this.On = t, this.Jn = e, this.Zn = n, this.tr = r, this.er = i;\n  }\n\n  return t.nr = function (e, n) {\n    var r,\n        i = ((r = {})[e] = TargetChange.rr(e, n), r);\n    return new t(__PRIVATE_SnapshotVersion.MIN, i, __PRIVATE_targetIdSet(), __PRIVATE_maybeDocumentMap(), __PRIVATE_documentKeySet());\n  }, t;\n}(),\n    TargetChange = function () {\n  function t(t, e, n, r, i) {\n    this.resumeToken = t, this.ir = e, this.sr = n, this.or = r, this.ur = i;\n  }\n\n  return t.rr = function (e, n) {\n    return new t(__PRIVATE_emptyByteString(), n, __PRIVATE_documentKeySet(), __PRIVATE_documentKeySet(), __PRIVATE_documentKeySet());\n  }, t;\n}(),\n    __PRIVATE_DocumentWatchChange = function (t, e, n, r) {\n  this.ar = t, this.removedTargetIds = e, this.key = n, this._r = r;\n},\n    __PRIVATE_ExistenceFilterChange = function (t, e) {\n  this.targetId = t, this.cr = e;\n};\n\n!function (t) {\n  t[t.hr = 0] = \"__PRIVATE_NoChange\", t[t.Un = 1] = \"__PRIVATE_Added\", t[t.kn = 2] = \"__PRIVATE_Removed\", t[t.lr = 3] = \"__PRIVATE_Current\", t[t.dr = 4] = \"__PRIVATE_Reset\";\n}(__PRIVATE_WatchTargetChangeState || (__PRIVATE_WatchTargetChangeState = {}));\n\nvar __PRIVATE_WatchTargetChange = function (t, e, n, r) {\n  void 0 === n && (n = __PRIVATE_emptyByteString()), void 0 === r && (r = null), this.state = t, this.targetIds = e, this.resumeToken = n, this.cause = r;\n},\n    __PRIVATE_TargetState = function () {\n  function t() {\n    this.Tr = 0, this.Er = __PRIVATE_snapshotChangesMap(), this.Pr = __PRIVATE_emptyByteString(), this.Ar = !1, this.Rr = !0;\n  }\n\n  return Object.defineProperty(t.prototype, \"ir\", {\n    get: function () {\n      return this.Ar;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"resumeToken\", {\n    get: function () {\n      return this.Pr;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"Ir\", {\n    get: function () {\n      return 0 !== this.Tr;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"Vr\", {\n    get: function () {\n      return this.Rr;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.mr = function (t) {\n    t.length > 0 && (this.Rr = !0, this.Pr = t);\n  }, t.prototype.vr = function () {\n    var t = __PRIVATE_documentKeySet(),\n        e = __PRIVATE_documentKeySet(),\n        n = __PRIVATE_documentKeySet();\n\n    return this.Er.forEach(function (r, i) {\n      switch (i) {\n        case __PRIVATE_ChangeType.Un:\n          t = t.add(r);\n          break;\n\n        case __PRIVATE_ChangeType.xn:\n          e = e.add(r);\n          break;\n\n        case __PRIVATE_ChangeType.kn:\n          n = n.add(r);\n          break;\n\n        default:\n          fail(\"Encountered invalid change type: \" + i);\n      }\n    }), new TargetChange(this.Pr, this.Ar, t, e, n);\n  }, t.prototype.pr = function () {\n    this.Rr = !1, this.Er = __PRIVATE_snapshotChangesMap();\n  }, t.prototype.br = function (t, e) {\n    this.Rr = !0, this.Er = this.Er.Pt(t, e);\n  }, t.prototype.gr = function (t) {\n    this.Rr = !0, this.Er = this.Er.remove(t);\n  }, t.prototype.wr = function () {\n    this.Tr += 1;\n  }, t.prototype.yr = function () {\n    this.Tr -= 1;\n  }, t.prototype.Sr = function () {\n    this.Rr = !0, this.Ar = !0;\n  }, t;\n}(),\n    __PRIVATE_LOG_TAG = \"WatchChangeAggregator\",\n    __PRIVATE_WatchChangeAggregator = function () {\n  function t(t) {\n    this.Dr = t, this.Cr = {}, this.Or = __PRIVATE_maybeDocumentMap(), this.Fr = __PRIVATE_documentTargetMap(), this.Nr = new __PRIVATE_SortedSet(__PRIVATE_primitiveComparator);\n  }\n\n  return t.prototype.Mr = function (t) {\n    for (var e = 0, n = t.ar; e < n.length; e++) {\n      var r = n[e];\n      t._r instanceof Document ? this.Lr(r, t._r) : t._r instanceof __PRIVATE_NoDocument && this.Gr(r, t.key, t._r);\n    }\n\n    for (var i = 0, s = t.removedTargetIds; i < s.length; i++) {\n      r = s[i];\n      this.Gr(r, t.key, t._r);\n    }\n  }, t.prototype.Br = function (t) {\n    var e = this;\n    this.Ur(t, function (n) {\n      var r = e.kr(n);\n\n      switch (t.state) {\n        case __PRIVATE_WatchTargetChangeState.hr:\n          e.xr(n) && r.mr(t.resumeToken);\n          break;\n\n        case __PRIVATE_WatchTargetChangeState.Un:\n          r.yr(), r.Ir || r.pr(), r.mr(t.resumeToken);\n          break;\n\n        case __PRIVATE_WatchTargetChangeState.kn:\n          r.yr(), r.Ir || e.removeTarget(n), assert(!t.cause, \"WatchChangeAggregator does not handle errored targets\");\n          break;\n\n        case __PRIVATE_WatchTargetChangeState.lr:\n          e.xr(n) && (r.Sr(), r.mr(t.resumeToken));\n          break;\n\n        case __PRIVATE_WatchTargetChangeState.dr:\n          e.xr(n) && (e.Kr(n), r.mr(t.resumeToken));\n          break;\n\n        default:\n          fail(\"Unknown target watch change state: \" + t.state);\n      }\n    });\n  }, t.prototype.Ur = function (t, e) {\n    t.targetIds.length > 0 ? t.targetIds.forEach(e) : __PRIVATE_forEachNumber(this.Cr, e);\n  }, t.prototype.jr = function (t) {\n    var e = t.targetId,\n        n = t.cr.count,\n        r = this.qr(e);\n\n    if (r) {\n      var i = r.target;\n      if (i.He()) {\n        if (0 === n) {\n          var s = new __PRIVATE_DocumentKey(i.path);\n          this.Gr(e, s, new __PRIVATE_NoDocument(s, __PRIVATE_SnapshotVersion.W()));\n        } else assert(1 === n, \"Single document existence filter with count: \" + n);\n      } else this.Qr(e) !== n && (this.Kr(e), this.Nr = this.Nr.add(e));\n    }\n  }, t.prototype.Wr = function (t) {\n    var e = this,\n        n = {};\n\n    __PRIVATE_forEachNumber(this.Cr, function (r, i) {\n      var s = e.qr(r);\n\n      if (s) {\n        if (i.ir && s.target.He()) {\n          var o = new __PRIVATE_DocumentKey(s.target.path);\n          null !== e.Or.get(o) || e.$r(r, o) || e.Gr(r, o, new __PRIVATE_NoDocument(o, t));\n        }\n\n        i.Vr && (n[r] = i.vr(), i.pr());\n      }\n    });\n\n    var r = __PRIVATE_documentKeySet();\n\n    this.Fr.forEach(function (t, n) {\n      var i = !0;\n      n.Qt(function (t) {\n        var n = e.qr(t);\n        return !n || n.Cn === __PRIVATE_TargetPurpose.Dn || (i = !1, !1);\n      }), i && (r = r.add(t));\n    });\n    var i = new __PRIVATE_RemoteEvent(t, n, this.Nr, this.Or, r);\n    return this.Or = __PRIVATE_maybeDocumentMap(), this.Fr = __PRIVATE_documentTargetMap(), this.Nr = new __PRIVATE_SortedSet(__PRIVATE_primitiveComparator), i;\n  }, t.prototype.Lr = function (t, e) {\n    if (this.xr(t)) {\n      var n = this.$r(t, e.key) ? __PRIVATE_ChangeType.xn : __PRIVATE_ChangeType.Un;\n      this.kr(t).br(e.key, n), this.Or = this.Or.Pt(e.key, e), this.Fr = this.Fr.Pt(e.key, this.Yr(e.key).add(t));\n    }\n  }, t.prototype.Gr = function (t, e, n) {\n    if (this.xr(t)) {\n      var r = this.kr(t);\n      this.$r(t, e) ? r.br(e, __PRIVATE_ChangeType.kn) : r.gr(e), this.Fr = this.Fr.Pt(e, this.Yr(e).delete(t)), n && (this.Or = this.Or.Pt(e, n));\n    }\n  }, t.prototype.removeTarget = function (t) {\n    delete this.Cr[t];\n  }, t.prototype.Qr = function (t) {\n    var e = this.kr(t).vr();\n    return this.Dr.Hr(t).size + e.sr.size - e.ur.size;\n  }, t.prototype.wr = function (t) {\n    this.kr(t).wr();\n  }, t.prototype.kr = function (t) {\n    return this.Cr[t] || (this.Cr[t] = new __PRIVATE_TargetState()), this.Cr[t];\n  }, t.prototype.Yr = function (t) {\n    var e = this.Fr.get(t);\n    return e || (e = new __PRIVATE_SortedSet(__PRIVATE_primitiveComparator), this.Fr = this.Fr.Pt(t, e)), e;\n  }, t.prototype.xr = function (t) {\n    var e = null !== this.qr(t);\n    return e || debug(__PRIVATE_LOG_TAG, \"Detected inactive target\", t), e;\n  }, t.prototype.qr = function (t) {\n    var e = this.Cr[t];\n    return e && e.Ir ? null : this.Dr.Xr(t);\n  }, t.prototype.Kr = function (t) {\n    var e = this;\n    assert(!this.Cr[t].Ir, \"Should only reset active targets\"), this.Cr[t] = new __PRIVATE_TargetState(), this.Dr.Hr(t).forEach(function (n) {\n      e.Gr(t, n, null);\n    });\n  }, t.prototype.$r = function (t, e) {\n    return this.Dr.Hr(t).has(e);\n  }, t;\n}();\n\nfunction __PRIVATE_documentTargetMap() {\n  return new __PRIVATE_SortedMap(__PRIVATE_DocumentKey.H);\n}\n\nfunction __PRIVATE_snapshotChangesMap() {\n  return new __PRIVATE_SortedMap(__PRIVATE_DocumentKey.H);\n}\n\nvar __PRIVATE_DIRECTIONS = function () {\n  var t = {};\n  return t[__PRIVATE_Direction.ASCENDING.name] = \"ASCENDING\", t[__PRIVATE_Direction.DESCENDING.name] = \"DESCENDING\", t;\n}(),\n    __PRIVATE_OPERATORS = function () {\n  var t = {};\n  return t[__PRIVATE_Operator.LESS_THAN.name] = \"LESS_THAN\", t[__PRIVATE_Operator.LESS_THAN_OR_EQUAL.name] = \"LESS_THAN_OR_EQUAL\", t[__PRIVATE_Operator.GREATER_THAN.name] = \"GREATER_THAN\", t[__PRIVATE_Operator.GREATER_THAN_OR_EQUAL.name] = \"GREATER_THAN_OR_EQUAL\", t[__PRIVATE_Operator.EQUAL.name] = \"EQUAL\", t[__PRIVATE_Operator.ARRAY_CONTAINS.name] = \"ARRAY_CONTAINS\", t[__PRIVATE_Operator.IN.name] = \"IN\", t[__PRIVATE_Operator.ARRAY_CONTAINS_ANY.name] = \"ARRAY_CONTAINS_ANY\", t;\n}(),\n    __PRIVATE_ISO_REG_EXP = new RegExp(/^\\d{4}-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d(?:\\.(\\d+))?Z$/);\n\nfunction __PRIVATE_assertPresent(t, e) {\n  assert(!isNullOrUndefined(t), e + \" is missing\");\n}\n\nfunction __PRIVATE_parseInt64(t) {\n  return \"number\" == typeof t ? t : \"string\" == typeof t ? Number(t) : fail(\"can't parse \" + t);\n}\n\nvar __PRIVATE_JsonProtoSerializer = function () {\n  function t(t, e) {\n    this.o = t, this.options = e;\n  }\n\n  return t.prototype.zr = function () {\n    return this.options.Jr ? \"\" : new Uint8Array(0);\n  }, t.prototype.Zr = function (t) {\n    return t;\n  }, t.prototype.ti = function (t) {\n    var e = void 0 === t.code ? Code.UNKNOWN : __PRIVATE_mapCodeFromRpcCode(t.code);\n    return new FirestoreError(e, t.message || \"\");\n  }, t.prototype.ei = function (t) {\n    return this.options.Jr || isNullOrUndefined(t) ? t : {\n      value: t\n    };\n  }, t.prototype.ni = function (t) {\n    var e;\n    return isNullOrUndefined(e = \"object\" == typeof t ? t.value : t) ? null : e;\n  }, t.prototype.Y = function (t) {\n    return this.options.Jr ? new Date(1e3 * t.seconds).toISOString().replace(/\\.\\d*/, \"\").replace(\"Z\", \"\") + \".\" + (\"000000000\" + t.nanoseconds).slice(-9) + \"Z\" : {\n      seconds: \"\" + t.seconds,\n      nanos: t.nanoseconds\n    };\n  }, t.prototype.q = function (t) {\n    if (\"string\" == typeof t) return this.ri(t);\n    assert(!!t, \"Cannot deserialize null or undefined timestamp.\");\n\n    var e = __PRIVATE_parseInt64(t.seconds || \"0\"),\n        n = t.nanos || 0;\n\n    return new Timestamp(e, n);\n  }, t.prototype.ri = function (t) {\n    var e = 0,\n        n = __PRIVATE_ISO_REG_EXP.exec(t);\n\n    if (assert(!!n, \"invalid timestamp: \" + t), n[1]) {\n      var r = n[1];\n      r = (r + \"000000000\").substr(0, 9), e = Number(r);\n    }\n\n    var i = new Date(t),\n        s = Math.floor(i.getTime() / 1e3);\n    return new Timestamp(s, e);\n  }, t.prototype.ii = function (t) {\n    return this.options.Jr ? t.toBase64() : this.Zr(t.toUint8Array());\n  }, t.prototype.si = function (t) {\n    return \"string\" == typeof t ? (assert(this.options.Jr, \"Expected bytes to be passed in as Uint8Array, but got a string instead.\"), Blob.fromBase64String(t)) : (assert(!this.options.Jr, \"Expected bytes to be passed in as Uint8Array, but got a string instead.\"), Blob.fromUint8Array(t));\n  }, t.prototype.toVersion = function (t) {\n    return this.Y(t.Y());\n  }, t.prototype.fromVersion = function (t) {\n    return assert(!!t, \"Trying to deserialize version that isn't set\"), __PRIVATE_SnapshotVersion.q(this.q(t));\n  }, t.prototype.oi = function (t, e) {\n    return this.ui(t).child(\"documents\").child(e).ot();\n  }, t.prototype.ai = function (t) {\n    var e = ResourcePath.ut(t);\n    return assert(this._i(e), \"Tried to deserialize invalid key \" + e.toString()), e;\n  }, t.prototype.ci = function (t) {\n    return this.oi(this.o, t.path);\n  }, t.prototype.hi = function (t) {\n    var e = this.ai(t);\n    return assert(e.get(1) === this.o.projectId, \"Tried to deserialize key from different project: \" + e.get(1) + \" vs \" + this.o.projectId), assert(!e.get(3) && !this.o.database || e.get(3) === this.o.database, \"Tried to deserialize key from different database: \" + e.get(3) + \" vs \" + this.o.database), new __PRIVATE_DocumentKey(this.fi(e));\n  }, t.prototype.li = function (t) {\n    return this.oi(this.o, t);\n  }, t.prototype.di = function (t) {\n    var e = this.ai(t);\n    return 4 === e.length ? ResourcePath.at : this.fi(e);\n  }, Object.defineProperty(t.prototype, \"Ti\", {\n    get: function () {\n      return new ResourcePath([\"projects\", this.o.projectId, \"databases\", this.o.database]).ot();\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.ui = function (t) {\n    return new ResourcePath([\"projects\", t.projectId, \"databases\", t.database]);\n  }, t.prototype.fi = function (t) {\n    return assert(t.length > 4 && \"documents\" === t.get(4), \"tried to deserialize invalid key \" + t.toString()), t.J(5);\n  }, t.prototype._i = function (t) {\n    return t.length >= 4 && \"projects\" === t.get(0) && \"databases\" === t.get(2);\n  }, t.prototype.Ei = function (t) {\n    if (t instanceof __PRIVATE_NullValue) return {\n      nullValue: \"NULL_VALUE\"\n    };\n    if (t instanceof __PRIVATE_BooleanValue) return {\n      booleanValue: t.value()\n    };\n    if (t instanceof __PRIVATE_IntegerValue) return {\n      integerValue: \"\" + t.value()\n    };\n\n    if (t instanceof __PRIVATE_DoubleValue) {\n      var e = t.value();\n\n      if (this.options.Jr) {\n        if (isNaN(e)) return {\n          doubleValue: \"NaN\"\n        };\n        if (e === 1 / 0) return {\n          doubleValue: \"Infinity\"\n        };\n        if (e === -1 / 0) return {\n          doubleValue: \"-Infinity\"\n        };\n      }\n\n      return {\n        doubleValue: t.value()\n      };\n    }\n\n    return t instanceof __PRIVATE_StringValue ? {\n      stringValue: t.value()\n    } : t instanceof __PRIVATE_ObjectValue ? {\n      mapValue: this.Pi(t)\n    } : t instanceof ArrayValue ? {\n      arrayValue: this.Ai(t)\n    } : t instanceof __PRIVATE_TimestampValue ? {\n      timestampValue: this.Y(t.Zt)\n    } : t instanceof __PRIVATE_GeoPointValue ? {\n      geoPointValue: {\n        latitude: t.value().latitude,\n        longitude: t.value().longitude\n      }\n    } : t instanceof __PRIVATE_BlobValue ? {\n      bytesValue: this.ii(t.value())\n    } : t instanceof __PRIVATE_RefValue ? {\n      referenceValue: this.oi(t.o, t.key.path)\n    } : fail(\"Unknown FieldValue \" + JSON.stringify(t));\n  }, t.prototype.Ri = function (t) {\n    var e = this;\n    if (\"nullValue\" in t) return __PRIVATE_NullValue.Le;\n    if (\"booleanValue\" in t) return __PRIVATE_BooleanValue.of(t.booleanValue);\n    if (\"integerValue\" in t) return new __PRIVATE_IntegerValue(__PRIVATE_parseInt64(t.integerValue));\n\n    if (\"doubleValue\" in t) {\n      if (this.options.Jr) {\n        if (\"NaN\" === t.doubleValue) return __PRIVATE_DoubleValue.Ue;\n        if (\"Infinity\" === t.doubleValue) return __PRIVATE_DoubleValue.POSITIVE_INFINITY;\n        if (\"-Infinity\" === t.doubleValue) return __PRIVATE_DoubleValue.NEGATIVE_INFINITY;\n      }\n\n      return new __PRIVATE_DoubleValue(t.doubleValue);\n    }\n\n    if (\"stringValue\" in t) return new __PRIVATE_StringValue(t.stringValue);\n    if (\"mapValue\" in t) return this.Ii(t.mapValue.fields || {});\n\n    if (\"arrayValue\" in t) {\n      __PRIVATE_assertPresent(t.arrayValue, \"arrayValue\");\n\n      var n = t.arrayValue.values || [];\n      return new ArrayValue(n.map(function (t) {\n        return e.Ri(t);\n      }));\n    }\n\n    if (\"timestampValue\" in t) return __PRIVATE_assertPresent(t.timestampValue, \"timestampValue\"), new __PRIVATE_TimestampValue(this.q(t.timestampValue));\n\n    if (\"geoPointValue\" in t) {\n      __PRIVATE_assertPresent(t.geoPointValue, \"geoPointValue\");\n\n      var r = t.geoPointValue.latitude || 0,\n          i = t.geoPointValue.longitude || 0;\n      return new __PRIVATE_GeoPointValue(new GeoPoint(r, i));\n    }\n\n    if (\"bytesValue\" in t) {\n      __PRIVATE_assertPresent(t.bytesValue, \"bytesValue\");\n\n      var s = this.si(t.bytesValue);\n      return new __PRIVATE_BlobValue(s);\n    }\n\n    if (\"referenceValue\" in t) {\n      __PRIVATE_assertPresent(t.referenceValue, \"referenceValue\");\n\n      var o = this.ai(t.referenceValue),\n          u = new __PRIVATE_DatabaseId(o.get(1), o.get(3)),\n          a = new __PRIVATE_DocumentKey(this.fi(o));\n      return new __PRIVATE_RefValue(u, a);\n    }\n\n    return fail(\"Unknown Value proto \" + JSON.stringify(t));\n  }, t.prototype.Vi = function (t, e) {\n    return {\n      name: this.ci(t),\n      fields: this.mi(e)\n    };\n  }, t.prototype.vi = function (t) {\n    return assert(!t.ce, \"Can't serialize documents with mutations.\"), {\n      name: this.ci(t.key),\n      fields: this.mi(t.data()),\n      updateTime: this.Y(t.version.Y())\n    };\n  }, t.prototype.pi = function (t, e) {\n    var n = this,\n        r = this.hi(t.name),\n        i = this.fromVersion(t.updateTime);\n    return new Document(r, i, {\n      hasCommittedMutations: !!e\n    }, void 0, t, function (t) {\n      return n.Ri(t);\n    });\n  }, t.prototype.mi = function (t) {\n    var e = this,\n        n = {};\n    return t.forEach(function (t, r) {\n      n[t] = e.Ei(r);\n    }), n;\n  }, t.prototype.Ii = function (t) {\n    var e = this,\n        n = t,\n        r = __PRIVATE_ObjectValue.EMPTY;\n    return forEach(n, function (t, n) {\n      r = r.set(new FieldPath([t]), e.Ri(n));\n    }), r;\n  }, t.prototype.Pi = function (t) {\n    return {\n      fields: this.mi(t)\n    };\n  }, t.prototype.Ai = function (t) {\n    var e = this,\n        n = [];\n    return t.forEach(function (t) {\n      n.push(e.Ei(t));\n    }), {\n      values: n\n    };\n  }, t.prototype.bi = function (t) {\n    var e = this;\n    assert(!!t.found, \"Tried to deserialize a found document from a missing document.\"), __PRIVATE_assertPresent(t.found.name, \"doc.found.name\"), __PRIVATE_assertPresent(t.found.updateTime, \"doc.found.updateTime\");\n    var n = this.hi(t.found.name),\n        r = this.fromVersion(t.found.updateTime);\n    return new Document(n, r, {}, void 0, t.found, function (t) {\n      return e.Ri(t);\n    });\n  }, t.prototype.gi = function (t) {\n    assert(!!t.missing, \"Tried to deserialize a missing document from a found document.\"), assert(!!t.readTime, \"Tried to deserialize a missing document without a read time.\");\n    var e = this.hi(t.missing),\n        n = this.fromVersion(t.readTime);\n    return new __PRIVATE_NoDocument(e, n);\n  }, t.prototype.wi = function (t) {\n    return \"found\" in t ? this.bi(t) : \"missing\" in t ? this.gi(t) : fail(\"invalid batch get response: \" + JSON.stringify(t));\n  }, t.prototype.yi = function (t) {\n    switch (t) {\n      case __PRIVATE_WatchTargetChangeState.Un:\n        return \"ADD\";\n\n      case __PRIVATE_WatchTargetChangeState.lr:\n        return \"CURRENT\";\n\n      case __PRIVATE_WatchTargetChangeState.hr:\n        return \"NO_CHANGE\";\n\n      case __PRIVATE_WatchTargetChangeState.kn:\n        return \"REMOVE\";\n\n      case __PRIVATE_WatchTargetChangeState.dr:\n        return \"RESET\";\n\n      default:\n        return fail(\"Unknown WatchTargetChangeState: \" + t);\n    }\n  }, t.prototype.Si = function (t) {\n    if (t instanceof __PRIVATE_ExistenceFilterChange) return {\n      filter: {\n        count: t.cr.count,\n        targetId: t.targetId\n      }\n    };\n\n    if (t instanceof __PRIVATE_DocumentWatchChange) {\n      if (t._r instanceof Document) {\n        var e = t._r;\n        return {\n          documentChange: {\n            document: {\n              name: this.ci(e.key),\n              fields: this.mi(e.data()),\n              updateTime: this.toVersion(e.version)\n            },\n            targetIds: t.ar,\n            removedTargetIds: t.removedTargetIds\n          }\n        };\n      }\n\n      if (t._r instanceof __PRIVATE_NoDocument) {\n        e = t._r;\n        return {\n          documentDelete: {\n            document: this.ci(e.key),\n            readTime: this.toVersion(e.version),\n            removedTargetIds: t.removedTargetIds\n          }\n        };\n      }\n\n      if (null === t._r) return {\n        documentRemove: {\n          document: this.ci(t.key),\n          removedTargetIds: t.removedTargetIds\n        }\n      };\n    }\n\n    if (t instanceof __PRIVATE_WatchTargetChange) {\n      var n = void 0;\n      return t.cause && (n = {\n        code: __PRIVATE_mapRpcCodeFromCode(t.cause.code),\n        message: t.cause.message\n      }), {\n        targetChange: {\n          targetChangeType: this.yi(t.state),\n          targetIds: t.targetIds,\n          resumeToken: this.Zr(t.resumeToken),\n          cause: n\n        }\n      };\n    }\n\n    return fail(\"Unrecognized watch change: \" + JSON.stringify(t));\n  }, t.prototype.Di = function (t) {\n    var e,\n        n = this;\n\n    if (\"targetChange\" in t) {\n      __PRIVATE_assertPresent(t.targetChange, \"targetChange\");\n\n      var r = this.Ci(t.targetChange.targetChangeType || \"NO_CHANGE\"),\n          i = t.targetChange.targetIds || [],\n          s = t.targetChange.resumeToken || this.zr(),\n          o = t.targetChange.cause,\n          u = o && this.ti(o);\n      e = new __PRIVATE_WatchTargetChange(r, i, s, u || null);\n    } else if (\"documentChange\" in t) {\n      __PRIVATE_assertPresent(t.documentChange, \"documentChange\");\n\n      var a = t.documentChange;\n      __PRIVATE_assertPresent(a.document, \"documentChange.name\"), __PRIVATE_assertPresent(a.document.name, \"documentChange.document.name\"), __PRIVATE_assertPresent(a.document.updateTime, \"documentChange.document.updateTime\");\n\n      var _ = this.hi(a.document.name),\n          c = this.fromVersion(a.document.updateTime),\n          h = new Document(_, c, {}, void 0, a.document, function (t) {\n        return n.Ri(t);\n      }),\n          f = a.targetIds || [],\n          l = a.removedTargetIds || [];\n\n      e = new __PRIVATE_DocumentWatchChange(f, l, h.key, h);\n    } else if (\"documentDelete\" in t) {\n      __PRIVATE_assertPresent(t.documentDelete, \"documentDelete\");\n\n      var d = t.documentDelete;\n\n      __PRIVATE_assertPresent(d.document, \"documentDelete.document\");\n\n      _ = this.hi(d.document), c = d.readTime ? this.fromVersion(d.readTime) : __PRIVATE_SnapshotVersion.W(), h = new __PRIVATE_NoDocument(_, c), l = d.removedTargetIds || [];\n      e = new __PRIVATE_DocumentWatchChange([], l, h.key, h);\n    } else if (\"documentRemove\" in t) {\n      __PRIVATE_assertPresent(t.documentRemove, \"documentRemove\");\n\n      var T = t.documentRemove;\n\n      __PRIVATE_assertPresent(T.document, \"documentRemove\");\n\n      _ = this.hi(T.document), l = T.removedTargetIds || [];\n      e = new __PRIVATE_DocumentWatchChange([], l, _, null);\n    } else {\n      if (!(\"filter\" in t)) return fail(\"Unknown change type \" + JSON.stringify(t));\n\n      __PRIVATE_assertPresent(t.filter, \"filter\");\n\n      var E = t.filter;\n\n      __PRIVATE_assertPresent(E.targetId, \"filter.targetId\");\n\n      var P = E.count || 0,\n          A = new ExistenceFilter(P),\n          R = E.targetId;\n      e = new __PRIVATE_ExistenceFilterChange(R, A);\n    }\n\n    return e;\n  }, t.prototype.Ci = function (t) {\n    return \"NO_CHANGE\" === t ? __PRIVATE_WatchTargetChangeState.hr : \"ADD\" === t ? __PRIVATE_WatchTargetChangeState.Un : \"REMOVE\" === t ? __PRIVATE_WatchTargetChangeState.kn : \"CURRENT\" === t ? __PRIVATE_WatchTargetChangeState.lr : \"RESET\" === t ? __PRIVATE_WatchTargetChangeState.dr : fail(\"Got unexpected TargetChange.state: \" + t);\n  }, t.prototype.Oi = function (t) {\n    if (!(\"targetChange\" in t)) return __PRIVATE_SnapshotVersion.MIN;\n    var e = t.targetChange;\n    return e.targetIds && e.targetIds.length ? __PRIVATE_SnapshotVersion.MIN : e.readTime ? this.fromVersion(e.readTime) : __PRIVATE_SnapshotVersion.MIN;\n  }, t.prototype.Fi = function (t) {\n    var e,\n        n = this;\n    if (t instanceof __PRIVATE_SetMutation) e = {\n      update: this.Vi(t.key, t.value)\n    };else if (t instanceof __PRIVATE_DeleteMutation) e = {\n      delete: this.ci(t.key)\n    };else if (t instanceof __PRIVATE_PatchMutation) e = {\n      update: this.Vi(t.key, t.data),\n      updateMask: this.Ni(t.fe)\n    };else if (t instanceof __PRIVATE_TransformMutation) e = {\n      transform: {\n        document: this.ci(t.key),\n        fieldTransforms: t.fieldTransforms.map(function (t) {\n          return n.Mi(t);\n        })\n      }\n    };else {\n      if (!(t instanceof __PRIVATE_VerifyMutation)) return fail(\"Unknown mutation type \" + t.type);\n      e = {\n        verify: this.ci(t.key)\n      };\n    }\n    return t._e.se || (e.currentDocument = this.Li(t._e)), e;\n  }, t.prototype.Gi = function (t) {\n    var e = this,\n        n = t.currentDocument ? this.Bi(t.currentDocument) : Precondition.NONE;\n\n    if (t.update) {\n      __PRIVATE_assertPresent(t.update.name, \"name\");\n\n      var r = this.hi(t.update.name),\n          i = this.Ii(t.update.fields || {});\n\n      if (t.updateMask) {\n        var s = this.Ui(t.updateMask);\n        return new __PRIVATE_PatchMutation(r, i, s, n);\n      }\n\n      return new __PRIVATE_SetMutation(r, i, n);\n    }\n\n    if (t.delete) {\n      r = this.hi(t.delete);\n      return new __PRIVATE_DeleteMutation(r, n);\n    }\n\n    if (t.transform) {\n      r = this.hi(t.transform.document);\n      var o = t.transform.fieldTransforms.map(function (t) {\n        return e.ki(t);\n      });\n      return assert(!0 === n.exists, 'Transforms only support precondition \"exists == true\"'), new __PRIVATE_TransformMutation(r, o);\n    }\n\n    if (t.verify) {\n      r = this.hi(t.verify);\n      return new __PRIVATE_VerifyMutation(r, n);\n    }\n\n    return fail(\"unknown mutation proto: \" + JSON.stringify(t));\n  }, t.prototype.Li = function (t) {\n    return assert(!t.se, \"Can't serialize an empty precondition\"), void 0 !== t.updateTime ? {\n      updateTime: this.toVersion(t.updateTime)\n    } : void 0 !== t.exists ? {\n      exists: t.exists\n    } : fail(\"Unknown precondition\");\n  }, t.prototype.Bi = function (t) {\n    return void 0 !== t.updateTime ? Precondition.updateTime(this.fromVersion(t.updateTime)) : void 0 !== t.exists ? Precondition.exists(t.exists) : Precondition.NONE;\n  }, t.prototype.xi = function (t, e) {\n    var n = this,\n        r = t.updateTime ? this.fromVersion(t.updateTime) : this.fromVersion(e);\n    r.isEqual(__PRIVATE_SnapshotVersion.MIN) && (r = this.fromVersion(e));\n    var i = null;\n    return t.transformResults && t.transformResults.length > 0 && (i = t.transformResults.map(function (t) {\n      return n.Ri(t);\n    })), new __PRIVATE_MutationResult(r, i);\n  }, t.prototype.Ki = function (t, e) {\n    var n = this;\n    return t && t.length > 0 ? (assert(void 0 !== e, \"Received a write result without a commit time\"), t.map(function (t) {\n      return n.xi(t, e);\n    })) : [];\n  }, t.prototype.Mi = function (t) {\n    var e = this,\n        n = t.transform;\n    if (n instanceof __PRIVATE_ServerTimestampTransform) return {\n      fieldPath: t.field.ot(),\n      setToServerValue: \"REQUEST_TIME\"\n    };\n    if (n instanceof __PRIVATE_ArrayUnionTransformOperation) return {\n      fieldPath: t.field.ot(),\n      appendMissingElements: {\n        values: n.elements.map(function (t) {\n          return e.Ei(t);\n        })\n      }\n    };\n    if (n instanceof __PRIVATE_ArrayRemoveTransformOperation) return {\n      fieldPath: t.field.ot(),\n      removeAllFromArray: {\n        values: n.elements.map(function (t) {\n          return e.Ei(t);\n        })\n      }\n    };\n    if (n instanceof __PRIVATE_NumericIncrementTransformOperation) return {\n      fieldPath: t.field.ot(),\n      increment: this.Ei(n.Jt)\n    };\n    throw fail(\"Unknown transform: \" + t.transform);\n  }, t.prototype.ki = function (t) {\n    var e = this,\n        n = null;\n    if (\"setToServerValue\" in t) assert(\"REQUEST_TIME\" === t.setToServerValue, \"Unknown server value transform proto: \" + JSON.stringify(t)), n = __PRIVATE_ServerTimestampTransform.instance;else if (\"appendMissingElements\" in t) {\n      var r = t.appendMissingElements.values || [];\n      n = new __PRIVATE_ArrayUnionTransformOperation(r.map(function (t) {\n        return e.Ri(t);\n      }));\n    } else if (\"removeAllFromArray\" in t) {\n      r = t.removeAllFromArray.values || [];\n      n = new __PRIVATE_ArrayRemoveTransformOperation(r.map(function (t) {\n        return e.Ri(t);\n      }));\n    } else if (\"increment\" in t) {\n      var i = this.Ri(t.increment);\n      assert(i instanceof __PRIVATE_NumberValue, \"NUMERIC_ADD transform requires a NumberValue\"), n = new __PRIVATE_NumericIncrementTransformOperation(i);\n    } else fail(\"Unknown transform proto: \" + JSON.stringify(t));\n    var s = FieldPath.ft(t.fieldPath);\n    return new FieldTransform(s, n);\n  }, t.prototype.ji = function (t) {\n    return {\n      documents: [this.li(t.path)]\n    };\n  }, t.prototype.qi = function (t) {\n    var e = t.documents.length;\n    assert(1 === e, \"DocumentsTarget contained other than 1 document: \" + e);\n    var n = t.documents[0];\n    return Query.rn(this.di(n)).Tn();\n  }, t.prototype.Qi = function (t) {\n    var e = {\n      structuredQuery: {}\n    },\n        n = t.path;\n    null !== t.collectionGroup ? (assert(n.length % 2 == 0, \"Collection Group queries should be within a document path or root.\"), e.parent = this.li(n), e.structuredQuery.from = [{\n      collectionId: t.collectionGroup,\n      allDescendants: !0\n    }]) : (assert(n.length % 2 != 0, \"Document queries with filters are not supported.\"), e.parent = this.li(n.Z()), e.structuredQuery.from = [{\n      collectionId: n.nt()\n    }]);\n    var r = this.Wi(t.filters);\n    r && (e.structuredQuery.where = r);\n    var i = this.$i(t.orderBy);\n    i && (e.structuredQuery.orderBy = i);\n    var s = this.ei(t.limit);\n    return null !== s && (e.structuredQuery.limit = s), t.startAt && (e.structuredQuery.startAt = this.Yi(t.startAt)), t.endAt && (e.structuredQuery.endAt = this.Yi(t.endAt)), e;\n  }, t.prototype.Hi = function (t) {\n    var e = this.di(t.parent),\n        n = t.structuredQuery,\n        r = n.from ? n.from.length : 0,\n        i = null;\n\n    if (r > 0) {\n      assert(1 === r, \"StructuredQuery.from with more than one collection is not supported.\");\n      var s = n.from[0];\n      s.allDescendants ? i = s.collectionId : e = e.child(s.collectionId);\n    }\n\n    var o = [];\n    n.where && (o = this.Xi(n.where));\n    var u = [];\n    n.orderBy && (u = this.zi(n.orderBy));\n    var a = null;\n    n.limit && (a = this.ni(n.limit));\n    var _ = null;\n    n.startAt && (_ = this.Ji(n.startAt));\n    var c = null;\n    return n.endAt && (c = this.Ji(n.endAt)), new Query(e, i, u, o, a, __PRIVATE_LimitType.Xe, _, c).Tn();\n  }, t.prototype.Zi = function (t) {\n    var e = this.ts(t.Cn);\n    return null == e ? null : {\n      \"goog-listen-tags\": e\n    };\n  }, t.prototype.ts = function (t) {\n    switch (t) {\n      case __PRIVATE_TargetPurpose.yn:\n        return null;\n\n      case __PRIVATE_TargetPurpose.Sn:\n        return \"existence-filter-mismatch\";\n\n      case __PRIVATE_TargetPurpose.Dn:\n        return \"limbo-document\";\n\n      default:\n        return fail(\"Unrecognized query purpose: \" + t);\n    }\n  }, t.prototype.Tn = function (t) {\n    var e,\n        n = t.target;\n    return (e = n.He() ? {\n      documents: this.ji(n)\n    } : {\n      query: this.Qi(n)\n    }).targetId = t.targetId, t.resumeToken.length > 0 && (e.resumeToken = this.Zr(t.resumeToken)), e;\n  }, t.prototype.Wi = function (t) {\n    var e = this;\n\n    if (0 !== t.length) {\n      var n = t.map(function (t) {\n        return t instanceof FieldFilter ? e.es(t) : fail(\"Unrecognized filter: \" + JSON.stringify(t));\n      });\n      return 1 === n.length ? n[0] : {\n        compositeFilter: {\n          op: \"AND\",\n          filters: n\n        }\n      };\n    }\n  }, t.prototype.Xi = function (t) {\n    var e = this;\n    return t ? void 0 !== t.unaryFilter ? [this.ns(t)] : void 0 !== t.fieldFilter ? [this.rs(t)] : void 0 !== t.compositeFilter ? t.compositeFilter.filters.map(function (t) {\n      return e.Xi(t);\n    }).reduce(function (t, e) {\n      return t.concat(e);\n    }) : fail(\"Unknown filter: \" + JSON.stringify(t)) : [];\n  }, t.prototype.$i = function (t) {\n    var e = this;\n    if (0 !== t.length) return t.map(function (t) {\n      return e.ss(t);\n    });\n  }, t.prototype.zi = function (t) {\n    var e = this;\n    return t.map(function (t) {\n      return e.os(t);\n    });\n  }, t.prototype.Yi = function (t) {\n    var e = this;\n    return {\n      before: t.before,\n      values: t.position.map(function (t) {\n        return e.Ei(t);\n      })\n    };\n  }, t.prototype.Ji = function (t) {\n    var e = this,\n        n = !!t.before,\n        r = t.values.map(function (t) {\n      return e.Ri(t);\n    });\n    return new __PRIVATE_Bound(r, n);\n  }, t.prototype.us = function (t) {\n    return __PRIVATE_DIRECTIONS[t.name];\n  }, t.prototype.as = function (t) {\n    switch (t) {\n      case \"ASCENDING\":\n        return __PRIVATE_Direction.ASCENDING;\n\n      case \"DESCENDING\":\n        return __PRIVATE_Direction.DESCENDING;\n\n      default:\n        return;\n    }\n  }, t.prototype._s = function (t) {\n    return __PRIVATE_OPERATORS[t.name];\n  }, t.prototype.cs = function (t) {\n    switch (t) {\n      case \"EQUAL\":\n        return __PRIVATE_Operator.EQUAL;\n\n      case \"GREATER_THAN\":\n        return __PRIVATE_Operator.GREATER_THAN;\n\n      case \"GREATER_THAN_OR_EQUAL\":\n        return __PRIVATE_Operator.GREATER_THAN_OR_EQUAL;\n\n      case \"LESS_THAN\":\n        return __PRIVATE_Operator.LESS_THAN;\n\n      case \"LESS_THAN_OR_EQUAL\":\n        return __PRIVATE_Operator.LESS_THAN_OR_EQUAL;\n\n      case \"ARRAY_CONTAINS\":\n        return __PRIVATE_Operator.ARRAY_CONTAINS;\n\n      case \"IN\":\n        return __PRIVATE_Operator.IN;\n\n      case \"ARRAY_CONTAINS_ANY\":\n        return __PRIVATE_Operator.ARRAY_CONTAINS_ANY;\n\n      case \"OPERATOR_UNSPECIFIED\":\n        return fail(\"Unspecified operator\");\n\n      default:\n        return fail(\"Unknown operator\");\n    }\n  }, t.prototype.hs = function (t) {\n    return {\n      fieldPath: t.ot()\n    };\n  }, t.prototype.fs = function (t) {\n    return FieldPath.ft(t.fieldPath);\n  }, t.prototype.ss = function (t) {\n    return {\n      field: this.hs(t.field),\n      direction: this.us(t.dir)\n    };\n  }, t.prototype.os = function (t) {\n    return new __PRIVATE_OrderBy(this.fs(t.field), this.as(t.direction));\n  }, t.prototype.rs = function (t) {\n    return FieldFilter.create(this.fs(t.fieldFilter.field), this.cs(t.fieldFilter.op), this.Ri(t.fieldFilter.value));\n  }, t.prototype.es = function (t) {\n    if (t.op === __PRIVATE_Operator.EQUAL) {\n      if (t.value.isEqual(__PRIVATE_DoubleValue.Ue)) return {\n        unaryFilter: {\n          field: this.hs(t.field),\n          op: \"IS_NAN\"\n        }\n      };\n      if (t.value.isEqual(__PRIVATE_NullValue.Le)) return {\n        unaryFilter: {\n          field: this.hs(t.field),\n          op: \"IS_NULL\"\n        }\n      };\n    }\n\n    return {\n      fieldFilter: {\n        field: this.hs(t.field),\n        op: this._s(t.op),\n        value: this.Ei(t.value)\n      }\n    };\n  }, t.prototype.ns = function (t) {\n    switch (t.unaryFilter.op) {\n      case \"IS_NAN\":\n        var e = this.fs(t.unaryFilter.field);\n        return FieldFilter.create(e, __PRIVATE_Operator.EQUAL, __PRIVATE_DoubleValue.Ue);\n\n      case \"IS_NULL\":\n        var n = this.fs(t.unaryFilter.field);\n        return FieldFilter.create(n, __PRIVATE_Operator.EQUAL, __PRIVATE_NullValue.Le);\n\n      case \"OPERATOR_UNSPECIFIED\":\n        return fail(\"Unspecified filter\");\n\n      default:\n        return fail(\"Unknown filter\");\n    }\n  }, t.prototype.Ni = function (t) {\n    var e = [];\n    return t.fields.forEach(function (t) {\n      return e.push(t.ot());\n    }), {\n      fieldPaths: e\n    };\n  }, t.prototype.Ui = function (t) {\n    var e = (t.fieldPaths || []).map(function (t) {\n      return FieldPath.ft(t);\n    });\n    return __PRIVATE_FieldMask.ee(e);\n  }, t;\n}(),\n    __PRIVATE_PlatformSupport = function () {\n  function t() {}\n\n  return t.ls = function (e) {\n    t.platform && fail(\"Platform already defined\"), t.platform = e;\n  }, t.t = function () {\n    return t.platform || fail(\"Platform not set\"), t.platform;\n  }, t;\n}();\n\nfunction __PRIVATE_emptyByteString() {\n  return __PRIVATE_PlatformSupport.t().zr;\n}\n\nfunction __PRIVATE_makeConstructorPrivate(t, e) {\n  function n() {\n    var t = \"This constructor is private.\";\n    throw e && (t += \" \", t += e), new FirestoreError(Code.INVALID_ARGUMENT, t);\n  }\n\n  for (var r in n.prototype = t.prototype, t) t.hasOwnProperty(r) && (n[r] = t[r]);\n\n  return n;\n}\n\nfunction __PRIVATE_assertUint8ArrayAvailable() {\n  if (\"undefined\" == typeof Uint8Array) throw new FirestoreError(Code.UNIMPLEMENTED, \"Uint8Arrays are not available in this environment.\");\n}\n\nfunction __PRIVATE_assertBase64Available() {\n  if (!__PRIVATE_PlatformSupport.t().ds) throw new FirestoreError(Code.UNIMPLEMENTED, \"Blobs are unavailable in Firestore in this environment.\");\n}\n\nvar __PRIVATE_TimerId,\n    Blob = function () {\n  function t(t) {\n    __PRIVATE_assertBase64Available(), this.Ts = t;\n  }\n\n  return t.fromBase64String = function (e) {\n    __PRIVATE_validateExactNumberOfArgs(\"Blob.fromBase64String\", arguments, 1), __PRIVATE_validateArgType(\"Blob.fromBase64String\", \"string\", 1, e), __PRIVATE_assertBase64Available();\n\n    try {\n      var n = __PRIVATE_PlatformSupport.t().atob(e);\n\n      return new t(n);\n    } catch (t) {\n      throw new FirestoreError(Code.INVALID_ARGUMENT, \"Failed to construct Blob from Base64 string: \" + t);\n    }\n  }, t.fromUint8Array = function (e) {\n    if (__PRIVATE_validateExactNumberOfArgs(\"Blob.fromUint8Array\", arguments, 1), __PRIVATE_assertUint8ArrayAvailable(), !(e instanceof Uint8Array)) throw __PRIVATE_invalidClassError(\"Blob.fromUint8Array\", \"Uint8Array\", 1, e);\n    var n = Array.prototype.map.call(e, function (t) {\n      return String.fromCharCode(t);\n    }).join(\"\");\n    return new t(n);\n  }, t.prototype.toBase64 = function () {\n    return __PRIVATE_validateExactNumberOfArgs(\"Blob.toBase64\", arguments, 0), __PRIVATE_assertBase64Available(), __PRIVATE_PlatformSupport.t().btoa(this.Ts);\n  }, t.prototype.toUint8Array = function () {\n    __PRIVATE_validateExactNumberOfArgs(\"Blob.toUint8Array\", arguments, 0), __PRIVATE_assertUint8ArrayAvailable();\n\n    for (var t = new Uint8Array(this.Ts.length), e = 0; e < this.Ts.length; e++) t[e] = this.Ts.charCodeAt(e);\n\n    return t;\n  }, t.prototype.toString = function () {\n    return \"Blob(base64: \" + this.toBase64() + \")\";\n  }, t.prototype.isEqual = function (t) {\n    return this.Ts === t.Ts;\n  }, t.prototype.xe = function () {\n    return 2 * this.Ts.length;\n  }, t.prototype.K = function (t) {\n    return __PRIVATE_primitiveComparator(this.Ts, t.Ts);\n  }, t;\n}(),\n    __PRIVATE_PublicBlob = __PRIVATE_makeConstructorPrivate(Blob, \"Use Blob.fromUint8Array() or Blob.fromBase64String() instead.\"),\n    __PRIVATE_ListenSequence = function () {\n  function t(t, e) {\n    var n = this;\n    this.previousValue = t, e && (e.Es = function (t) {\n      return n.Ps(t);\n    }, this.As = function (t) {\n      return e.Rs(t);\n    });\n  }\n\n  return t.prototype.Ps = function (t) {\n    return this.previousValue = Math.max(t, this.previousValue), this.previousValue;\n  }, t.prototype.next = function () {\n    var t = ++this.previousValue;\n    return this.As && this.As(t), t;\n  }, t.Is = -1, t;\n}(),\n    __PRIVATE_Deferred = function () {\n  var t = this;\n  this.promise = new Promise(function (e, n) {\n    t.resolve = e, t.reject = n;\n  });\n};\n\n!function (t) {\n  t.Vs = \"all\", t.ms = \"listen_stream_idle\", t.vs = \"listen_stream_connection_backoff\", t.ps = \"write_stream_idle\", t.bs = \"write_stream_connection_backoff\", t.gs = \"online_state_timeout\", t.ws = \"client_metadata_refresh\", t.ys = \"lru_garbage_collection\", t.Ss = \"retry_transaction\";\n}(__PRIVATE_TimerId || (__PRIVATE_TimerId = {}));\n\nvar __PRIVATE_DelayedOperation = function () {\n  function t(t, e, n, r, i) {\n    this.Ds = t, this.Cs = e, this.Os = n, this.op = r, this.Fs = i, this.Ns = new __PRIVATE_Deferred(), this.then = this.Ns.promise.then.bind(this.Ns.promise), this.catch = this.Ns.promise.catch.bind(this.Ns.promise), this.Ns.promise.catch(function (t) {});\n  }\n\n  return t.Ms = function (e, n, r, i, s) {\n    var o = new t(e, n, Date.now() + r, i, s);\n    return o.start(r), o;\n  }, t.prototype.start = function (t) {\n    var e = this;\n    this.Ls = setTimeout(function () {\n      return e.Gs();\n    }, t);\n  }, t.prototype.Bs = function () {\n    return this.Gs();\n  }, t.prototype.cancel = function (t) {\n    null !== this.Ls && (this.clearTimeout(), this.Ns.reject(new FirestoreError(Code.CANCELLED, \"Operation cancelled\" + (t ? \": \" + t : \"\"))));\n  }, t.prototype.Gs = function () {\n    var t = this;\n    this.Ds.Us(function () {\n      return null !== t.Ls ? (t.clearTimeout(), t.op().then(function (e) {\n        return t.Ns.resolve(e);\n      })) : Promise.resolve();\n    });\n  }, t.prototype.clearTimeout = function () {\n    null !== this.Ls && (this.Fs(this), clearTimeout(this.Ls), this.Ls = null);\n  }, t;\n}(),\n    __PRIVATE_AsyncQueue = function () {\n  function t() {\n    this.ks = Promise.resolve(), this.xs = !1, this.Ks = [], this.js = null, this.qs = !1, this.Qs = [];\n  }\n\n  return Object.defineProperty(t.prototype, \"Ws\", {\n    get: function () {\n      return this.xs;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.Us = function (t) {\n    this.enqueue(t);\n  }, t.prototype.$s = function (t) {\n    this.Ys(), this.Hs(t);\n  }, t.prototype.Xs = function (t) {\n    return this.Ys(), this.Hs(t);\n  }, t.prototype.zs = function (t) {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      return tslib.__generator(this, function (e) {\n        switch (e.label) {\n          case 0:\n            return this.Ys(), this.xs ? [3, 2] : (this.xs = !0, [4, this.Xs(t)]);\n\n          case 1:\n            e.sent(), e.label = 2;\n\n          case 2:\n            return [2];\n        }\n      });\n    });\n  }, t.prototype.enqueue = function (t) {\n    return this.Ys(), this.xs ? new Promise(function (t) {}) : this.Hs(t);\n  }, t.prototype.Hs = function (t) {\n    var e = this,\n        n = this.ks.then(function () {\n      return e.qs = !0, t().catch(function (t) {\n        e.js = t, e.qs = !1;\n        var n = t.stack || t.message || \"\";\n        throw error(\"INTERNAL UNHANDLED ERROR: \", n), n.indexOf(\"Firestore Test Simulated Error\") < 0 && setTimeout(function () {\n          throw t;\n        }, 0), t;\n      }).then(function (t) {\n        return e.qs = !1, t;\n      });\n    });\n    return this.ks = n, n;\n  }, t.prototype.Js = function (t, e, n) {\n    var r = this;\n    this.Ys(), assert(e >= 0, \"Attempted to schedule an operation with a negative delay of \" + e), this.Qs.indexOf(t) > -1 && (e = 0);\n\n    var i = __PRIVATE_DelayedOperation.Ms(this, t, e, n, function (t) {\n      return r.Zs(t);\n    });\n\n    return this.Ks.push(i), i;\n  }, t.prototype.Ys = function () {\n    this.js && fail(\"AsyncQueue is already failed: \" + (this.js.stack || this.js.message));\n  }, t.prototype.to = function () {\n    assert(this.qs, \"verifyOpInProgress() called when no op in progress on this queue.\");\n  }, t.prototype.eo = function () {\n    return this.Xs(function () {\n      return Promise.resolve();\n    });\n  }, t.prototype.no = function (t) {\n    for (var e = 0, n = this.Ks; e < n.length; e++) {\n      if (n[e].Cs === t) return !0;\n    }\n\n    return !1;\n  }, t.prototype.ro = function (t) {\n    var e = this;\n    return this.eo().then(function () {\n      assert(t === __PRIVATE_TimerId.Vs || e.no(t), \"Attempted to drain to missing operation \" + t), e.Ks.sort(function (t, e) {\n        return t.Os - e.Os;\n      });\n\n      for (var n = 0, r = e.Ks; n < r.length; n++) {\n        var i = r[n];\n        if (i.Bs(), t !== __PRIVATE_TimerId.Vs && i.Cs === t) break;\n      }\n\n      return e.eo();\n    });\n  }, t.prototype.io = function (t) {\n    this.Qs.push(t);\n  }, t.prototype.Zs = function (t) {\n    var e = this.Ks.indexOf(t);\n    assert(e >= 0, \"Delayed operation not found.\"), this.Ks.splice(e, 1);\n  }, t;\n}(),\n    __PRIVATE_escapeChar = \"\u0001\",\n    __PRIVATE_encodedSeparatorChar = \"\u0001\",\n    __PRIVATE_encodedNul = \"\u0010\",\n    __PRIVATE_encodedEscape = \"\u0011\";\n\nfunction encode(t) {\n  for (var e = \"\", n = 0; n < t.length; n++) e.length > 0 && (e = __PRIVATE_encodeSeparator(e)), e = __PRIVATE_encodeSegment(t.get(n), e);\n\n  return __PRIVATE_encodeSeparator(e);\n}\n\nfunction __PRIVATE_encodeSegment(t, e) {\n  for (var n = e, r = t.length, i = 0; i < r; i++) {\n    var s = t.charAt(i);\n\n    switch (s) {\n      case \"\\0\":\n        n += __PRIVATE_escapeChar + __PRIVATE_encodedNul;\n        break;\n\n      case __PRIVATE_escapeChar:\n        n += __PRIVATE_escapeChar + __PRIVATE_encodedEscape;\n        break;\n\n      default:\n        n += s;\n    }\n  }\n\n  return n;\n}\n\nfunction __PRIVATE_encodeSeparator(t) {\n  return t + __PRIVATE_escapeChar + __PRIVATE_encodedSeparatorChar;\n}\n\nfunction decode(t) {\n  var e = t.length;\n  if (assert(e >= 2, \"Invalid path \" + t), 2 === e) return assert(t.charAt(0) === __PRIVATE_escapeChar && t.charAt(1) === __PRIVATE_encodedSeparatorChar, \"Non-empty path \" + t + \" had length 2\"), ResourcePath.at;\n\n  for (var n = e - 2, r = [], i = \"\", s = 0; s < e;) {\n    var o = t.indexOf(__PRIVATE_escapeChar, s);\n\n    switch ((o < 0 || o > n) && fail('Invalid encoded resource path: \"' + t + '\"'), t.charAt(o + 1)) {\n      case __PRIVATE_encodedSeparatorChar:\n        var u = t.substring(s, o),\n            a = void 0;\n        0 === i.length ? a = u : (a = i += u, i = \"\"), r.push(a);\n        break;\n\n      case __PRIVATE_encodedNul:\n        i += t.substring(s, o), i += \"\\0\";\n        break;\n\n      case __PRIVATE_encodedEscape:\n        i += t.substring(s, o + 1);\n        break;\n\n      default:\n        fail('Invalid encoded resource path: \"' + t + '\"');\n    }\n\n    s = o + 2;\n  }\n\n  return new ResourcePath(r);\n}\n\nvar __PRIVATE_BATCHID_UNKNOWN = -1,\n    __PRIVATE_MutationBatch = function () {\n  function t(t, e, n, r) {\n    this.batchId = t, this.ke = e, this.baseMutations = n, this.mutations = r, assert(r.length > 0, \"Cannot create an empty mutation batch\");\n  }\n\n  return t.prototype.Xt = function (t, e, n) {\n    e && assert(e.key.isEqual(t), \"applyToRemoteDocument: key \" + t + \" should match maybeDoc key\\n        \" + e.key);\n    var r = n.so;\n    assert(r.length === this.mutations.length, \"Mismatch between mutations length\\n      (\" + this.mutations.length + \") and mutation results length\\n      (\" + r.length + \").\");\n\n    for (var i = 0; i < this.mutations.length; i++) {\n      var s = this.mutations[i];\n\n      if (s.key.isEqual(t)) {\n        var o = r[i];\n        e = s.Xt(e, o);\n      }\n    }\n\n    return e;\n  }, t.prototype.Ht = function (t, e) {\n    e && assert(e.key.isEqual(t), \"applyToLocalDocument: key \" + t + \" should match maybeDoc key\\n        \" + e.key);\n\n    for (var n = 0, r = this.baseMutations; n < r.length; n++) {\n      (u = r[n]).key.isEqual(t) && (e = u.Ht(e, e, this.ke));\n    }\n\n    for (var i = e, s = 0, o = this.mutations; s < o.length; s++) {\n      var u;\n      (u = o[s]).key.isEqual(t) && (e = u.Ht(e, i, this.ke));\n    }\n\n    return e;\n  }, t.prototype.oo = function (t) {\n    var e = this,\n        n = t;\n    return this.mutations.forEach(function (r) {\n      var i = e.Ht(r.key, t.get(r.key));\n      i && (n = n.Pt(r.key, i));\n    }), n;\n  }, t.prototype.keys = function () {\n    return this.mutations.reduce(function (t, e) {\n      return t.add(e.key);\n    }, __PRIVATE_documentKeySet());\n  }, t.prototype.isEqual = function (t) {\n    return this.batchId === t.batchId && __PRIVATE_arrayEquals(this.mutations, t.mutations) && __PRIVATE_arrayEquals(this.baseMutations, t.baseMutations);\n  }, t;\n}(),\n    __PRIVATE_MutationBatchResult = function () {\n  function t(t, e, n, r, i) {\n    this.batch = t, this.uo = e, this.so = n, this.streamToken = r, this.ao = i;\n  }\n\n  return t.from = function (e, n, r, i) {\n    assert(e.mutations.length === r.length, \"Mutations sent \" + e.mutations.length + \" must equal results received \" + r.length);\n\n    for (var s = __PRIVATE_documentVersionMap(), o = e.mutations, u = 0; u < o.length; u++) s = s.Pt(o[u].key, r[u].version);\n\n    return new t(e, n, r, i, s);\n  }, t;\n}(),\n    __PRIVATE_ReferenceSet = function () {\n  function t() {\n    this._o = new __PRIVATE_SortedSet(__PRIVATE_DocReference.je), this.co = new __PRIVATE_SortedSet(__PRIVATE_DocReference.ho);\n  }\n\n  return t.prototype.tt = function () {\n    return this._o.tt();\n  }, t.prototype.fo = function (t, e) {\n    var n = new __PRIVATE_DocReference(t, e);\n    this._o = this._o.add(n), this.co = this.co.add(n);\n  }, t.prototype.lo = function (t, e) {\n    var n = this;\n    t.forEach(function (t) {\n      return n.fo(t, e);\n    });\n  }, t.prototype.do = function (t, e) {\n    this.To(new __PRIVATE_DocReference(t, e));\n  }, t.prototype.Eo = function (t, e) {\n    var n = this;\n    t.forEach(function (t) {\n      return n.do(t, e);\n    });\n  }, t.prototype.Po = function (t) {\n    var e = this,\n        n = __PRIVATE_DocumentKey.EMPTY,\n        r = new __PRIVATE_DocReference(n, t),\n        i = new __PRIVATE_DocReference(n, t + 1),\n        s = [];\n    return this.co.qt([r, i], function (t) {\n      e.To(t), s.push(t.key);\n    }), s;\n  }, t.prototype.Ao = function () {\n    var t = this;\n\n    this._o.forEach(function (e) {\n      return t.To(e);\n    });\n  }, t.prototype.To = function (t) {\n    this._o = this._o.delete(t), this.co = this.co.delete(t);\n  }, t.prototype.Ro = function (t) {\n    var e = __PRIVATE_DocumentKey.EMPTY,\n        n = new __PRIVATE_DocReference(e, t),\n        r = new __PRIVATE_DocReference(e, t + 1),\n        i = __PRIVATE_documentKeySet();\n\n    return this.co.qt([n, r], function (t) {\n      i = i.add(t.key);\n    }), i;\n  }, t.prototype.Io = function (t) {\n    var e = new __PRIVATE_DocReference(t, 0),\n        n = this._o.Wt(e);\n\n    return null !== n && t.isEqual(n.key);\n  }, t;\n}(),\n    __PRIVATE_DocReference = function () {\n  function t(t, e) {\n    this.key = t, this.Vo = e;\n  }\n\n  return t.je = function (t, e) {\n    return __PRIVATE_DocumentKey.H(t.key, e.key) || __PRIVATE_primitiveComparator(t.Vo, e.Vo);\n  }, t.ho = function (t, e) {\n    return __PRIVATE_primitiveComparator(t.Vo, e.Vo) || __PRIVATE_DocumentKey.H(t.key, e.key);\n  }, t;\n}(),\n    __PRIVATE_ObjectMap = function () {\n  function t(t) {\n    this.mo = t, this.vo = {};\n  }\n\n  return t.prototype.get = function (t) {\n    var e = this.mo(t),\n        n = this.vo[e];\n    if (void 0 !== n) for (var r = 0, i = n; r < i.length; r++) {\n      var s = i[r],\n          o = s[0],\n          u = s[1];\n      if (o.isEqual(t)) return u;\n    }\n  }, t.prototype.has = function (t) {\n    return void 0 !== this.get(t);\n  }, t.prototype.set = function (t, e) {\n    var n = this.mo(t),\n        r = this.vo[n];\n\n    if (void 0 !== r) {\n      for (var i = 0; i < r.length; i++) if (r[i][0].isEqual(t)) return void (r[i] = [t, e]);\n\n      r.push([t, e]);\n    } else this.vo[n] = [[t, e]];\n  }, t.prototype.delete = function (t) {\n    var e = this.mo(t),\n        n = this.vo[e];\n    if (void 0 === n) return !1;\n\n    for (var r = 0; r < n.length; r++) if (n[r][0].isEqual(t)) return 1 === n.length ? delete this.vo[e] : n.splice(r, 1), !0;\n\n    return !1;\n  }, t.prototype.forEach = function (t) {\n    forEach(this.vo, function (e, n) {\n      for (var r = 0, i = n; r < i.length; r++) {\n        var s = i[r],\n            o = s[0],\n            u = s[1];\n        t(o, u);\n      }\n    });\n  }, t.prototype.tt = function () {\n    return __PRIVATE_isEmpty(this.vo);\n  }, t;\n}(),\n    PersistencePromise = function () {\n  function t(t) {\n    var e = this;\n    this.po = null, this.bo = null, this.result = void 0, this.error = void 0, this.wo = !1, this.yo = !1, t(function (t) {\n      e.wo = !0, e.result = t, e.po && e.po(t);\n    }, function (t) {\n      e.wo = !0, e.error = t, e.bo && e.bo(t);\n    });\n  }\n\n  return t.prototype.catch = function (t) {\n    return this.next(void 0, t);\n  }, t.prototype.next = function (e, n) {\n    var r = this;\n    return this.yo && fail(\"Called next() or catch() twice for PersistencePromise\"), this.yo = !0, this.wo ? this.error ? this.So(n, this.error) : this.Do(e, this.result) : new t(function (t, i) {\n      r.po = function (n) {\n        r.Do(e, n).next(t, i);\n      }, r.bo = function (e) {\n        r.So(n, e).next(t, i);\n      };\n    });\n  }, t.prototype.Co = function () {\n    var t = this;\n    return new Promise(function (e, n) {\n      t.next(e, n);\n    });\n  }, t.prototype.Oo = function (e) {\n    try {\n      var n = e();\n      return n instanceof t ? n : t.resolve(n);\n    } catch (e) {\n      return t.reject(e);\n    }\n  }, t.prototype.Do = function (e, n) {\n    return e ? this.Oo(function () {\n      return e(n);\n    }) : t.resolve(n);\n  }, t.prototype.So = function (e, n) {\n    return e ? this.Oo(function () {\n      return e(n);\n    }) : t.reject(n);\n  }, t.resolve = function (e) {\n    return new t(function (t, n) {\n      t(e);\n    });\n  }, t.reject = function (e) {\n    return new t(function (t, n) {\n      n(e);\n    });\n  }, t.Fo = function (e) {\n    return new t(function (t, n) {\n      var r = 0,\n          i = 0,\n          s = !1;\n      e.forEach(function (e) {\n        ++r, e.next(function () {\n          ++i, s && i === r && t();\n        }, function (t) {\n          return n(t);\n        });\n      }), s = !0, i === r && t();\n    });\n  }, t.No = function (e) {\n    for (var n = t.resolve(!1), r = function (e) {\n      n = n.next(function (n) {\n        return n ? t.resolve(n) : e();\n      });\n    }, i = 0, s = e; i < s.length; i++) {\n      r(s[i]);\n    }\n\n    return n;\n  }, t.forEach = function (t, e) {\n    var n = this,\n        r = [];\n    return t.forEach(function (t, i) {\n      r.push(e.call(n, t, i));\n    }), this.Fo(r);\n  }, t;\n}(),\n    __PRIVATE_RemoteDocumentChangeBuffer = function () {\n  function t() {\n    this.Mo = new __PRIVATE_ObjectMap(function (t) {\n      return t.toString();\n    }), this.Lo = !1;\n  }\n\n  return Object.defineProperty(t.prototype, \"readTime\", {\n    get: function () {\n      return assert(void 0 !== this.Go, \"Read time is not set. All removeEntry() calls must include a readTime if `trackRemovals` is used.\"), this.Go;\n    },\n    set: function (t) {\n      assert(void 0 === this.Go || this.Go.isEqual(t), \"All changes in a RemoteDocumentChangeBuffer must have the same read time\"), this.Go = t;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.Bo = function (t, e) {\n    this.Uo(), this.readTime = e, this.Mo.set(t.key, t);\n  }, t.prototype.ko = function (t, e) {\n    this.Uo(), e && (this.readTime = e), this.Mo.set(t, null);\n  }, t.prototype.xo = function (t, e) {\n    this.Uo();\n    var n = this.Mo.get(e);\n    return void 0 !== n ? PersistencePromise.resolve(n) : this.Ko(t, e);\n  }, t.prototype.getEntries = function (t, e) {\n    return this.jo(t, e);\n  }, t.prototype.apply = function (t) {\n    return this.Uo(), this.Lo = !0, this.qo(t);\n  }, t.prototype.Uo = function () {\n    assert(!this.Lo, \"Changes have already been applied.\");\n  }, t;\n}(),\n    __PRIVATE_PRIMARY_LEASE_LOST_ERROR_MSG = \"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.\",\n    __PRIVATE_PersistenceTransaction = function () {\n  function t() {\n    this.Qo = [];\n  }\n\n  return t.prototype.Wo = function (t) {\n    this.Qo.push(t);\n  }, t.prototype.$o = function () {\n    this.Qo.forEach(function (t) {\n      return t();\n    });\n  }, t;\n}(),\n    __PRIVATE_LOG_TAG$1 = \"SimpleDb\",\n    __PRIVATE_TRANSACTION_RETRY_COUNT = 3,\n    __PRIVATE_SimpleDb = function () {\n  function t(e) {\n    this.db = e, 12.2 === t.Yo(util.getUA()) && error(\"Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.\");\n  }\n\n  return t.Ho = function (e, n, r) {\n    return assert(t.Xo(), \"IndexedDB not supported in current environment.\"), debug(__PRIVATE_LOG_TAG$1, \"Opening database:\", e), new PersistencePromise(function (i, s) {\n      var o = window.indexedDB.open(e, n);\n      o.onsuccess = function (e) {\n        var n = e.target.result;\n        i(new t(n));\n      }, o.onblocked = function () {\n        s(new FirestoreError(Code.FAILED_PRECONDITION, \"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed.\"));\n      }, o.onerror = function (t) {\n        var e = t.target.error;\n        \"VersionError\" === e.name ? s(new FirestoreError(Code.FAILED_PRECONDITION, \"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.\")) : s(e);\n      }, o.onupgradeneeded = function (t) {\n        debug(__PRIVATE_LOG_TAG$1, 'Database \"' + e + '\" requires upgrade from version:', t.oldVersion);\n        var n = t.target.result;\n        r.createOrUpgrade(n, o.transaction, t.oldVersion, SCHEMA_VERSION).next(function () {\n          debug(__PRIVATE_LOG_TAG$1, \"Database upgrade to version \" + SCHEMA_VERSION + \" complete\");\n        });\n      };\n    }).Co();\n  }, t.delete = function (t) {\n    return debug(__PRIVATE_LOG_TAG$1, \"Removing database:\", t), __PRIVATE_wrapRequest(window.indexedDB.deleteDatabase(t)).Co();\n  }, t.Xo = function () {\n    if (\"undefined\" == typeof window || null == window.indexedDB) return !1;\n    if (t.zo()) return !0;\n    if (void 0 === window.navigator) return !1;\n    var e = util.getUA(),\n        n = t.Yo(e),\n        r = 0 < n && n < 10,\n        i = t.Jo(e),\n        s = 0 < i && i < 4.5;\n    return !(e.indexOf(\"MSIE \") > 0 || e.indexOf(\"Trident/\") > 0 || e.indexOf(\"Edge/\") > 0 || r || s);\n  }, t.zo = function () {\n    var t;\n    return \"undefined\" != typeof process && \"YES\" === (null === (t = process.env) || void 0 === t ? void 0 : t.Zo);\n  }, t.tu = function (t, e) {\n    return t.store(e);\n  }, t.Yo = function (t) {\n    var e = t.match(/i(?:phone|pad|pod) os ([\\d_]+)/i),\n        n = e ? e[1].split(\"_\").slice(0, 2).join(\".\") : \"-1\";\n    return Number(n);\n  }, t.Jo = function (t) {\n    var e = t.match(/Android ([\\d.]+)/i),\n        n = e ? e[1].split(\".\").slice(0, 2).join(\".\") : \"-1\";\n    return Number(n);\n  }, t.prototype.eu = function (t) {\n    this.db.onversionchange = function (e) {\n      return t(e);\n    };\n  }, t.prototype.runTransaction = function (t, e, n) {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      var r, i, s, o, u, a;\n      return tslib.__generator(this, function (_) {\n        switch (_.label) {\n          case 0:\n            r = t.startsWith(\"readonly\"), i = t.endsWith(\"idempotent\"), s = 0, o = function () {\n              var t, o, a, _;\n\n              return tslib.__generator(this, function (c) {\n                switch (c.label) {\n                  case 0:\n                    ++s, t = __PRIVATE_SimpleDbTransaction.open(u.db, r ? \"readonly\" : \"readwrite\", e), c.label = 1;\n\n                  case 1:\n                    return c.trys.push([1, 3,, 4]), (o = n(t).catch(function (e) {\n                      return t.abort(e), PersistencePromise.reject(e);\n                    }).Co()).catch(function () {}), [4, t.nu];\n\n                  case 2:\n                    return c.sent(), [2, {\n                      value: o\n                    }];\n\n                  case 3:\n                    return a = c.sent(), _ = i && \"FirebaseError\" !== a.name && s < __PRIVATE_TRANSACTION_RETRY_COUNT, debug(__PRIVATE_LOG_TAG$1, \"Transaction failed with error: %s. Retrying: %s.\", a.message, _), _ ? [3, 4] : [2, {\n                      value: Promise.reject(a)\n                    }];\n\n                  case 4:\n                    return [2];\n                }\n              });\n            }, u = this, _.label = 1;\n\n          case 1:\n            return [5, o()];\n\n          case 2:\n            return \"object\" == typeof (a = _.sent()) ? [2, a.value] : [3, 1];\n\n          case 3:\n            return [2];\n        }\n      });\n    });\n  }, t.prototype.close = function () {\n    this.db.close();\n  }, t;\n}(),\n    __PRIVATE_IterationController = function () {\n  function t(t) {\n    this.ru = t, this.iu = !1, this.su = null;\n  }\n\n  return Object.defineProperty(t.prototype, \"wo\", {\n    get: function () {\n      return this.iu;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"ou\", {\n    get: function () {\n      return this.su;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"cursor\", {\n    set: function (t) {\n      this.ru = t;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.done = function () {\n    this.iu = !0;\n  }, t.prototype.uu = function (t) {\n    this.su = t;\n  }, t.prototype.delete = function () {\n    return __PRIVATE_wrapRequest(this.ru.delete());\n  }, t;\n}(),\n    __PRIVATE_SimpleDbTransaction = function () {\n  function t(t) {\n    var e = this;\n    this.transaction = t, this.aborted = !1, this.au = new __PRIVATE_Deferred(), this.transaction.oncomplete = function () {\n      e.au.resolve();\n    }, this.transaction.onabort = function () {\n      t.error ? e.au.reject(t.error) : e.au.resolve();\n    }, this.transaction.onerror = function (t) {\n      var n = __PRIVATE_checkForAndReportiOSError(t.target.error);\n\n      e.au.reject(n);\n    };\n  }\n\n  return t.open = function (e, n, r) {\n    return new t(e.transaction(r, n));\n  }, Object.defineProperty(t.prototype, \"nu\", {\n    get: function () {\n      return this.au.promise;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.abort = function (t) {\n    t && this.au.reject(t), this.aborted || (debug(__PRIVATE_LOG_TAG$1, \"Aborting transaction:\", t ? t.message : \"Client-initiated abort\"), this.aborted = !0, this.transaction.abort());\n  }, t.prototype.store = function (t) {\n    var e = this.transaction.objectStore(t);\n    return assert(!!e, \"Object store not part of transaction: \" + t), new __PRIVATE_SimpleDbStore(e);\n  }, t;\n}(),\n    __PRIVATE_SimpleDbStore = function () {\n  function t(t) {\n    this.store = t;\n  }\n\n  return t.prototype.put = function (t, e) {\n    var n;\n    return void 0 !== e ? (debug(__PRIVATE_LOG_TAG$1, \"PUT\", this.store.name, t, e), n = this.store.put(e, t)) : (debug(__PRIVATE_LOG_TAG$1, \"PUT\", this.store.name, \"<auto-key>\", t), n = this.store.put(t)), __PRIVATE_wrapRequest(n);\n  }, t.prototype.add = function (t) {\n    return debug(__PRIVATE_LOG_TAG$1, \"ADD\", this.store.name, t, t), __PRIVATE_wrapRequest(this.store.add(t));\n  }, t.prototype.get = function (t) {\n    var e = this;\n    return __PRIVATE_wrapRequest(this.store.get(t)).next(function (n) {\n      return void 0 === n && (n = null), debug(__PRIVATE_LOG_TAG$1, \"GET\", e.store.name, t, n), n;\n    });\n  }, t.prototype.delete = function (t) {\n    return debug(__PRIVATE_LOG_TAG$1, \"DELETE\", this.store.name, t), __PRIVATE_wrapRequest(this.store.delete(t));\n  }, t.prototype.count = function () {\n    return debug(__PRIVATE_LOG_TAG$1, \"COUNT\", this.store.name), __PRIVATE_wrapRequest(this.store.count());\n  }, t.prototype._u = function (t, e) {\n    var n = this.cursor(this.options(t, e)),\n        r = [];\n    return this.cu(n, function (t, e) {\n      r.push(e);\n    }).next(function () {\n      return r;\n    });\n  }, t.prototype.hu = function (t, e) {\n    debug(__PRIVATE_LOG_TAG$1, \"DELETE ALL\", this.store.name);\n    var n = this.options(t, e);\n    n.fu = !1;\n    var r = this.cursor(n);\n    return this.cu(r, function (t, e, n) {\n      return n.delete();\n    });\n  }, t.prototype.lu = function (t, e) {\n    var n;\n    e ? n = t : (n = {}, e = t);\n    var r = this.cursor(n);\n    return this.cu(r, e);\n  }, t.prototype.du = function (t) {\n    var e = this.cursor({});\n    return new PersistencePromise(function (n, r) {\n      e.onerror = function (t) {\n        var e = __PRIVATE_checkForAndReportiOSError(t.target.error);\n\n        r(e);\n      }, e.onsuccess = function (e) {\n        var r = e.target.result;\n        r ? t(r.primaryKey, r.value).next(function (t) {\n          t ? r.continue() : n();\n        }) : n();\n      };\n    });\n  }, t.prototype.cu = function (t, e) {\n    var n = [];\n    return new PersistencePromise(function (r, i) {\n      t.onerror = function (t) {\n        i(t.target.error);\n      }, t.onsuccess = function (t) {\n        var i = t.target.result;\n\n        if (i) {\n          var s = new __PRIVATE_IterationController(i),\n              o = e(i.primaryKey, i.value, s);\n\n          if (o instanceof PersistencePromise) {\n            var u = o.catch(function (t) {\n              return s.done(), PersistencePromise.reject(t);\n            });\n            n.push(u);\n          }\n\n          s.wo ? r() : null === s.ou ? i.continue() : i.continue(s.ou);\n        } else r();\n      };\n    }).next(function () {\n      return PersistencePromise.Fo(n);\n    });\n  }, t.prototype.options = function (t, e) {\n    var n = void 0;\n    return void 0 !== t && (\"string\" == typeof t ? n = t : (assert(void 0 === e, \"3rd argument must not be defined if 2nd is a range.\"), e = t)), {\n      index: n,\n      range: e\n    };\n  }, t.prototype.cursor = function (t) {\n    var e = \"next\";\n\n    if (t.reverse && (e = \"prev\"), t.index) {\n      var n = this.store.index(t.index);\n      return t.fu ? n.openKeyCursor(t.range, e) : n.openCursor(t.range, e);\n    }\n\n    return this.store.openCursor(t.range, e);\n  }, t;\n}();\n\nfunction __PRIVATE_wrapRequest(t) {\n  return new PersistencePromise(function (e, n) {\n    t.onsuccess = function (t) {\n      var n = t.target.result;\n      e(n);\n    }, t.onerror = function (t) {\n      var e = __PRIVATE_checkForAndReportiOSError(t.target.error);\n\n      n(e);\n    };\n  });\n}\n\nvar __PRIVATE_reportedIOSError = !1;\n\nfunction __PRIVATE_checkForAndReportiOSError(t) {\n  var e = __PRIVATE_SimpleDb.Yo(util.getUA());\n\n  if (e >= 12.2 && e < 13) {\n    var n = \"An internal error was encountered in the Indexed Database server\";\n\n    if (t.message.indexOf(n) >= 0) {\n      var r = new FirestoreError(\"internal\", \"IOS_INDEXEDDB_BUG1: IndexedDb has thrown '\" + n + \"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.\");\n      return __PRIVATE_reportedIOSError || (__PRIVATE_reportedIOSError = !0, setTimeout(function () {\n        throw r;\n      }, 0)), r;\n    }\n  }\n\n  return t;\n}\n\nvar __PRIVATE_IndexedDbMutationQueue = function () {\n  function t(t, e, n, r) {\n    this.userId = t, this.serializer = e, this.Tu = n, this.Eu = r, this.Pu = {};\n  }\n\n  return t.Au = function (e, n, r, i) {\n    return assert(\"\" !== e.uid, \"UserID must not be an empty string.\"), new t(e.R() ? e.uid : \"\", n, r, i);\n  }, t.prototype.Ru = function (t) {\n    var e = !0,\n        n = IDBKeyRange.bound([this.userId, Number.NEGATIVE_INFINITY], [this.userId, Number.POSITIVE_INFINITY]);\n    return __PRIVATE_mutationsStore(t).lu({\n      index: DbMutationBatch.userMutationsIndex,\n      range: n\n    }, function (t, n, r) {\n      e = !1, r.done();\n    }).next(function () {\n      return e;\n    });\n  }, t.prototype.Iu = function (t, e, n) {\n    return this.Vu(t).next(function (e) {\n      return e.lastStreamToken = __PRIVATE_convertStreamToken(n), __PRIVATE_mutationQueuesStore(t).put(e);\n    });\n  }, t.prototype.mu = function (t) {\n    return this.Vu(t).next(function (t) {\n      return t.lastStreamToken;\n    });\n  }, t.prototype.vu = function (t, e) {\n    return this.Vu(t).next(function (n) {\n      return n.lastStreamToken = __PRIVATE_convertStreamToken(e), __PRIVATE_mutationQueuesStore(t).put(n);\n    });\n  }, t.prototype.pu = function (t, e, n, r) {\n    var i = this,\n        s = __PRIVATE_documentMutationsStore(t),\n        o = __PRIVATE_mutationsStore(t);\n\n    return o.add({}).next(function (u) {\n      assert(\"number\" == typeof u, \"Auto-generated key is not a number\");\n\n      for (var a = new __PRIVATE_MutationBatch(u, e, n, r), _ = i.serializer.bu(i.userId, a), c = [], h = new __PRIVATE_SortedSet(function (t, e) {\n        return __PRIVATE_primitiveComparator(t.ot(), e.ot());\n      }), f = 0, l = r; f < l.length; f++) {\n        var d = l[f],\n            T = DbDocumentMutation.key(i.userId, d.key.path, u);\n        h = h.add(d.key.path.Z()), c.push(o.put(_)), c.push(s.put(T, DbDocumentMutation.PLACEHOLDER));\n      }\n\n      return h.forEach(function (e) {\n        c.push(i.Tu.gu(t, e));\n      }), t.Wo(function () {\n        i.Pu[u] = a.keys();\n      }), PersistencePromise.Fo(c).next(function () {\n        return a;\n      });\n    });\n  }, t.prototype.wu = function (t, e) {\n    var n = this;\n    return __PRIVATE_mutationsStore(t).get(e).next(function (t) {\n      return t ? (assert(t.userId === n.userId, \"Unexpected user '\" + t.userId + \"' for mutation batch \" + e), n.serializer.yu(t)) : null;\n    });\n  }, t.prototype.Su = function (t, e) {\n    var n = this;\n    return this.Pu[e] ? PersistencePromise.resolve(this.Pu[e]) : this.wu(t, e).next(function (t) {\n      if (t) {\n        var r = t.keys();\n        return n.Pu[e] = r, r;\n      }\n\n      return null;\n    });\n  }, t.prototype.Du = function (t, e) {\n    var n = this,\n        r = e + 1,\n        i = IDBKeyRange.lowerBound([this.userId, r]),\n        s = null;\n    return __PRIVATE_mutationsStore(t).lu({\n      index: DbMutationBatch.userMutationsIndex,\n      range: i\n    }, function (t, e, i) {\n      e.userId === n.userId && (assert(e.batchId >= r, \"Should have found mutation after \" + r), s = n.serializer.yu(e)), i.done();\n    }).next(function () {\n      return s;\n    });\n  }, t.prototype.Cu = function (t) {\n    var e = IDBKeyRange.upperBound([this.userId, Number.POSITIVE_INFINITY]),\n        n = __PRIVATE_BATCHID_UNKNOWN;\n    return __PRIVATE_mutationsStore(t).lu({\n      index: DbMutationBatch.userMutationsIndex,\n      range: e,\n      reverse: !0\n    }, function (t, e, r) {\n      n = e.batchId, r.done();\n    }).next(function () {\n      return n;\n    });\n  }, t.prototype.Ou = function (t) {\n    var e = this,\n        n = IDBKeyRange.bound([this.userId, __PRIVATE_BATCHID_UNKNOWN], [this.userId, Number.POSITIVE_INFINITY]);\n    return __PRIVATE_mutationsStore(t)._u(DbMutationBatch.userMutationsIndex, n).next(function (t) {\n      return t.map(function (t) {\n        return e.serializer.yu(t);\n      });\n    });\n  }, t.prototype.Fu = function (t, e) {\n    var n = this,\n        r = DbDocumentMutation.prefixForPath(this.userId, e.path),\n        i = IDBKeyRange.lowerBound(r),\n        s = [];\n    return __PRIVATE_documentMutationsStore(t).lu({\n      range: i\n    }, function (r, i, o) {\n      var u = r[0],\n          a = r[1],\n          _ = r[2],\n          c = decode(a);\n      if (u === n.userId && e.path.isEqual(c)) return __PRIVATE_mutationsStore(t).get(_).next(function (t) {\n        if (!t) throw fail(\"Dangling document-mutation reference found: \" + r + \" which points to \" + _);\n        assert(t.userId === n.userId, \"Unexpected user '\" + t.userId + \"' for mutation batch \" + _), s.push(n.serializer.yu(t));\n      });\n      o.done();\n    }).next(function () {\n      return s;\n    });\n  }, t.prototype.Nu = function (t, e) {\n    var n = this,\n        r = new __PRIVATE_SortedSet(__PRIVATE_primitiveComparator),\n        i = [];\n    return e.forEach(function (e) {\n      var s = DbDocumentMutation.prefixForPath(n.userId, e.path),\n          o = IDBKeyRange.lowerBound(s),\n          u = __PRIVATE_documentMutationsStore(t).lu({\n        range: o\n      }, function (t, i, s) {\n        var o = t[0],\n            u = t[1],\n            a = t[2],\n            _ = decode(u);\n\n        o === n.userId && e.path.isEqual(_) ? r = r.add(a) : s.done();\n      });\n\n      i.push(u);\n    }), PersistencePromise.Fo(i).next(function () {\n      return n.Mu(t, r);\n    });\n  }, t.prototype.Lu = function (t, e) {\n    var n = this;\n    assert(!e.He(), \"Document queries shouldn't go down this path\"), assert(!e.pn(), \"CollectionGroup queries should be handled in LocalDocumentsView\");\n    var r = e.path,\n        i = r.length + 1,\n        s = DbDocumentMutation.prefixForPath(this.userId, r),\n        o = IDBKeyRange.lowerBound(s),\n        u = new __PRIVATE_SortedSet(__PRIVATE_primitiveComparator);\n    return __PRIVATE_documentMutationsStore(t).lu({\n      range: o\n    }, function (t, e, s) {\n      var o = t[0],\n          a = t[1],\n          _ = t[2],\n          c = decode(a);\n      o === n.userId && r.rt(c) ? c.length === i && (u = u.add(_)) : s.done();\n    }).next(function () {\n      return n.Mu(t, u);\n    });\n  }, t.prototype.Mu = function (t, e) {\n    var n = this,\n        r = [],\n        i = [];\n    return e.forEach(function (e) {\n      i.push(__PRIVATE_mutationsStore(t).get(e).next(function (t) {\n        if (null === t) throw fail(\"Dangling document-mutation reference found, which points to \" + e);\n        assert(t.userId === n.userId, \"Unexpected user '\" + t.userId + \"' for mutation batch \" + e), r.push(n.serializer.yu(t));\n      }));\n    }), PersistencePromise.Fo(i).next(function () {\n      return r;\n    });\n  }, t.prototype.Gu = function (t, e) {\n    var n = this;\n    return __PRIVATE_removeMutationBatch(t.Bu, this.userId, e).next(function (r) {\n      return t.Wo(function () {\n        n.Uu(e.batchId);\n      }), PersistencePromise.forEach(r, function (e) {\n        return n.Eu.ku(t, e);\n      });\n    });\n  }, t.prototype.Uu = function (t) {\n    delete this.Pu[t];\n  }, t.prototype.xu = function (t) {\n    var e = this;\n    return this.Ru(t).next(function (n) {\n      if (!n) return PersistencePromise.resolve();\n      var r = IDBKeyRange.lowerBound(DbDocumentMutation.prefixForUser(e.userId)),\n          i = [];\n      return __PRIVATE_documentMutationsStore(t).lu({\n        range: r\n      }, function (t, n, r) {\n        if (t[0] === e.userId) {\n          var s = decode(t[1]);\n          i.push(s);\n        } else r.done();\n      }).next(function () {\n        assert(0 === i.length, \"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: \" + i.map(function (t) {\n          return t.ot();\n        }));\n      });\n    });\n  }, t.prototype.Io = function (t, e) {\n    return __PRIVATE_mutationQueueContainsKey(t, this.userId, e);\n  }, t.prototype.Vu = function (t) {\n    var e = this;\n    return __PRIVATE_mutationQueuesStore(t).get(this.userId).next(function (t) {\n      return t || new DbMutationQueue(e.userId, __PRIVATE_BATCHID_UNKNOWN, \"\");\n    });\n  }, t;\n}();\n\nfunction __PRIVATE_mutationQueueContainsKey(t, e, n) {\n  var r = DbDocumentMutation.prefixForPath(e, n.path),\n      i = r[1],\n      s = IDBKeyRange.lowerBound(r),\n      o = !1;\n  return __PRIVATE_documentMutationsStore(t).lu({\n    range: s,\n    fu: !0\n  }, function (t, n, r) {\n    var s = t[0],\n        u = t[1];\n    t[2];\n    s === e && u === i && (o = !0), r.done();\n  }).next(function () {\n    return o;\n  });\n}\n\nfunction __PRIVATE_mutationQueuesContainKey(t, e) {\n  var n = !1;\n  return __PRIVATE_mutationQueuesStore(t).du(function (r) {\n    return __PRIVATE_mutationQueueContainsKey(t, r, e).next(function (t) {\n      return t && (n = !0), PersistencePromise.resolve(!t);\n    });\n  }).next(function () {\n    return n;\n  });\n}\n\nfunction __PRIVATE_removeMutationBatch(t, e, n) {\n  var r = t.store(DbMutationBatch.store),\n      i = t.store(DbDocumentMutation.store),\n      s = [],\n      o = IDBKeyRange.only(n.batchId),\n      u = 0,\n      a = r.lu({\n    range: o\n  }, function (t, e, n) {\n    return u++, n.delete();\n  });\n  s.push(a.next(function () {\n    assert(1 === u, \"Dangling document-mutation reference found: Missing batch \" + n.batchId);\n  }));\n\n  for (var _ = [], c = 0, h = n.mutations; c < h.length; c++) {\n    var f = h[c],\n        l = DbDocumentMutation.key(e, f.key.path, n.batchId);\n    s.push(i.delete(l)), _.push(f.key);\n  }\n\n  return PersistencePromise.Fo(s).next(function () {\n    return _;\n  });\n}\n\nfunction __PRIVATE_convertStreamToken(t) {\n  return t instanceof Uint8Array ? (assert(__PRIVATE_SimpleDb.zo(), \"Persisting non-string stream tokens is only supported with mock persistence.\"), t.toString()) : t;\n}\n\nfunction __PRIVATE_mutationsStore(t) {\n  return __PRIVATE_IndexedDbPersistence.tu(t, DbMutationBatch.store);\n}\n\nfunction __PRIVATE_documentMutationsStore(t) {\n  return __PRIVATE_IndexedDbPersistence.tu(t, DbDocumentMutation.store);\n}\n\nfunction __PRIVATE_mutationQueuesStore(t) {\n  return __PRIVATE_IndexedDbPersistence.tu(t, DbMutationQueue.store);\n}\n\nvar __PRIVATE_GeneratorIds,\n    __PRIVATE_RESERVED_BITS = 1;\n\n!function (t) {\n  t[t.Ku = 0] = \"__PRIVATE_QueryCache\", t[t.ju = 1] = \"__PRIVATE_SyncEngine\";\n}(__PRIVATE_GeneratorIds || (__PRIVATE_GeneratorIds = {}));\n\nvar __PRIVATE_TargetIdGenerator = function () {\n  function t(t, e) {\n    this.qu = t, assert((t & __PRIVATE_RESERVED_BITS) === t, \"Generator ID \" + t + \" contains more than \" + __PRIVATE_RESERVED_BITS + \" reserved bits\"), this.Qu(void 0 !== e ? e : this.qu);\n  }\n\n  return t.prototype.next = function () {\n    var t = this.Wu;\n    return this.Wu += 1 << __PRIVATE_RESERVED_BITS, t;\n  }, t.prototype.after = function (t) {\n    return this.Qu(t + (1 << __PRIVATE_RESERVED_BITS)), this.next();\n  }, t.prototype.Qu = function (t) {\n    assert((t & __PRIVATE_RESERVED_BITS) === this.qu, \"Cannot supply target ID from different generator ID\"), this.Wu = t;\n  }, t.$u = function () {\n    return new t(__PRIVATE_GeneratorIds.Ku, 2);\n  }, t.Yu = function () {\n    return new t(__PRIVATE_GeneratorIds.ju);\n  }, t;\n}(),\n    __PRIVATE_LocalDocumentsView = function () {\n  function t(t, e, n) {\n    this.Hu = t, this.Xu = e, this.Tu = n;\n  }\n\n  return t.prototype.zu = function (t, e) {\n    var n = this;\n    return this.Xu.Fu(t, e).next(function (r) {\n      return n.Ju(t, e, r);\n    });\n  }, t.prototype.Ju = function (t, e, n) {\n    return this.Hu.xo(t, e).next(function (t) {\n      for (var r = 0, i = n; r < i.length; r++) {\n        t = i[r].Ht(e, t);\n      }\n\n      return t;\n    });\n  }, t.prototype.Zu = function (t, e, n) {\n    var r = __PRIVATE_nullableMaybeDocumentMap();\n\n    return e.forEach(function (t, e) {\n      for (var i = 0, s = n; i < s.length; i++) {\n        e = s[i].Ht(t, e);\n      }\n\n      r = r.Pt(t, e);\n    }), r;\n  }, t.prototype.ta = function (t, e) {\n    var n = this;\n    return this.Hu.getEntries(t, e).next(function (e) {\n      return n.ea(t, e);\n    });\n  }, t.prototype.ea = function (t, e) {\n    var n = this;\n    return this.Xu.Nu(t, e).next(function (r) {\n      var i = n.Zu(t, e, r),\n          s = __PRIVATE_maybeDocumentMap();\n\n      return i.forEach(function (t, e) {\n        e || (e = new __PRIVATE_NoDocument(t, __PRIVATE_SnapshotVersion.W())), s = s.Pt(t, e);\n      }), s;\n    });\n  }, t.prototype.na = function (t, e, n) {\n    return e.He() ? this.ra(t, e.path) : e.pn() ? this.ia(t, e, n) : this.sa(t, e, n);\n  }, t.prototype.ra = function (t, e) {\n    return this.zu(t, new __PRIVATE_DocumentKey(e)).next(function (t) {\n      var e = __PRIVATE_documentMap();\n\n      return t instanceof Document && (e = e.Pt(t.key, t)), e;\n    });\n  }, t.prototype.ia = function (t, e, n) {\n    var r = this;\n    assert(e.path.tt(), \"Currently we only support collection group queries at the root.\");\n\n    var i = e.collectionGroup,\n        s = __PRIVATE_documentMap();\n\n    return this.Tu.oa(t, i).next(function (o) {\n      return PersistencePromise.forEach(o, function (o) {\n        var u = e.ln(o.child(i));\n        return r.sa(t, u, n).next(function (t) {\n          t.forEach(function (t, e) {\n            s = s.Pt(t, e);\n          });\n        });\n      }).next(function () {\n        return s;\n      });\n    });\n  }, t.prototype.sa = function (t, e, n) {\n    var r,\n        i,\n        s = this;\n    return this.Hu.na(t, e, n).next(function (n) {\n      return r = n, s.Xu.Lu(t, e);\n    }).next(function (e) {\n      return i = e, s.ua(t, i, r).next(function (t) {\n        r = t;\n\n        for (var e = 0, n = i; e < n.length; e++) for (var s = n[e], o = 0, u = s.mutations; o < u.length; o++) {\n          var a = u[o],\n              _ = a.key,\n              c = r.get(_),\n              h = a.Ht(c, c, s.ke);\n          r = h instanceof Document ? r.Pt(_, h) : r.remove(_);\n        }\n      });\n    }).next(function () {\n      return r.forEach(function (t, n) {\n        e.matches(n) || (r = r.remove(t));\n      }), r;\n    });\n  }, t.prototype.ua = function (t, e, n) {\n    for (var r = __PRIVATE_documentKeySet(), i = 0, s = e; i < s.length; i++) for (var o = 0, u = s[i].mutations; o < u.length; o++) {\n      var a = u[o];\n      a instanceof __PRIVATE_PatchMutation && null === n.get(a.key) && (r = r.add(a.key));\n    }\n\n    var _ = n;\n    return this.Hu.getEntries(t, r).next(function (t) {\n      return t.forEach(function (t, e) {\n        null !== e && e instanceof Document && (_ = _.Pt(t, e));\n      }), _;\n    });\n  }, t;\n}(),\n    __PRIVATE_LocalViewChanges = function () {\n  function t(t, e, n, r) {\n    this.targetId = t, this.fromCache = e, this.aa = n, this._a = r;\n  }\n\n  return t.ca = function (e, n) {\n    for (var r = __PRIVATE_documentKeySet(), i = __PRIVATE_documentKeySet(), s = 0, o = n.docChanges; s < o.length; s++) {\n      var u = o[s];\n\n      switch (u.type) {\n        case __PRIVATE_ChangeType.Un:\n          r = r.add(u.doc.key);\n          break;\n\n        case __PRIVATE_ChangeType.kn:\n          i = i.add(u.doc.key);\n      }\n    }\n\n    return new t(e, n.fromCache, r, i);\n  }, t;\n}(),\n    __PRIVATE_LOG_TAG$2 = \"LocalStore\",\n    __PRIVATE_LocalStore = function () {\n  function t(t, e, n) {\n    this.persistence = t, this.ha = e, this.fa = new __PRIVATE_ReferenceSet(), this.la = new __PRIVATE_SortedMap(__PRIVATE_primitiveComparator), this.da = new __PRIVATE_ObjectMap(function (t) {\n      return t.canonicalId();\n    }), this.Ta = __PRIVATE_SnapshotVersion.MIN, assert(t.Ea, \"LocalStore was passed an unstarted persistence implementation\"), this.persistence.Eu.Pa(this.fa), this.Xu = t.Aa(n), this.Ra = t.Ia(), this.Va = t.ma(), this.va = new __PRIVATE_LocalDocumentsView(this.Ra, this.Xu, this.persistence.pa()), this.ha.ba(this.va);\n  }\n\n  return t.prototype.start = function () {\n    return this.ga();\n  }, t.prototype.wa = function (t) {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      var e,\n          n,\n          r,\n          i = this;\n      return tslib.__generator(this, function (s) {\n        switch (s.label) {\n          case 0:\n            return e = this.Xu, n = this.va, [4, this.persistence.runTransaction(\"Handle user change\", \"readonly-idempotent\", function (r) {\n              var s;\n              return i.Xu.Ou(r).next(function (o) {\n                return s = o, e = i.persistence.Aa(t), n = new __PRIVATE_LocalDocumentsView(i.Ra, e, i.persistence.pa()), e.Ou(r);\n              }).next(function (t) {\n                for (var e = [], i = [], o = __PRIVATE_documentKeySet(), u = 0, a = s; u < a.length; u++) {\n                  var _ = a[u];\n                  e.push(_.batchId);\n\n                  for (var c = 0, h = _.mutations; c < h.length; c++) {\n                    var f = h[c];\n                    o = o.add(f.key);\n                  }\n                }\n\n                for (var l = 0, d = t; l < d.length; l++) {\n                  _ = d[l];\n                  i.push(_.batchId);\n\n                  for (var T = 0, E = _.mutations; T < E.length; T++) {\n                    f = E[T];\n                    o = o.add(f.key);\n                  }\n                }\n\n                return n.ta(r, o).next(function (t) {\n                  return {\n                    ya: t,\n                    Sa: e,\n                    Da: i\n                  };\n                });\n              });\n            })];\n\n          case 1:\n            return r = s.sent(), this.Xu = e, this.va = n, this.ha.ba(this.va), [2, r];\n        }\n      });\n    });\n  }, t.prototype.Ca = function (t) {\n    var e,\n        n = this,\n        r = Timestamp.now(),\n        i = t.reduce(function (t, e) {\n      return t.add(e.key);\n    }, __PRIVATE_documentKeySet());\n    return this.persistence.runTransaction(\"Locally write mutations\", \"readwrite-idempotent\", function (s) {\n      return n.va.ta(s, i).next(function (i) {\n        e = i;\n\n        for (var o = [], u = 0, a = t; u < a.length; u++) {\n          var _ = a[u],\n              c = _.he(e.get(_.key));\n\n          null != c && o.push(new __PRIVATE_PatchMutation(_.key, c, c.fe(), Precondition.exists(!0)));\n        }\n\n        return n.Xu.pu(s, r, o, t);\n      });\n    }).then(function (t) {\n      var n = t.oo(e);\n      return {\n        batchId: t.batchId,\n        Mo: n\n      };\n    });\n  }, t.prototype.Oa = function (t) {\n    var e = this;\n    return this.persistence.runTransaction(\"Lookup mutation documents\", \"readonly-idempotent\", function (n) {\n      return e.Xu.Su(n, t).next(function (t) {\n        return t ? e.va.ta(n, t) : PersistencePromise.resolve(null);\n      });\n    });\n  }, t.prototype.Iu = function (t) {\n    var e = this;\n    return this.persistence.runTransaction(\"Acknowledge batch\", \"readwrite-primary-idempotent\", function (n) {\n      var r = t.batch.keys(),\n          i = e.Ra.Fa({\n        Na: !0\n      });\n      return e.Xu.Iu(n, t.batch, t.streamToken).next(function () {\n        return e.Ma(n, t, i);\n      }).next(function () {\n        return i.apply(n);\n      }).next(function () {\n        return e.Xu.xu(n);\n      }).next(function () {\n        return e.va.ta(n, r);\n      });\n    });\n  }, t.prototype.La = function (t) {\n    var e = this;\n    return this.persistence.runTransaction(\"Reject batch\", \"readwrite-primary-idempotent\", function (n) {\n      var r;\n      return e.Xu.wu(n, t).next(function (t) {\n        return assert(null !== t, \"Attempt to reject nonexistent batch!\"), r = t.keys(), e.Xu.Gu(n, t);\n      }).next(function () {\n        return e.Xu.xu(n);\n      }).next(function () {\n        return e.va.ta(n, r);\n      });\n    });\n  }, t.prototype.Cu = function () {\n    var t = this;\n    return this.persistence.runTransaction(\"Get highest unacknowledged batch id\", \"readonly-idempotent\", function (e) {\n      return t.Xu.Cu(e);\n    });\n  }, t.prototype.mu = function () {\n    var t = this;\n    return this.persistence.runTransaction(\"Get last stream token\", \"readonly-idempotent\", function (e) {\n      return t.Xu.mu(e);\n    });\n  }, t.prototype.vu = function (t) {\n    var e = this;\n    return this.persistence.runTransaction(\"Set last stream token\", \"readwrite-primary-idempotent\", function (n) {\n      return e.Xu.vu(n, t);\n    });\n  }, t.prototype.Ga = function () {\n    var t = this;\n    return this.persistence.runTransaction(\"Get last remote snapshot version\", \"readonly-idempotent\", function (e) {\n      return t.Va.Ga(e);\n    });\n  }, t.prototype.Ba = function (e) {\n    var n = this,\n        r = e.On,\n        i = this.la;\n    return this.persistence.runTransaction(\"Apply remote event\", \"readwrite-primary-idempotent\", function (s) {\n      var o = n.Ra.Fa({\n        Na: !0\n      });\n      i = n.la;\n      var u = [];\n\n      __PRIVATE_forEachNumber(e.Jn, function (e, o) {\n        var a = i.get(e);\n\n        if (a) {\n          u.push(n.Va.Ua(s, o.ur, e).next(function () {\n            return n.Va.ka(s, o.sr, e);\n          }));\n          var _ = o.resumeToken;\n\n          if (_.length > 0) {\n            var c = a.Nn(_, r).Fn(s.xa);\n            i = i.Pt(e, c), t.Ka(a, c, o) && u.push(n.Va.ja(s, c));\n          }\n        }\n      });\n\n      var a = __PRIVATE_maybeDocumentMap(),\n          _ = __PRIVATE_documentKeySet();\n\n      if (e.tr.forEach(function (t, e) {\n        _ = _.add(t);\n      }), u.push(o.getEntries(s, _).next(function (t) {\n        e.tr.forEach(function (i, _) {\n          var c = t.get(i);\n          _ instanceof __PRIVATE_NoDocument && _.version.isEqual(__PRIVATE_SnapshotVersion.MIN) ? (o.ko(i, r), a = a.Pt(i, _)) : null == c || _.version._(c.version) > 0 || 0 === _.version._(c.version) && c.hasPendingWrites ? (assert(!__PRIVATE_SnapshotVersion.MIN.isEqual(r), \"Cannot add a document when the remote version is zero\"), o.Bo(_, r), a = a.Pt(i, _)) : debug(__PRIVATE_LOG_TAG$2, \"Ignoring outdated watch update for \", i, \". Current version:\", c.version, \" Watch version:\", _.version), e.er.has(i) && u.push(n.persistence.Eu.qa(s, i));\n        });\n      })), !r.isEqual(__PRIVATE_SnapshotVersion.MIN)) {\n        var c = n.Va.Ga(s).next(function (t) {\n          return assert(r._(t) >= 0, \"Watch stream reverted to previous snapshot?? \" + r + \" < \" + t), n.Va.Qa(s, s.xa, r);\n        });\n        u.push(c);\n      }\n\n      return PersistencePromise.Fo(u).next(function () {\n        return o.apply(s);\n      }).next(function () {\n        return n.va.ea(s, a);\n      });\n    }).then(function (t) {\n      return n.la = i, t;\n    });\n  }, t.Ka = function (t, e, n) {\n    return assert(e.resumeToken.length > 0, \"Attempted to persist target data with no resume token\"), 0 === t.resumeToken.length || e.On.$() - t.On.$() >= this.Wa || n.sr.size + n.or.size + n.ur.size > 0;\n  }, t.prototype.$a = function (t) {\n    for (var e = this, n = 0, r = t; n < r.length; n++) {\n      var i = r[n],\n          s = i.targetId;\n\n      if (this.fa.lo(i.aa, s), this.fa.Eo(i._a, s), !i.fromCache) {\n        var o = this.la.get(s);\n        assert(null !== o, \"Can't set limbo-free snapshot version for unknown target: \" + s);\n        var u = o.On,\n            a = o.Mn(u);\n        this.la = this.la.Pt(s, a);\n      }\n    }\n\n    return this.persistence.runTransaction(\"notifyLocalViewChanges\", \"readwrite-idempotent\", function (n) {\n      return PersistencePromise.forEach(t, function (t) {\n        return PersistencePromise.forEach(t._a, function (t) {\n          return e.persistence.Eu.do(n, t);\n        });\n      });\n    });\n  }, t.prototype.Ya = function (t) {\n    var e = this;\n    return this.persistence.runTransaction(\"Get next mutation batch\", \"readonly-idempotent\", function (n) {\n      return void 0 === t && (t = __PRIVATE_BATCHID_UNKNOWN), e.Xu.Du(n, t);\n    });\n  }, t.prototype.Ha = function (t) {\n    var e = this;\n    return this.persistence.runTransaction(\"read document\", \"readonly-idempotent\", function (n) {\n      return e.va.zu(n, t);\n    });\n  }, t.prototype.Xa = function (t) {\n    var e = this;\n    return this.persistence.runTransaction(\"Allocate target\", \"readwrite-idempotent\", function (n) {\n      var r;\n      return e.Va.za(n, t).next(function (i) {\n        return i ? (r = i, PersistencePromise.resolve(r)) : e.Va.Ja(n).next(function (i) {\n          return r = new __PRIVATE_TargetData(t, i, __PRIVATE_TargetPurpose.yn, n.xa), e.Va.Za(n, r).next(function () {\n            return r;\n          });\n        });\n      });\n    }).then(function (n) {\n      return null === e.la.get(n.targetId) && (e.la = e.la.Pt(n.targetId, n), e.da.set(t, n.targetId)), n;\n    });\n  }, t.prototype.za = function (t, e) {\n    var n = this.da.get(e);\n    return void 0 !== n ? PersistencePromise.resolve(this.la.get(n)) : this.Va.za(t, e);\n  }, t.prototype.t_ = function (t, e) {\n    var n = this,\n        r = this.la.get(t);\n    assert(null !== r, \"Tried to release nonexistent target: \" + t);\n    var i = e ? \"readwrite-idempotent\" : \"readwrite-primary-idempotent\";\n    return this.persistence.runTransaction(\"Release target\", i, function (i) {\n      var s = n.fa.Po(t);\n      return e ? PersistencePromise.resolve() : PersistencePromise.forEach(s, function (t) {\n        return n.persistence.Eu.do(i, t);\n      }).next(function () {\n        n.persistence.Eu.removeTarget(i, r);\n      });\n    }).then(function () {\n      n.la = n.la.remove(t), n.da.delete(r.target);\n    });\n  }, t.prototype.e_ = function (t, e) {\n    var n = this,\n        r = __PRIVATE_SnapshotVersion.MIN,\n        i = __PRIVATE_documentKeySet();\n\n    return this.persistence.runTransaction(\"Execute query\", \"readonly-idempotent\", function (s) {\n      return n.za(s, t.Tn()).next(function (t) {\n        if (t) return r = t.lastLimboFreeSnapshotVersion, n.Va.n_(s, t.targetId).next(function (t) {\n          i = t;\n        });\n      }).next(function () {\n        return n.ha.na(s, t, e ? r : __PRIVATE_SnapshotVersion.MIN, e ? i : __PRIVATE_documentKeySet());\n      }).next(function (t) {\n        return {\n          documents: t,\n          r_: i\n        };\n      });\n    });\n  }, t.prototype.i_ = function (t) {\n    var e = this;\n    return this.persistence.runTransaction(\"Remote document keys\", \"readonly-idempotent\", function (n) {\n      return e.Va.n_(n, t);\n    });\n  }, t.prototype.s_ = function () {\n    return this.persistence.s_();\n  }, t.prototype.o_ = function (t) {\n    this.Xu.Uu(t);\n  }, t.prototype.u_ = function (t) {\n    this.persistence.u_(t);\n  }, t.prototype.Ma = function (t, e, n) {\n    var r = this,\n        i = e.batch,\n        s = i.keys(),\n        o = PersistencePromise.resolve();\n    return s.forEach(function (r) {\n      o = o.next(function () {\n        return n.xo(t, r);\n      }).next(function (t) {\n        var s = t,\n            o = e.ao.get(r);\n        assert(null !== o, \"ackVersions should contain every doc in the write.\"), (!s || s.version._(o) < 0) && ((s = i.Xt(r, s, e)) ? n.Bo(s, e.uo) : assert(!t, \"Mutation batch \" + i + \" applied to document \" + t + \" resulted in null\"));\n      });\n    }), o.next(function () {\n      return r.Xu.Gu(t, i);\n    });\n  }, t.prototype.a_ = function (t) {\n    var e = this;\n    return this.persistence.runTransaction(\"Collect garbage\", \"readwrite-primary-idempotent\", function (n) {\n      return t.__(n, e.la);\n    });\n  }, t.prototype.c_ = function (t) {\n    var e = this,\n        n = this.la.get(t);\n    return n ? Promise.resolve(n.target) : this.persistence.runTransaction(\"Get target data\", \"readonly-idempotent\", function (n) {\n      return e.Va.Xr(n, t).next(function (t) {\n        return t ? t.target : null;\n      });\n    });\n  }, t.prototype.h_ = function () {\n    var t = this;\n    return this.persistence.runTransaction(\"Get new document changes\", \"readonly-idempotent\", function (e) {\n      return t.Ra.h_(e, t.Ta);\n    }).then(function (e) {\n      var n = e.f_,\n          r = e.readTime;\n      return t.Ta = r, n;\n    });\n  }, t.prototype.ga = function () {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      var t,\n          e = this;\n      return tslib.__generator(this, function (n) {\n        switch (n.label) {\n          case 0:\n            return t = this, [4, this.persistence.runTransaction(\"Synchronize last document change read time\", \"readonly-idempotent\", function (t) {\n              return e.Ra.l_(t);\n            })];\n\n          case 1:\n            return t.Ta = n.sent(), [2];\n        }\n      });\n    });\n  }, t.Wa = 3e8, t;\n}();\n\nfunction __PRIVATE_ignoreIfPrimaryLeaseLoss(t) {\n  return tslib.__awaiter(this, void 0, void 0, function () {\n    return tslib.__generator(this, function (e) {\n      if (t.code !== Code.FAILED_PRECONDITION || t.message !== __PRIVATE_PRIMARY_LEASE_LOST_ERROR_MSG) throw t;\n      return debug(__PRIVATE_LOG_TAG$2, \"Unexpectedly lost primary lease\"), [2];\n    });\n  });\n}\n\nfunction __PRIVATE_bufferEntryComparator(t, e) {\n  var n = t[0],\n      r = t[1],\n      i = e[0],\n      s = e[1],\n      o = __PRIVATE_primitiveComparator(n, i);\n\n  return 0 === o ? __PRIVATE_primitiveComparator(r, s) : o;\n}\n\nvar __PRIVATE_RollingSequenceNumberBuffer = function () {\n  function t(t) {\n    this.d_ = t, this.buffer = new __PRIVATE_SortedSet(__PRIVATE_bufferEntryComparator), this.T_ = 0;\n  }\n\n  return t.prototype.E_ = function () {\n    return ++this.T_;\n  }, t.prototype.P_ = function (t) {\n    var e = [t, this.E_()];\n    if (this.buffer.size < this.d_) this.buffer = this.buffer.add(e);else {\n      var n = this.buffer.last();\n      __PRIVATE_bufferEntryComparator(e, n) < 0 && (this.buffer = this.buffer.delete(n).add(e));\n    }\n  }, Object.defineProperty(t.prototype, \"maxValue\", {\n    get: function () {\n      return this.buffer.last()[0];\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t;\n}(),\n    __PRIVATE_GC_DID_NOT_RUN = {\n  A_: !1,\n  R_: 0,\n  I_: 0,\n  V_: 0\n},\n    __PRIVATE_LruParams = function () {\n  function t(t, e, n) {\n    this.m_ = t, this.v_ = e, this.p_ = n;\n  }\n\n  return t.b_ = function (e) {\n    return new t(e, t.g_, t.w_);\n  }, t.y_ = -1, t.S_ = 1048576, t.D_ = 41943040, t.g_ = 10, t.w_ = 1e3, t.C_ = new t(t.D_, t.g_, t.w_), t.DISABLED = new t(t.y_, 0, 0), t;\n}(),\n    __PRIVATE_INITIAL_GC_DELAY_MS = 6e4,\n    __PRIVATE_REGULAR_GC_DELAY_MS = 3e5,\n    __PRIVATE_LruScheduler = function () {\n  function t(t, e, n) {\n    this.O_ = t, this.Ds = e, this.F_ = n, this.N_ = !1, this.M_ = null;\n  }\n\n  return t.prototype.start = function () {\n    assert(null === this.M_, \"Cannot start an already started LruScheduler\"), this.O_.params.m_ !== __PRIVATE_LruParams.y_ && this.L_();\n  }, t.prototype.stop = function () {\n    this.M_ && (this.M_.cancel(), this.M_ = null);\n  }, Object.defineProperty(t.prototype, \"Ea\", {\n    get: function () {\n      return null !== this.M_;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.L_ = function () {\n    var t = this;\n    assert(null === this.M_, \"Cannot schedule GC while a task is pending\");\n    var e = this.N_ ? __PRIVATE_REGULAR_GC_DELAY_MS : __PRIVATE_INITIAL_GC_DELAY_MS;\n    debug(\"LruGarbageCollector\", \"Garbage collection scheduled in \" + e + \"ms\"), this.M_ = this.Ds.Js(__PRIVATE_TimerId.ys, e, function () {\n      return t.M_ = null, t.N_ = !0, t.F_.a_(t.O_).then(function () {\n        return t.L_();\n      }).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss);\n    });\n  }, t;\n}(),\n    __PRIVATE_LruGarbageCollector = function () {\n  function t(t, e) {\n    this.G_ = t, this.params = e;\n  }\n\n  return t.prototype.B_ = function (t, e) {\n    return this.G_.U_(t).next(function (t) {\n      return Math.floor(e / 100 * t);\n    });\n  }, t.prototype.k_ = function (t, e) {\n    var n = this;\n    if (0 === e) return PersistencePromise.resolve(__PRIVATE_ListenSequence.Is);\n    var r = new __PRIVATE_RollingSequenceNumberBuffer(e);\n    return this.G_.Ur(t, function (t) {\n      return r.P_(t.sequenceNumber);\n    }).next(function () {\n      return n.G_.x_(t, function (t) {\n        return r.P_(t);\n      });\n    }).next(function () {\n      return r.maxValue;\n    });\n  }, t.prototype.K_ = function (t, e, n) {\n    return this.G_.K_(t, e, n);\n  }, t.prototype.j_ = function (t, e) {\n    return this.G_.j_(t, e);\n  }, t.prototype.__ = function (t, e) {\n    var n = this;\n    return this.params.m_ === __PRIVATE_LruParams.y_ ? (debug(\"LruGarbageCollector\", \"Garbage collection skipped; disabled\"), PersistencePromise.resolve(__PRIVATE_GC_DID_NOT_RUN)) : this.q_(t).next(function (r) {\n      return r < n.params.m_ ? (debug(\"LruGarbageCollector\", \"Garbage collection skipped; Cache size \" + r + \" is lower than threshold \" + n.params.m_), __PRIVATE_GC_DID_NOT_RUN) : n.Q_(t, e);\n    });\n  }, t.prototype.q_ = function (t) {\n    return this.G_.q_(t);\n  }, t.prototype.Q_ = function (t, e) {\n    var n,\n        r,\n        i,\n        s,\n        o,\n        u,\n        a,\n        _ = this,\n        c = Date.now();\n\n    return this.B_(t, this.params.v_).next(function (e) {\n      return e > _.params.p_ ? (debug(\"LruGarbageCollector\", \"Capping sequence numbers to collect down to the maximum of \" + _.params.p_ + \" from \" + e), r = _.params.p_) : r = e, s = Date.now(), _.k_(t, r);\n    }).next(function (r) {\n      return n = r, o = Date.now(), _.K_(t, n, e);\n    }).next(function (e) {\n      return i = e, u = Date.now(), _.j_(t, n);\n    }).next(function (t) {\n      (a = Date.now(), __PRIVATE_getLogLevel() <= LogLevel.DEBUG) && debug(\"LruGarbageCollector\", \"LRU Garbage Collection\\n\\tCounted targets in \" + (s - c) + \"ms\\n\\tDetermined least recently used \" + r + \" in \" + (o - s) + \"ms\\n\\tRemoved \" + i + \" targets in \" + (u - o) + \"ms\\n\\tRemoved \" + t + \" documents in \" + (a - u) + \"ms\\nTotal Duration: \" + (a - c) + \"ms\");\n      return PersistencePromise.resolve({\n        A_: !0,\n        R_: r,\n        I_: i,\n        V_: t\n      });\n    });\n  }, t;\n}(),\n    __PRIVATE_IndexedDbTargetCache = function () {\n  function t(t, e) {\n    this.Eu = t, this.serializer = e, this.W_ = __PRIVATE_TargetIdGenerator.$u();\n  }\n\n  return t.prototype.Ja = function (t) {\n    var e = this;\n    return this.Y_(t).next(function (n) {\n      return n.highestTargetId = e.W_.after(n.highestTargetId), e.H_(t, n).next(function () {\n        return n.highestTargetId;\n      });\n    });\n  }, t.prototype.Ga = function (t) {\n    return this.Y_(t).next(function (t) {\n      return __PRIVATE_SnapshotVersion.q(new Timestamp(t.lastRemoteSnapshotVersion.seconds, t.lastRemoteSnapshotVersion.nanoseconds));\n    });\n  }, t.prototype.X_ = function (t) {\n    return __PRIVATE_getHighestListenSequenceNumber(t.Bu);\n  }, t.prototype.Qa = function (t, e, n) {\n    var r = this;\n    return this.Y_(t).next(function (i) {\n      return i.highestListenSequenceNumber = e, n && (i.lastRemoteSnapshotVersion = n.Y()), e > i.highestListenSequenceNumber && (i.highestListenSequenceNumber = e), r.H_(t, i);\n    });\n  }, t.prototype.Za = function (t, e) {\n    var n = this;\n    return this.z_(t, e).next(function () {\n      return n.Y_(t).next(function (r) {\n        return r.targetCount += 1, n.J_(e, r), n.H_(t, r);\n      });\n    });\n  }, t.prototype.ja = function (t, e) {\n    return this.z_(t, e);\n  }, t.prototype.Z_ = function (t, e) {\n    var n = this;\n    return this.tc(t, e.targetId).next(function () {\n      return __PRIVATE_targetsStore(t).delete(e.targetId);\n    }).next(function () {\n      return n.Y_(t);\n    }).next(function (e) {\n      return assert(e.targetCount > 0, \"Removing from an empty target cache\"), e.targetCount -= 1, n.H_(t, e);\n    });\n  }, t.prototype.K_ = function (t, e, n) {\n    var r = this,\n        i = 0,\n        s = [];\n    return __PRIVATE_targetsStore(t).lu(function (o, u) {\n      var a = r.serializer.ec(u);\n      a.sequenceNumber <= e && null === n.get(a.targetId) && (i++, s.push(r.Z_(t, a)));\n    }).next(function () {\n      return PersistencePromise.Fo(s);\n    }).next(function () {\n      return i;\n    });\n  }, t.prototype.Ur = function (t, e) {\n    var n = this;\n    return __PRIVATE_targetsStore(t).lu(function (t, r) {\n      var i = n.serializer.ec(r);\n      e(i);\n    });\n  }, t.prototype.Y_ = function (t) {\n    return __PRIVATE_retrieveMetadata(t.Bu);\n  }, t.prototype.H_ = function (t, e) {\n    return __PRIVATE_globalTargetStore(t).put(DbTargetGlobal.key, e);\n  }, t.prototype.z_ = function (t, e) {\n    return __PRIVATE_targetsStore(t).put(this.serializer.nc(e));\n  }, t.prototype.J_ = function (t, e) {\n    var n = !1;\n    return t.targetId > e.highestTargetId && (e.highestTargetId = t.targetId, n = !0), t.sequenceNumber > e.highestListenSequenceNumber && (e.highestListenSequenceNumber = t.sequenceNumber, n = !0), n;\n  }, t.prototype.rc = function (t) {\n    return this.Y_(t).next(function (t) {\n      return t.targetCount;\n    });\n  }, t.prototype.za = function (t, e) {\n    var n = this,\n        r = e.canonicalId(),\n        i = IDBKeyRange.bound([r, Number.NEGATIVE_INFINITY], [r, Number.POSITIVE_INFINITY]),\n        s = null;\n    return __PRIVATE_targetsStore(t).lu({\n      range: i,\n      index: DbTarget.queryTargetsIndexName\n    }, function (t, r, i) {\n      var o = n.serializer.ec(r);\n      e.isEqual(o.target) && (s = o, i.done());\n    }).next(function () {\n      return s;\n    });\n  }, t.prototype.ka = function (t, e, n) {\n    var r = this,\n        i = [],\n        s = __PRIVATE_documentTargetStore(t);\n\n    return e.forEach(function (e) {\n      var o = encode(e.path);\n      i.push(s.put(new DbTargetDocument(n, o))), i.push(r.Eu.fo(t, e));\n    }), PersistencePromise.Fo(i);\n  }, t.prototype.Ua = function (t, e, n) {\n    var r = this,\n        i = __PRIVATE_documentTargetStore(t);\n\n    return PersistencePromise.forEach(e, function (e) {\n      var s = encode(e.path);\n      return PersistencePromise.Fo([i.delete([n, s]), r.Eu.do(t, e)]);\n    });\n  }, t.prototype.tc = function (t, e) {\n    var n = __PRIVATE_documentTargetStore(t),\n        r = IDBKeyRange.bound([e], [e + 1], !1, !0);\n\n    return n.delete(r);\n  }, t.prototype.n_ = function (t, e) {\n    var n = IDBKeyRange.bound([e], [e + 1], !1, !0),\n        r = __PRIVATE_documentTargetStore(t),\n        i = __PRIVATE_documentKeySet();\n\n    return r.lu({\n      range: n,\n      fu: !0\n    }, function (t, e, n) {\n      var r = decode(t[1]),\n          s = new __PRIVATE_DocumentKey(r);\n      i = i.add(s);\n    }).next(function () {\n      return i;\n    });\n  }, t.prototype.Io = function (t, e) {\n    var n = encode(e.path),\n        r = IDBKeyRange.bound([n], [__PRIVATE_immediateSuccessor(n)], !1, !0),\n        i = 0;\n    return __PRIVATE_documentTargetStore(t).lu({\n      index: DbTargetDocument.documentTargetsIndex,\n      fu: !0,\n      range: r\n    }, function (t, e, n) {\n      var r = t[0];\n      t[1];\n      0 !== r && (i++, n.done());\n    }).next(function () {\n      return i > 0;\n    });\n  }, t.prototype.Xr = function (t, e) {\n    var n = this;\n    return __PRIVATE_targetsStore(t).get(e).next(function (t) {\n      return t ? n.serializer.ec(t) : null;\n    });\n  }, t;\n}();\n\nfunction __PRIVATE_targetsStore(t) {\n  return __PRIVATE_IndexedDbPersistence.tu(t, DbTarget.store);\n}\n\nfunction __PRIVATE_globalTargetStore(t) {\n  return __PRIVATE_IndexedDbPersistence.tu(t, DbTargetGlobal.store);\n}\n\nfunction __PRIVATE_retrieveMetadata(t) {\n  return __PRIVATE_SimpleDb.tu(t, DbTargetGlobal.store).get(DbTargetGlobal.key).next(function (t) {\n    return assert(null !== t, \"Missing metadata row.\"), t;\n  });\n}\n\nfunction __PRIVATE_getHighestListenSequenceNumber(t) {\n  return __PRIVATE_retrieveMetadata(t).next(function (t) {\n    return t.highestListenSequenceNumber;\n  });\n}\n\nfunction __PRIVATE_documentTargetStore(t) {\n  return __PRIVATE_IndexedDbPersistence.tu(t, DbTargetDocument.store);\n}\n\nvar __PRIVATE_IndexedDbRemoteDocumentCache = function () {\n  function t(t, e) {\n    this.serializer = t, this.Tu = e;\n  }\n\n  return t.prototype.Bo = function (t, e, n) {\n    return __PRIVATE_remoteDocumentsStore(t).put(__PRIVATE_dbKey(e), n);\n  }, t.prototype.ko = function (t, e) {\n    var n = __PRIVATE_remoteDocumentsStore(t),\n        r = __PRIVATE_dbKey(e);\n\n    return n.delete(r);\n  }, t.prototype.updateMetadata = function (t, e) {\n    var n = this;\n    return this.getMetadata(t).next(function (r) {\n      return r.byteSize += e, n.ic(t, r);\n    });\n  }, t.prototype.xo = function (t, e) {\n    var n = this;\n    return __PRIVATE_remoteDocumentsStore(t).get(__PRIVATE_dbKey(e)).next(function (t) {\n      return n.sc(t);\n    });\n  }, t.prototype.oc = function (t, e) {\n    var n = this;\n    return __PRIVATE_remoteDocumentsStore(t).get(__PRIVATE_dbKey(e)).next(function (t) {\n      var e = n.sc(t);\n      return e ? {\n        uc: e,\n        size: __PRIVATE_dbDocumentSize(t)\n      } : null;\n    });\n  }, t.prototype.getEntries = function (t, e) {\n    var n = this,\n        r = __PRIVATE_nullableMaybeDocumentMap();\n\n    return this.ac(t, e, function (t, e) {\n      var i = n.sc(e);\n      r = r.Pt(t, i);\n    }).next(function () {\n      return r;\n    });\n  }, t.prototype._c = function (t, e) {\n    var n = this,\n        r = __PRIVATE_nullableMaybeDocumentMap(),\n        i = new __PRIVATE_SortedMap(__PRIVATE_DocumentKey.H);\n\n    return this.ac(t, e, function (t, e) {\n      var s = n.sc(e);\n      s ? (r = r.Pt(t, s), i = i.Pt(t, __PRIVATE_dbDocumentSize(e))) : (r = r.Pt(t, null), i = i.Pt(t, 0));\n    }).next(function () {\n      return {\n        cc: r,\n        hc: i\n      };\n    });\n  }, t.prototype.ac = function (t, e, n) {\n    if (e.tt()) return PersistencePromise.resolve();\n    var r = IDBKeyRange.bound(e.first().path.st(), e.last().path.st()),\n        i = e.pt(),\n        s = i.Dt();\n    return __PRIVATE_remoteDocumentsStore(t).lu({\n      range: r\n    }, function (t, e, r) {\n      for (var o = __PRIVATE_DocumentKey.Tt(t); s && __PRIVATE_DocumentKey.H(s, o) < 0;) n(s, null), s = i.Dt();\n\n      s && s.isEqual(o) && (n(s, e), s = i.Ct() ? i.Dt() : null), s ? r.uu(s.path.st()) : r.done();\n    }).next(function () {\n      for (; s;) n(s, null), s = i.Ct() ? i.Dt() : null;\n    });\n  }, t.prototype.na = function (t, e, n) {\n    var r = this;\n    assert(!e.pn(), \"CollectionGroup queries should be handled in LocalDocumentsView\");\n\n    var i = __PRIVATE_documentMap(),\n        s = e.path.length + 1,\n        o = {};\n\n    if (n.isEqual(__PRIVATE_SnapshotVersion.MIN)) {\n      var u = e.path.st();\n      o.range = IDBKeyRange.lowerBound(u);\n    } else {\n      var a = e.path.st(),\n          _ = this.serializer.fc(n);\n\n      o.range = IDBKeyRange.lowerBound([a, _], !0), o.index = DbRemoteDocument.collectionReadTimeIndex;\n    }\n\n    return __PRIVATE_remoteDocumentsStore(t).lu(o, function (t, n, o) {\n      if (t.length === s) {\n        var u = r.serializer.lc(n);\n        e.path.rt(u.key.path) ? u instanceof Document && e.matches(u) && (i = i.Pt(u.key, u)) : o.done();\n      }\n    }).next(function () {\n      return i;\n    });\n  }, t.prototype.h_ = function (t, e) {\n    var n = this,\n        r = __PRIVATE_maybeDocumentMap(),\n        i = this.serializer.fc(e),\n        s = __PRIVATE_remoteDocumentsStore(t),\n        o = IDBKeyRange.lowerBound(i, !0);\n\n    return s.lu({\n      index: DbRemoteDocument.readTimeIndex,\n      range: o\n    }, function (t, e) {\n      var s = n.serializer.lc(e);\n      r = r.Pt(s.key, s), i = e.readTime;\n    }).next(function () {\n      return {\n        f_: r,\n        readTime: n.serializer.dc(i)\n      };\n    });\n  }, t.prototype.l_ = function (t) {\n    var e = this,\n        n = __PRIVATE_remoteDocumentsStore(t),\n        r = __PRIVATE_SnapshotVersion.MIN;\n\n    return n.lu({\n      index: DbRemoteDocument.readTimeIndex,\n      reverse: !0\n    }, function (t, n, i) {\n      n.readTime && (r = e.serializer.dc(n.readTime)), i.done();\n    }).next(function () {\n      return r;\n    });\n  }, t.prototype.Fa = function (e) {\n    return new t.Tc(this, !!e && e.Na);\n  }, t.prototype.Ec = function (t) {\n    return this.getMetadata(t).next(function (t) {\n      return t.byteSize;\n    });\n  }, t.prototype.getMetadata = function (t) {\n    return __PRIVATE_documentGlobalStore(t).get(DbRemoteDocumentGlobal.key).next(function (t) {\n      return assert(!!t, \"Missing document cache metadata\"), t;\n    });\n  }, t.prototype.ic = function (t, e) {\n    return __PRIVATE_documentGlobalStore(t).put(DbRemoteDocumentGlobal.key, e);\n  }, t.prototype.sc = function (t) {\n    if (t) {\n      var e = this.serializer.lc(t);\n      return e instanceof __PRIVATE_NoDocument && e.version.isEqual(__PRIVATE_SnapshotVersion.W()) ? null : e;\n    }\n\n    return null;\n  }, t.Tc = function (t) {\n    function e(e, n) {\n      var r = t.call(this) || this;\n      return r.Pc = e, r.Na = n, r.Ac = new __PRIVATE_ObjectMap(function (t) {\n        return t.toString();\n      }), r;\n    }\n\n    return tslib.__extends(e, t), e.prototype.qo = function (t) {\n      var e = this,\n          n = [],\n          r = 0,\n          i = new __PRIVATE_SortedSet(function (t, e) {\n        return __PRIVATE_primitiveComparator(t.ot(), e.ot());\n      });\n      return this.Mo.forEach(function (s, o) {\n        var u = e.Ac.get(s);\n\n        if (assert(void 0 !== u, \"Cannot modify a document that wasn't read (for \" + s + \")\"), o) {\n          assert(!e.readTime.isEqual(__PRIVATE_SnapshotVersion.MIN), \"Cannot add a document with a read time of zero\");\n          var a = e.Pc.serializer.Rc(o, e.readTime);\n          i = i.add(s.path.Z());\n\n          var _ = __PRIVATE_dbDocumentSize(a);\n\n          r += _ - u, n.push(e.Pc.Bo(t, s, a));\n        } else if (r -= u, e.Na) {\n          var c = e.Pc.serializer.Rc(new __PRIVATE_NoDocument(s, __PRIVATE_SnapshotVersion.W()), e.readTime);\n          n.push(e.Pc.Bo(t, s, c));\n        } else n.push(e.Pc.ko(t, s));\n      }), i.forEach(function (r) {\n        n.push(e.Pc.Tu.gu(t, r));\n      }), n.push(this.Pc.updateMetadata(t, r)), PersistencePromise.Fo(n);\n    }, e.prototype.Ko = function (t, e) {\n      var n = this;\n      return this.Pc.oc(t, e).next(function (t) {\n        return null === t ? (n.Ac.set(e, 0), null) : (n.Ac.set(e, t.size), t.uc);\n      });\n    }, e.prototype.jo = function (t, e) {\n      var n = this;\n      return this.Pc._c(t, e).next(function (t) {\n        var e = t.cc;\n        return t.hc.forEach(function (t, e) {\n          n.Ac.set(t, e);\n        }), e;\n      });\n    }, e;\n  }(__PRIVATE_RemoteDocumentChangeBuffer), t;\n}();\n\nfunction __PRIVATE_documentGlobalStore(t) {\n  return __PRIVATE_IndexedDbPersistence.tu(t, DbRemoteDocumentGlobal.store);\n}\n\nfunction __PRIVATE_remoteDocumentsStore(t) {\n  return __PRIVATE_IndexedDbPersistence.tu(t, DbRemoteDocument.store);\n}\n\nfunction __PRIVATE_dbKey(t) {\n  return t.path.st();\n}\n\nfunction __PRIVATE_dbDocumentSize(t) {\n  var e;\n  if (t.document) e = t.document;else if (t.unknownDocument) e = t.unknownDocument;else {\n    if (!t.noDocument) throw fail(\"Unknown remote document type\");\n    e = t.noDocument;\n  }\n  return JSON.stringify(e).length;\n}\n\nvar __PRIVATE_MemoryIndexManager = function () {\n  function t() {\n    this.Ic = new __PRIVATE_MemoryCollectionParentIndex();\n  }\n\n  return t.prototype.gu = function (t, e) {\n    return this.Ic.add(e), PersistencePromise.resolve();\n  }, t.prototype.oa = function (t, e) {\n    return PersistencePromise.resolve(this.Ic.getEntries(e));\n  }, t;\n}(),\n    __PRIVATE_MemoryCollectionParentIndex = function () {\n  function t() {\n    this.index = {};\n  }\n\n  return t.prototype.add = function (t) {\n    assert(t.length % 2 == 1, \"Expected a collection path.\");\n    var e = t.nt(),\n        n = t.Z(),\n        r = this.index[e] || new __PRIVATE_SortedSet(ResourcePath.H),\n        i = !r.has(n);\n    return this.index[e] = r.add(n), i;\n  }, t.prototype.has = function (t) {\n    var e = t.nt(),\n        n = t.Z(),\n        r = this.index[e];\n    return r && r.has(n);\n  }, t.prototype.getEntries = function (t) {\n    return (this.index[t] || new __PRIVATE_SortedSet(ResourcePath.H)).st();\n  }, t;\n}(),\n    SCHEMA_VERSION = 9,\n    SchemaConverter = function () {\n  function t(t) {\n    this.serializer = t;\n  }\n\n  return t.prototype.createOrUpgrade = function (t, e, n, r) {\n    var i = this;\n    assert(n < r && n >= 0 && r <= SCHEMA_VERSION, \"Unexpected schema upgrade from v\" + n + \" to v{toVersion}.\");\n    var s = new __PRIVATE_SimpleDbTransaction(e);\n    n < 1 && r >= 1 && (__PRIVATE_createPrimaryClientStore(t), __PRIVATE_createMutationQueue(t), __PRIVATE_createQueryCache(t), __PRIVATE_createRemoteDocumentCache(t));\n    var o = PersistencePromise.resolve();\n    return n < 3 && r >= 3 && (0 !== n && (__PRIVATE_dropQueryCache(t), __PRIVATE_createQueryCache(t)), o = o.next(function () {\n      return __PRIVATE_writeEmptyTargetGlobalEntry(s);\n    })), n < 4 && r >= 4 && (0 !== n && (o = o.next(function () {\n      return __PRIVATE_upgradeMutationBatchSchemaAndMigrateData(t, s);\n    })), o = o.next(function () {\n      __PRIVATE_createClientMetadataStore(t);\n    })), n < 5 && r >= 5 && (o = o.next(function () {\n      return i.removeAcknowledgedMutations(s);\n    })), n < 6 && r >= 6 && (o = o.next(function () {\n      return __PRIVATE_createDocumentGlobalStore(t), i.addDocumentGlobal(s);\n    })), n < 7 && r >= 7 && (o = o.next(function () {\n      return i.ensureSequenceNumbers(s);\n    })), n < 8 && r >= 8 && (o = o.next(function () {\n      return i.createCollectionParentIndex(t, s);\n    })), n < 9 && r >= 9 && (o = o.next(function () {\n      __PRIVATE_dropRemoteDocumentChangesStore(t), __PRIVATE_createRemoteDocumentReadTimeIndex(e);\n    })), o;\n  }, t.prototype.addDocumentGlobal = function (t) {\n    var e = 0;\n    return t.store(DbRemoteDocument.store).lu(function (t, n) {\n      e += __PRIVATE_dbDocumentSize(n);\n    }).next(function () {\n      var n = new DbRemoteDocumentGlobal(e);\n      return t.store(DbRemoteDocumentGlobal.store).put(DbRemoteDocumentGlobal.key, n);\n    });\n  }, t.prototype.removeAcknowledgedMutations = function (t) {\n    var e = this,\n        n = t.store(DbMutationQueue.store),\n        r = t.store(DbMutationBatch.store);\n    return n._u().next(function (n) {\n      return PersistencePromise.forEach(n, function (n) {\n        var i = IDBKeyRange.bound([n.userId, __PRIVATE_BATCHID_UNKNOWN], [n.userId, n.lastAcknowledgedBatchId]);\n        return r._u(DbMutationBatch.userMutationsIndex, i).next(function (r) {\n          return PersistencePromise.forEach(r, function (r) {\n            assert(r.userId === n.userId, \"Cannot process batch \" + r.batchId + \" from unexpected user\");\n            var i = e.serializer.yu(r);\n            return __PRIVATE_removeMutationBatch(t, n.userId, i).next(function () {});\n          });\n        });\n      });\n    });\n  }, t.prototype.ensureSequenceNumbers = function (t) {\n    var e = t.store(DbTargetDocument.store),\n        n = t.store(DbRemoteDocument.store);\n    return __PRIVATE_getHighestListenSequenceNumber(t).next(function (t) {\n      var r = [];\n      return n.lu(function (n, i) {\n        var s = new ResourcePath(n),\n            o = __PRIVATE_sentinelKey(s);\n\n        r.push(e.get(o).next(function (n) {\n          return n ? PersistencePromise.resolve() : function (n) {\n            return e.put(new DbTargetDocument(0, encode(n), t));\n          }(s);\n        }));\n      }).next(function () {\n        return PersistencePromise.Fo(r);\n      });\n    });\n  }, t.prototype.createCollectionParentIndex = function (t, e) {\n    t.createObjectStore(DbCollectionParent.store, {\n      keyPath: DbCollectionParent.keyPath\n    });\n\n    var n = e.store(DbCollectionParent.store),\n        r = new __PRIVATE_MemoryCollectionParentIndex(),\n        i = function (t) {\n      if (r.add(t)) {\n        var e = t.nt(),\n            i = t.Z();\n        return n.put({\n          collectionId: e,\n          parent: encode(i)\n        });\n      }\n    };\n\n    return e.store(DbRemoteDocument.store).lu({\n      fu: !0\n    }, function (t, e) {\n      var n = new ResourcePath(t);\n      return i(n.Z());\n    }).next(function () {\n      return e.store(DbDocumentMutation.store).lu({\n        fu: !0\n      }, function (t, e) {\n        t[0];\n        var n = t[1],\n            r = (t[2], decode(n));\n        return i(r.Z());\n      });\n    });\n  }, t;\n}();\n\nfunction __PRIVATE_sentinelKey(t) {\n  return [0, encode(t)];\n}\n\nvar DbTimestamp = function (t, e) {\n  this.seconds = t, this.nanoseconds = e;\n},\n    DbPrimaryClient = function () {\n  function t(t, e, n) {\n    this.ownerId = t, this.allowTabSynchronization = e, this.leaseTimestampMs = n;\n  }\n\n  return t.store = \"owner\", t.key = \"owner\", t;\n}();\n\nfunction __PRIVATE_createPrimaryClientStore(t) {\n  t.createObjectStore(DbPrimaryClient.store);\n}\n\nvar DbMutationQueue = function () {\n  function t(t, e, n) {\n    this.userId = t, this.lastAcknowledgedBatchId = e, this.lastStreamToken = n;\n  }\n\n  return t.store = \"mutationQueues\", t.keyPath = \"userId\", t;\n}(),\n    DbMutationBatch = function () {\n  function t(t, e, n, r, i) {\n    this.userId = t, this.batchId = e, this.localWriteTimeMs = n, this.baseMutations = r, this.mutations = i;\n  }\n\n  return t.store = \"mutations\", t.keyPath = \"batchId\", t.userMutationsIndex = \"userMutationsIndex\", t.userMutationsKeyPath = [\"userId\", \"batchId\"], t;\n}();\n\nfunction __PRIVATE_createMutationQueue(t) {\n  t.createObjectStore(DbMutationQueue.store, {\n    keyPath: DbMutationQueue.keyPath\n  }), t.createObjectStore(DbMutationBatch.store, {\n    keyPath: DbMutationBatch.keyPath,\n    autoIncrement: !0\n  }).createIndex(DbMutationBatch.userMutationsIndex, DbMutationBatch.userMutationsKeyPath, {\n    unique: !0\n  }), t.createObjectStore(DbDocumentMutation.store);\n}\n\nfunction __PRIVATE_upgradeMutationBatchSchemaAndMigrateData(t, e) {\n  return e.store(DbMutationBatch.store)._u().next(function (n) {\n    t.deleteObjectStore(DbMutationBatch.store), t.createObjectStore(DbMutationBatch.store, {\n      keyPath: DbMutationBatch.keyPath,\n      autoIncrement: !0\n    }).createIndex(DbMutationBatch.userMutationsIndex, DbMutationBatch.userMutationsKeyPath, {\n      unique: !0\n    });\n    var r = e.store(DbMutationBatch.store),\n        i = n.map(function (t) {\n      return r.put(t);\n    });\n    return PersistencePromise.Fo(i);\n  });\n}\n\nvar DbDocumentMutation = function () {\n  function t() {}\n\n  return t.prefixForUser = function (t) {\n    return [t];\n  }, t.prefixForPath = function (t, e) {\n    return [t, encode(e)];\n  }, t.key = function (t, e, n) {\n    return [t, encode(e), n];\n  }, t.store = \"documentMutations\", t.PLACEHOLDER = new t(), t;\n}();\n\nfunction __PRIVATE_createRemoteDocumentCache(t) {\n  t.createObjectStore(DbRemoteDocument.store);\n}\n\nvar DbNoDocument = function (t, e) {\n  this.path = t, this.readTime = e;\n},\n    DbUnknownDocument = function (t, e) {\n  this.path = t, this.version = e;\n},\n    DbRemoteDocument = function () {\n  function t(t, e, n, r, i, s) {\n    this.unknownDocument = t, this.noDocument = e, this.document = n, this.hasCommittedMutations = r, this.readTime = i, this.parentPath = s;\n  }\n\n  return t.store = \"remoteDocuments\", t.readTimeIndex = \"readTimeIndex\", t.readTimeIndexPath = \"readTime\", t.collectionReadTimeIndex = \"collectionReadTimeIndex\", t.collectionReadTimeIndexPath = [\"parentPath\", \"readTime\"], t;\n}(),\n    DbRemoteDocumentGlobal = function () {\n  function t(t) {\n    this.byteSize = t;\n  }\n\n  return t.store = \"remoteDocumentGlobal\", t.key = \"remoteDocumentGlobalKey\", t;\n}();\n\nfunction __PRIVATE_createDocumentGlobalStore(t) {\n  t.createObjectStore(DbRemoteDocumentGlobal.store);\n}\n\nvar DbTarget = function () {\n  function t(t, e, n, r, i, s, o) {\n    this.targetId = t, this.canonicalId = e, this.readTime = n, this.resumeToken = r, this.lastListenSequenceNumber = i, this.lastLimboFreeSnapshotVersion = s, this.query = o;\n  }\n\n  return t.store = \"targets\", t.keyPath = \"targetId\", t.queryTargetsIndexName = \"queryTargetsIndex\", t.queryTargetsKeyPath = [\"canonicalId\", \"targetId\"], t;\n}(),\n    DbTargetDocument = function () {\n  function t(t, e, n) {\n    this.targetId = t, this.path = e, this.sequenceNumber = n, assert(0 === t == (void 0 !== n), \"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number\");\n  }\n\n  return t.store = \"targetDocuments\", t.keyPath = [\"targetId\", \"path\"], t.documentTargetsIndex = \"documentTargetsIndex\", t.documentTargetsKeyPath = [\"path\", \"targetId\"], t;\n}(),\n    DbTargetGlobal = function () {\n  function t(t, e, n, r) {\n    this.highestTargetId = t, this.highestListenSequenceNumber = e, this.lastRemoteSnapshotVersion = n, this.targetCount = r;\n  }\n\n  return t.key = \"targetGlobalKey\", t.store = \"targetGlobal\", t;\n}(),\n    DbCollectionParent = function () {\n  function t(t, e) {\n    this.collectionId = t, this.parent = e;\n  }\n\n  return t.store = \"collectionParents\", t.keyPath = [\"collectionId\", \"parent\"], t;\n}();\n\nfunction __PRIVATE_createQueryCache(t) {\n  t.createObjectStore(DbTargetDocument.store, {\n    keyPath: DbTargetDocument.keyPath\n  }).createIndex(DbTargetDocument.documentTargetsIndex, DbTargetDocument.documentTargetsKeyPath, {\n    unique: !0\n  }), t.createObjectStore(DbTarget.store, {\n    keyPath: DbTarget.keyPath\n  }).createIndex(DbTarget.queryTargetsIndexName, DbTarget.queryTargetsKeyPath, {\n    unique: !0\n  }), t.createObjectStore(DbTargetGlobal.store);\n}\n\nfunction __PRIVATE_dropQueryCache(t) {\n  t.deleteObjectStore(DbTargetDocument.store), t.deleteObjectStore(DbTarget.store), t.deleteObjectStore(DbTargetGlobal.store);\n}\n\nfunction __PRIVATE_dropRemoteDocumentChangesStore(t) {\n  t.objectStoreNames.contains(\"remoteDocumentChanges\") && t.deleteObjectStore(\"remoteDocumentChanges\");\n}\n\nfunction __PRIVATE_writeEmptyTargetGlobalEntry(t) {\n  var e = t.store(DbTargetGlobal.store),\n      n = new DbTargetGlobal(0, 0, __PRIVATE_SnapshotVersion.MIN.Y(), 0);\n  return e.put(DbTargetGlobal.key, n);\n}\n\nfunction __PRIVATE_createRemoteDocumentReadTimeIndex(t) {\n  var e = t.objectStore(DbRemoteDocument.store);\n  e.createIndex(DbRemoteDocument.readTimeIndex, DbRemoteDocument.readTimeIndexPath, {\n    unique: !1\n  }), e.createIndex(DbRemoteDocument.collectionReadTimeIndex, DbRemoteDocument.collectionReadTimeIndexPath, {\n    unique: !1\n  });\n}\n\nvar DbClientMetadata = function () {\n  function t(t, e, n, r) {\n    this.clientId = t, this.updateTimeMs = e, this.networkEnabled = n, this.inForeground = r;\n  }\n\n  return t.store = \"clientMetadata\", t.keyPath = \"clientId\", t;\n}();\n\nfunction __PRIVATE_createClientMetadataStore(t) {\n  t.createObjectStore(DbClientMetadata.store, {\n    keyPath: DbClientMetadata.keyPath\n  });\n}\n\nvar V1_STORES = [DbMutationQueue.store, DbMutationBatch.store, DbDocumentMutation.store, DbRemoteDocument.store, DbTarget.store, DbPrimaryClient.store, DbTargetGlobal.store, DbTargetDocument.store],\n    V3_STORES = V1_STORES,\n    V4_STORES = tslib.__spreadArrays(V3_STORES, [DbClientMetadata.store]),\n    V6_STORES = tslib.__spreadArrays(V4_STORES, [DbRemoteDocumentGlobal.store]),\n    V8_STORES = tslib.__spreadArrays(V6_STORES, [DbCollectionParent.store]),\n    ALL_STORES = V8_STORES,\n    __PRIVATE_IndexedDbIndexManager = function () {\n  function t() {\n    this.Vc = new __PRIVATE_MemoryCollectionParentIndex();\n  }\n\n  return t.prototype.gu = function (t, e) {\n    var n = this;\n\n    if (assert(e.length % 2 == 1, \"Expected a collection path.\"), !this.Vc.has(e)) {\n      var r = e.nt(),\n          i = e.Z();\n      t.Wo(function () {\n        n.Vc.add(e);\n      });\n      var s = {\n        collectionId: r,\n        parent: encode(i)\n      };\n      return __PRIVATE_collectionParentsStore(t).put(s);\n    }\n\n    return PersistencePromise.resolve();\n  }, t.prototype.oa = function (t, e) {\n    var n = [],\n        r = IDBKeyRange.bound([e, \"\"], [__PRIVATE_immediateSuccessor(e), \"\"], !1, !0);\n    return __PRIVATE_collectionParentsStore(t)._u(r).next(function (t) {\n      for (var r = 0, i = t; r < i.length; r++) {\n        var s = i[r];\n        if (s.collectionId !== e) break;\n        n.push(decode(s.parent));\n      }\n\n      return n;\n    });\n  }, t;\n}();\n\nfunction __PRIVATE_collectionParentsStore(t) {\n  return __PRIVATE_IndexedDbPersistence.tu(t, DbCollectionParent.store);\n}\n\nvar LocalSerializer = function () {\n  function t(t) {\n    this.mc = t;\n  }\n\n  return t.prototype.lc = function (t) {\n    if (t.document) return this.mc.pi(t.document, !!t.hasCommittedMutations);\n\n    if (t.noDocument) {\n      var e = __PRIVATE_DocumentKey.Tt(t.noDocument.path),\n          n = this.vc(t.noDocument.readTime);\n\n      return new __PRIVATE_NoDocument(e, n, {\n        hasCommittedMutations: !!t.hasCommittedMutations\n      });\n    }\n\n    if (t.unknownDocument) {\n      e = __PRIVATE_DocumentKey.Tt(t.unknownDocument.path), n = this.vc(t.unknownDocument.version);\n      return new __PRIVATE_UnknownDocument(e, n);\n    }\n\n    return fail(\"Unexpected DbRemoteDocument\");\n  }, t.prototype.Rc = function (t, e) {\n    var n = this.fc(e),\n        r = t.key.path.Z().st();\n\n    if (t instanceof Document) {\n      var i = t.proto ? t.proto : this.mc.vi(t),\n          s = t.hasCommittedMutations;\n      return new DbRemoteDocument(null, null, i, s, n, r);\n    }\n\n    if (t instanceof __PRIVATE_NoDocument) {\n      var o = t.key.path.st(),\n          u = this.pc(t.version);\n      s = t.hasCommittedMutations;\n      return new DbRemoteDocument(null, new DbNoDocument(o, u), null, s, n, r);\n    }\n\n    if (t instanceof __PRIVATE_UnknownDocument) {\n      o = t.key.path.st();\n      var a = this.pc(t.version);\n      return new DbRemoteDocument(new DbUnknownDocument(o, a), null, null, !0, n, r);\n    }\n\n    return fail(\"Unexpected MaybeDocument\");\n  }, t.prototype.fc = function (t) {\n    var e = t.Y();\n    return [e.seconds, e.nanoseconds];\n  }, t.prototype.dc = function (t) {\n    var e = new Timestamp(t[0], t[1]);\n    return __PRIVATE_SnapshotVersion.q(e);\n  }, t.prototype.pc = function (t) {\n    var e = t.Y();\n    return new DbTimestamp(e.seconds, e.nanoseconds);\n  }, t.prototype.vc = function (t) {\n    var e = new Timestamp(t.seconds, t.nanoseconds);\n    return __PRIVATE_SnapshotVersion.q(e);\n  }, t.prototype.bu = function (t, e) {\n    var n = this,\n        r = e.baseMutations.map(function (t) {\n      return n.mc.Fi(t);\n    }),\n        i = e.mutations.map(function (t) {\n      return n.mc.Fi(t);\n    });\n    return new DbMutationBatch(t, e.batchId, e.ke.toMillis(), r, i);\n  }, t.prototype.yu = function (t) {\n    var e = this,\n        n = (t.baseMutations || []).map(function (t) {\n      return e.mc.Gi(t);\n    }),\n        r = t.mutations.map(function (t) {\n      return e.mc.Gi(t);\n    }),\n        i = Timestamp.fromMillis(t.localWriteTimeMs);\n    return new __PRIVATE_MutationBatch(t.batchId, i, n, r);\n  }, t.prototype.bc = function (t) {\n    var e = [];\n    return t.forEach(function (t) {\n      e.push(encode(t.path));\n    }), e;\n  }, t.prototype.gc = function (t) {\n    for (var e = __PRIVATE_documentKeySet(), n = 0, r = t; n < r.length; n++) {\n      var i = r[n];\n      e = e.add(new __PRIVATE_DocumentKey(decode(i)));\n    }\n\n    return e;\n  }, t.prototype.ec = function (t) {\n    var e,\n        n = this.vc(t.readTime),\n        r = void 0 !== t.lastLimboFreeSnapshotVersion ? this.vc(t.lastLimboFreeSnapshotVersion) : __PRIVATE_SnapshotVersion.MIN,\n        i = t.resumeToken;\n    return e = __PRIVATE_isDocumentQuery(t.query) ? this.mc.qi(t.query) : this.mc.Hi(t.query), new __PRIVATE_TargetData(e, t.targetId, __PRIVATE_TargetPurpose.yn, t.lastListenSequenceNumber, n, r, i);\n  }, t.prototype.nc = function (t) {\n    assert(__PRIVATE_TargetPurpose.yn === t.Cn, \"Only queries with purpose \" + __PRIVATE_TargetPurpose.yn + \" may be stored, got \" + t.Cn);\n    var e,\n        n,\n        r = this.pc(t.On),\n        i = this.pc(t.lastLimboFreeSnapshotVersion);\n    return e = t.target.He() ? this.mc.ji(t.target) : this.mc.Qi(t.target), t.resumeToken instanceof Uint8Array ? (assert(__PRIVATE_SimpleDb.zo(), \"Persisting non-string stream tokens is only supported with mock persistence .\"), n = t.resumeToken.toString()) : n = t.resumeToken, new DbTarget(t.targetId, t.target.canonicalId(), r, n, t.sequenceNumber, i, e);\n  }, t;\n}();\n\nfunction __PRIVATE_isDocumentQuery(t) {\n  return void 0 !== t.documents;\n}\n\nvar __PRIVATE_LOG_TAG$3 = \"IndexedDbPersistence\",\n    __PRIVATE_MAX_CLIENT_AGE_MS = 18e5,\n    __PRIVATE_MAX_PRIMARY_ELIGIBLE_AGE_MS = 5e3,\n    __PRIVATE_CLIENT_METADATA_REFRESH_INTERVAL_MS = 4e3,\n    __PRIVATE_PRIMARY_LEASE_EXCLUSIVE_ERROR_MSG = \"Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.\",\n    __PRIVATE_UNSUPPORTED_PLATFORM_ERROR_MSG = \"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.\",\n    __PRIVATE_ZOMBIED_CLIENTS_KEY_PREFIX = \"firestore_zombie\",\n    __PRIVATE_IndexedDbTransaction = function (t) {\n  function e(e, n) {\n    var r = t.call(this) || this;\n    return r.Bu = e, r.xa = n, r;\n  }\n\n  return tslib.__extends(e, t), e;\n}(__PRIVATE_PersistenceTransaction),\n    __PRIVATE_IndexedDbPersistence = function () {\n  function t(e, n, r, i, s, o, u, a) {\n    if (this.allowTabSynchronization = e, this.persistenceKey = n, this.clientId = r, this.wc = o, this.yc = a, this.Sc = !1, this.isPrimary = !1, this.networkEnabled = !0, this.Dc = null, this.inForeground = !1, this.Cc = null, this.Oc = null, this.Fc = Number.NEGATIVE_INFINITY, this.Nc = function (t) {\n      return Promise.resolve();\n    }, this.Eu = new __PRIVATE_IndexedDbLruDelegate(this, s), this.Mc = n + t.Lc, this.serializer = new LocalSerializer(u), this.document = i.document, this.Va = new __PRIVATE_IndexedDbTargetCache(this.Eu, this.serializer), this.Tu = new __PRIVATE_IndexedDbIndexManager(), this.Hu = new __PRIVATE_IndexedDbRemoteDocumentCache(this.serializer, this.Tu), !i.window || !i.window.localStorage) throw new FirestoreError(Code.UNIMPLEMENTED, \"IndexedDB persistence is only available on platforms that support LocalStorage.\");\n    this.window = i.window, this.Gc = this.window.localStorage;\n  }\n\n  return t.tu = function (t, e) {\n    if (t instanceof __PRIVATE_IndexedDbTransaction) return __PRIVATE_SimpleDb.tu(t.Bu, e);\n    throw fail(\"IndexedDbPersistence must use instances of IndexedDbTransaction\");\n  }, t.Bc = function (e) {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      var n;\n      return tslib.__generator(this, function (r) {\n        switch (r.label) {\n          case 0:\n            if (!t.Xo()) throw new FirestoreError(Code.UNIMPLEMENTED, __PRIVATE_UNSUPPORTED_PLATFORM_ERROR_MSG);\n            return [4, (n = new t(e.allowTabSynchronization, e.persistenceKey, e.clientId, e.platform, e.Uc, e.wc, e.serializer, e.yc)).start()];\n\n          case 1:\n            return r.sent(), [2, n];\n        }\n      });\n    });\n  }, t.prototype.start = function () {\n    var t = this;\n    return assert(!this.Ea, \"IndexedDbPersistence double-started!\"), assert(null !== this.window, \"Expected 'window' to be defined\"), __PRIVATE_SimpleDb.Ho(this.Mc, SCHEMA_VERSION, new SchemaConverter(this.serializer)).then(function (e) {\n      return t.kc = e, t.xc();\n    }).then(function () {\n      return t.Kc(), t.jc(), t.qc(), t.kc.runTransaction(\"readonly-idempotent\", [DbTargetGlobal.store], function (t) {\n        return __PRIVATE_getHighestListenSequenceNumber(t);\n      });\n    }).then(function (e) {\n      t.Qc = new __PRIVATE_ListenSequence(e, t.yc);\n    }).then(function () {\n      t.Sc = !0;\n    }).catch(function (e) {\n      return t.kc && t.kc.close(), Promise.reject(e);\n    });\n  }, t.prototype.Wc = function (t) {\n    var e = this;\n    return this.Nc = function (n) {\n      return tslib.__awaiter(e, void 0, void 0, function () {\n        return tslib.__generator(this, function (e) {\n          return this.Ea ? [2, t(n)] : [2];\n        });\n      });\n    }, t(this.isPrimary);\n  }, t.prototype.$c = function (t) {\n    var e = this;\n    this.kc.eu(function (n) {\n      return tslib.__awaiter(e, void 0, void 0, function () {\n        return tslib.__generator(this, function (e) {\n          switch (e.label) {\n            case 0:\n              return null !== n.newVersion ? [3, 2] : [4, t()];\n\n            case 1:\n              e.sent(), e.label = 2;\n\n            case 2:\n              return [2];\n          }\n        });\n      });\n    });\n  }, t.prototype.u_ = function (t) {\n    var e = this;\n    this.networkEnabled !== t && (this.networkEnabled = t, this.wc.Us(function () {\n      return tslib.__awaiter(e, void 0, void 0, function () {\n        return tslib.__generator(this, function (t) {\n          switch (t.label) {\n            case 0:\n              return this.Ea ? [4, this.xc()] : [3, 2];\n\n            case 1:\n              t.sent(), t.label = 2;\n\n            case 2:\n              return [2];\n          }\n        });\n      });\n    }));\n  }, t.prototype.xc = function () {\n    var t = this;\n    return this.kc.runTransaction(\"readwrite-idempotent\", ALL_STORES, function (e) {\n      return __PRIVATE_clientMetadataStore(e).put(new DbClientMetadata(t.clientId, Date.now(), t.networkEnabled, t.inForeground)).next(function () {\n        if (t.isPrimary) return t.Yc(e).next(function (e) {\n          e || (t.isPrimary = !1, t.wc.Us(function () {\n            return t.Nc(!1);\n          }));\n        });\n      }).next(function () {\n        return t.Hc(e);\n      }).next(function (n) {\n        return t.isPrimary && !n ? t.Xc(e).next(function () {\n          return !1;\n        }) : !!n && t.zc(e).next(function () {\n          return !0;\n        });\n      });\n    }).catch(function (e) {\n      if (!t.allowTabSynchronization) throw e;\n      return debug(__PRIVATE_LOG_TAG$3, \"Releasing owner lease after error during lease refresh\", e), !1;\n    }).then(function (e) {\n      t.isPrimary !== e && t.wc.Us(function () {\n        return t.Nc(e);\n      }), t.isPrimary = e;\n    });\n  }, t.prototype.Yc = function (t) {\n    var e = this;\n    return __PRIVATE_primaryClientStore(t).get(DbPrimaryClient.key).next(function (t) {\n      return PersistencePromise.resolve(e.Jc(t));\n    });\n  }, t.prototype.Zc = function (t) {\n    return __PRIVATE_clientMetadataStore(t).delete(this.clientId);\n  }, t.prototype.th = function () {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      var e = this;\n      return tslib.__generator(this, function (n) {\n        switch (n.label) {\n          case 0:\n            return !this.isPrimary || this.eh(this.Fc, __PRIVATE_MAX_CLIENT_AGE_MS) ? [3, 2] : (this.Fc = Date.now(), [4, this.runTransaction(\"maybeGarbageCollectMultiClientState\", \"readwrite-primary-idempotent\", function (n) {\n              var r = t.tu(n, DbClientMetadata.store);\n              return r._u().next(function (t) {\n                var n = e.nh(t, __PRIVATE_MAX_CLIENT_AGE_MS),\n                    i = t.filter(function (t) {\n                  return -1 === n.indexOf(t);\n                });\n                return PersistencePromise.forEach(i, function (t) {\n                  return r.delete(t.clientId);\n                }).next(function () {\n                  return i;\n                });\n              });\n            }).catch(function () {\n              return [];\n            })]);\n\n          case 1:\n            n.sent().forEach(function (t) {\n              e.window.localStorage.removeItem(e.rh(t.clientId));\n            }), n.label = 2;\n\n          case 2:\n            return [2];\n        }\n      });\n    });\n  }, t.prototype.qc = function () {\n    var t = this;\n    this.Oc = this.wc.Js(__PRIVATE_TimerId.ws, __PRIVATE_CLIENT_METADATA_REFRESH_INTERVAL_MS, function () {\n      return t.xc().then(function () {\n        return t.th();\n      }).then(function () {\n        return t.qc();\n      });\n    });\n  }, t.prototype.Jc = function (t) {\n    return !!t && t.ownerId === this.clientId;\n  }, t.prototype.Hc = function (t) {\n    var e = this;\n    return __PRIVATE_primaryClientStore(t).get(DbPrimaryClient.key).next(function (n) {\n      if (null !== n && e.eh(n.leaseTimestampMs, __PRIVATE_MAX_PRIMARY_ELIGIBLE_AGE_MS) && !e.ih(n.ownerId)) {\n        if (e.Jc(n) && e.networkEnabled) return !0;\n\n        if (!e.Jc(n)) {\n          if (!n.allowTabSynchronization) throw new FirestoreError(Code.FAILED_PRECONDITION, __PRIVATE_PRIMARY_LEASE_EXCLUSIVE_ERROR_MSG);\n          return !1;\n        }\n      }\n\n      return !(!e.networkEnabled || !e.inForeground) || __PRIVATE_clientMetadataStore(t)._u().next(function (t) {\n        return void 0 === e.nh(t, __PRIVATE_MAX_PRIMARY_ELIGIBLE_AGE_MS).find(function (t) {\n          if (e.clientId !== t.clientId) {\n            var n = !e.networkEnabled && t.networkEnabled,\n                r = !e.inForeground && t.inForeground,\n                i = e.networkEnabled === t.networkEnabled;\n            if (n || r && i) return !0;\n          }\n\n          return !1;\n        });\n      });\n    }).next(function (t) {\n      return e.isPrimary !== t && debug(__PRIVATE_LOG_TAG$3, \"Client \" + (t ? \"is\" : \"is not\") + \" eligible for a primary lease.\"), t;\n    });\n  }, t.prototype.shutdown = function () {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      var t = this;\n      return tslib.__generator(this, function (e) {\n        switch (e.label) {\n          case 0:\n            return this.Sc = !1, this.sh(), this.Oc && (this.Oc.cancel(), this.Oc = null), this.oh(), this.uh(), [4, this.kc.runTransaction(\"readwrite-idempotent\", [DbPrimaryClient.store, DbClientMetadata.store], function (e) {\n              return t.Xc(e).next(function () {\n                return t.Zc(e);\n              });\n            })];\n\n          case 1:\n            return e.sent(), this.kc.close(), this.ah(), [2];\n        }\n      });\n    });\n  }, t.prototype.nh = function (t, e) {\n    var n = this;\n    return t.filter(function (t) {\n      return n.eh(t.updateTimeMs, e) && !n.ih(t.clientId);\n    });\n  }, t.prototype.s_ = function () {\n    var t = this;\n    return this.kc.runTransaction(\"readonly-idempotent\", [DbClientMetadata.store], function (e) {\n      return __PRIVATE_clientMetadataStore(e)._u().next(function (e) {\n        return t.nh(e, __PRIVATE_MAX_CLIENT_AGE_MS).map(function (t) {\n          return t.clientId;\n        });\n      });\n    });\n  }, t.clearPersistence = function (e) {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      var n;\n      return tslib.__generator(this, function (r) {\n        switch (r.label) {\n          case 0:\n            return t.Xo() ? (n = e + t.Lc, [4, __PRIVATE_SimpleDb.delete(n)]) : [2, Promise.resolve()];\n\n          case 1:\n            return r.sent(), [2];\n        }\n      });\n    });\n  }, Object.defineProperty(t.prototype, \"Ea\", {\n    get: function () {\n      return this.Sc;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.Aa = function (t) {\n    return assert(this.Ea, \"Cannot initialize MutationQueue before persistence is started.\"), __PRIVATE_IndexedDbMutationQueue.Au(t, this.serializer, this.Tu, this.Eu);\n  }, t.prototype.ma = function () {\n    return assert(this.Ea, \"Cannot initialize TargetCache before persistence is started.\"), this.Va;\n  }, t.prototype.Ia = function () {\n    return assert(this.Ea, \"Cannot initialize RemoteDocumentCache before persistence is started.\"), this.Hu;\n  }, t.prototype.pa = function () {\n    return assert(this.Ea, \"Cannot initialize IndexManager before persistence is started.\"), this.Tu;\n  }, t.prototype.runTransaction = function (t, e, n) {\n    var r = this;\n    debug(__PRIVATE_LOG_TAG$3, \"Starting transaction:\", t);\n    var i,\n        s = e.endsWith(\"idempotent\"),\n        o = e.startsWith(\"readonly\") ? s ? \"readonly-idempotent\" : \"readonly\" : s ? \"readwrite-idempotent\" : \"readwrite\";\n    return this.kc.runTransaction(o, ALL_STORES, function (s) {\n      return i = new __PRIVATE_IndexedDbTransaction(s, r.Qc.next()), \"readwrite-primary\" === e || \"readwrite-primary-idempotent\" === e ? r.Yc(s).next(function (t) {\n        return !!t || r.Hc(s);\n      }).next(function (e) {\n        if (!e) throw error(\"Failed to obtain primary lease for action '\" + t + \"'.\"), r.isPrimary = !1, r.wc.Us(function () {\n          return r.Nc(!1);\n        }), new FirestoreError(Code.FAILED_PRECONDITION, __PRIVATE_PRIMARY_LEASE_LOST_ERROR_MSG);\n        return n(i);\n      }).next(function (t) {\n        return r.zc(s).next(function () {\n          return t;\n        });\n      }) : r._h(s).next(function () {\n        return n(i);\n      });\n    }).then(function (t) {\n      return i.$o(), t;\n    });\n  }, t.prototype._h = function (t) {\n    var e = this;\n    return __PRIVATE_primaryClientStore(t).get(DbPrimaryClient.key).next(function (t) {\n      if (null !== t && e.eh(t.leaseTimestampMs, __PRIVATE_MAX_PRIMARY_ELIGIBLE_AGE_MS) && !e.ih(t.ownerId) && !e.Jc(t) && !t.allowTabSynchronization) throw new FirestoreError(Code.FAILED_PRECONDITION, __PRIVATE_PRIMARY_LEASE_EXCLUSIVE_ERROR_MSG);\n    });\n  }, t.prototype.zc = function (t) {\n    var e = new DbPrimaryClient(this.clientId, this.allowTabSynchronization, Date.now());\n    return __PRIVATE_primaryClientStore(t).put(DbPrimaryClient.key, e);\n  }, t.Xo = function () {\n    return __PRIVATE_SimpleDb.Xo();\n  }, t.hh = function (t) {\n    var e = t.o.projectId;\n    return t.o.u || (e += \".\" + t.o.database), \"firestore/\" + t.persistenceKey + \"/\" + e + \"/\";\n  }, t.prototype.Xc = function (t) {\n    var e = this,\n        n = __PRIVATE_primaryClientStore(t);\n\n    return n.get(DbPrimaryClient.key).next(function (t) {\n      return e.Jc(t) ? (debug(__PRIVATE_LOG_TAG$3, \"Releasing primary lease.\"), n.delete(DbPrimaryClient.key)) : PersistencePromise.resolve();\n    });\n  }, t.prototype.eh = function (t, e) {\n    var n = Date.now();\n    return !(t < n - e) && (!(t > n) || (error(\"Detected an update time that is in the future: \" + t + \" > \" + n), !1));\n  }, t.prototype.Kc = function () {\n    var t = this;\n    null !== this.document && \"function\" == typeof this.document.addEventListener && (this.Cc = function () {\n      t.wc.Us(function () {\n        return t.inForeground = \"visible\" === t.document.visibilityState, t.xc();\n      });\n    }, this.document.addEventListener(\"visibilitychange\", this.Cc), this.inForeground = \"visible\" === this.document.visibilityState);\n  }, t.prototype.oh = function () {\n    this.Cc && (assert(null !== this.document && \"function\" == typeof this.document.addEventListener, \"Expected 'document.addEventListener' to be a function\"), this.document.removeEventListener(\"visibilitychange\", this.Cc), this.Cc = null);\n  }, t.prototype.jc = function () {\n    var t = this;\n    \"function\" == typeof this.window.addEventListener && (this.Dc = function () {\n      t.sh(), t.wc.Us(function () {\n        return t.shutdown();\n      });\n    }, this.window.addEventListener(\"unload\", this.Dc));\n  }, t.prototype.uh = function () {\n    this.Dc && (assert(\"function\" == typeof this.window.removeEventListener, \"Expected 'window.removeEventListener' to be a function\"), this.window.removeEventListener(\"unload\", this.Dc), this.Dc = null);\n  }, t.prototype.ih = function (t) {\n    try {\n      var e = null !== this.Gc.getItem(this.rh(t));\n      return debug(__PRIVATE_LOG_TAG$3, \"Client '\" + t + \"' \" + (e ? \"is\" : \"is not\") + \" zombied in LocalStorage\"), e;\n    } catch (t) {\n      return error(__PRIVATE_LOG_TAG$3, \"Failed to get zombied client id.\", t), !1;\n    }\n  }, t.prototype.sh = function () {\n    try {\n      this.Gc.setItem(this.rh(this.clientId), String(Date.now()));\n    } catch (t) {\n      error(\"Failed to set zombie client id.\", t);\n    }\n  }, t.prototype.ah = function () {\n    try {\n      this.Gc.removeItem(this.rh(this.clientId));\n    } catch (t) {}\n  }, t.prototype.rh = function (t) {\n    return __PRIVATE_ZOMBIED_CLIENTS_KEY_PREFIX + \"_\" + this.persistenceKey + \"_\" + t;\n  }, t.Lc = \"main\", t;\n}();\n\nfunction __PRIVATE_primaryClientStore(t) {\n  return t.store(DbPrimaryClient.store);\n}\n\nfunction __PRIVATE_clientMetadataStore(t) {\n  return t.store(DbClientMetadata.store);\n}\n\nvar __PRIVATE_IndexedDbLruDelegate = function () {\n  function t(t, e) {\n    this.db = t, this.fh = null, this.O_ = new __PRIVATE_LruGarbageCollector(this, e);\n  }\n\n  return t.prototype.U_ = function (t) {\n    var e = this.lh(t);\n    return this.db.ma().rc(t).next(function (t) {\n      return e.next(function (e) {\n        return t + e;\n      });\n    });\n  }, t.prototype.lh = function (t) {\n    var e = 0;\n    return this.x_(t, function (t) {\n      e++;\n    }).next(function () {\n      return e;\n    });\n  }, t.prototype.Ur = function (t, e) {\n    return this.db.ma().Ur(t, e);\n  }, t.prototype.x_ = function (t, e) {\n    return this.dh(t, function (t, n) {\n      return e(n);\n    });\n  }, t.prototype.Pa = function (t) {\n    this.fh = t;\n  }, t.prototype.fo = function (t, e) {\n    return __PRIVATE_writeSentinelKey(t, e);\n  }, t.prototype.do = function (t, e) {\n    return __PRIVATE_writeSentinelKey(t, e);\n  }, t.prototype.K_ = function (t, e, n) {\n    return this.db.ma().K_(t, e, n);\n  }, t.prototype.ku = function (t, e) {\n    return __PRIVATE_writeSentinelKey(t, e);\n  }, t.prototype.Th = function (t, e) {\n    return this.fh.Io(e) ? PersistencePromise.resolve(!0) : __PRIVATE_mutationQueuesContainKey(t, e);\n  }, t.prototype.j_ = function (t, e) {\n    var n = this,\n        r = this.db.Ia().Fa(),\n        i = [],\n        s = 0;\n    return this.dh(t, function (o, u) {\n      if (u <= e) {\n        var a = n.Th(t, o).next(function (e) {\n          if (!e) return s++, r.xo(t, o).next(function () {\n            return r.ko(o), __PRIVATE_documentTargetStore(t).delete(__PRIVATE_sentinelKey$1(o));\n          });\n        });\n        i.push(a);\n      }\n    }).next(function () {\n      return PersistencePromise.Fo(i);\n    }).next(function () {\n      return r.apply(t);\n    }).next(function () {\n      return s;\n    });\n  }, t.prototype.removeTarget = function (t, e) {\n    var n = e.Fn(t.xa);\n    return this.db.ma().ja(t, n);\n  }, t.prototype.qa = function (t, e) {\n    return __PRIVATE_writeSentinelKey(t, e);\n  }, t.prototype.dh = function (t, e) {\n    var n,\n        r = __PRIVATE_documentTargetStore(t),\n        i = __PRIVATE_ListenSequence.Is;\n\n    return r.lu({\n      index: DbTargetDocument.documentTargetsIndex\n    }, function (t, r) {\n      var s = t[0],\n          o = (t[1], r.path),\n          u = r.sequenceNumber;\n      0 === s ? (i !== __PRIVATE_ListenSequence.Is && e(new __PRIVATE_DocumentKey(decode(n)), i), i = u, n = o) : i = __PRIVATE_ListenSequence.Is;\n    }).next(function () {\n      i !== __PRIVATE_ListenSequence.Is && e(new __PRIVATE_DocumentKey(decode(n)), i);\n    });\n  }, t.prototype.q_ = function (t) {\n    return this.db.Ia().Ec(t);\n  }, t;\n}();\n\nfunction __PRIVATE_sentinelKey$1(t) {\n  return [0, encode(t.path)];\n}\n\nfunction __PRIVATE_sentinelRow(t, e) {\n  return new DbTargetDocument(0, encode(t.path), e);\n}\n\nfunction __PRIVATE_writeSentinelKey(t, e) {\n  return __PRIVATE_documentTargetStore(t).put(__PRIVATE_sentinelRow(e, t.xa));\n}\n\nvar __PRIVATE_IndexFreeQueryEngine = function () {\n  function t() {}\n\n  return t.prototype.ba = function (t) {\n    this.Eh = t;\n  }, t.prototype.na = function (t, e, n, r) {\n    var i = this;\n    return assert(void 0 !== this.Eh, \"setLocalDocumentsView() not called\"), e.dn() ? this.Ph(t, e) : n.isEqual(__PRIVATE_SnapshotVersion.MIN) ? this.Ph(t, e) : this.Eh.ta(t, r).next(function (s) {\n      var o = i.Ah(e, s);\n      return (e.Vn() || e.mn()) && i.Rh(e.Ze, o, r, n) ? i.Ph(t, e) : (__PRIVATE_getLogLevel() <= LogLevel.DEBUG && debug(\"IndexFreeQueryEngine\", \"Re-using previous result from %s to execute query: %s\", n.toString(), e.toString()), i.Eh.na(t, e, n).next(function (t) {\n        return o.forEach(function (e) {\n          t = t.Pt(e.key, e);\n        }), t;\n      }));\n    });\n  }, t.prototype.Ah = function (t, e) {\n    var n = new __PRIVATE_SortedSet(function (e, n) {\n      return t.En(e, n);\n    });\n    return e.forEach(function (e, r) {\n      r instanceof Document && t.matches(r) && (n = n.add(r));\n    }), n;\n  }, t.prototype.Rh = function (t, e, n, r) {\n    if (n.size !== e.size) return !0;\n    var i = t === __PRIVATE_LimitType.Xe ? e.last() : e.first();\n    return !!i && (i.hasPendingWrites || i.version._(r) > 0);\n  }, t.prototype.Ph = function (t, e) {\n    return __PRIVATE_getLogLevel() <= LogLevel.DEBUG && debug(\"IndexFreeQueryEngine\", \"Using full collection scan to execute query: %s\", e.toString()), this.Eh.na(t, e, __PRIVATE_SnapshotVersion.MIN);\n  }, t;\n}(),\n    __PRIVATE_MemoryMutationQueue = function () {\n  function t(t, e) {\n    this.Tu = t, this.Eu = e, this.Xu = [], this.Ih = 1, this.lastStreamToken = __PRIVATE_emptyByteString(), this.Vh = new __PRIVATE_SortedSet(__PRIVATE_DocReference.je);\n  }\n\n  return t.prototype.Ru = function (t) {\n    return PersistencePromise.resolve(0 === this.Xu.length);\n  }, t.prototype.Iu = function (t, e, n) {\n    var r = e.batchId,\n        i = this.mh(r, \"acknowledged\");\n    assert(0 === i, \"Can only acknowledge the first batch in the mutation queue\");\n    var s = this.Xu[i];\n    return assert(r === s.batchId, \"Queue ordering failure: expected batch \" + r + \", got batch \" + s.batchId), this.lastStreamToken = n, PersistencePromise.resolve();\n  }, t.prototype.mu = function (t) {\n    return PersistencePromise.resolve(this.lastStreamToken);\n  }, t.prototype.vu = function (t, e) {\n    return this.lastStreamToken = e, PersistencePromise.resolve();\n  }, t.prototype.pu = function (t, e, n, r) {\n    assert(0 !== r.length, \"Mutation batches should not be empty\");\n    var i = this.Ih;\n    (this.Ih++, this.Xu.length > 0) && assert(this.Xu[this.Xu.length - 1].batchId < i, \"Mutation batchIDs must be monotonically increasing order\");\n    var s = new __PRIVATE_MutationBatch(i, e, n, r);\n    this.Xu.push(s);\n\n    for (var o = 0, u = r; o < u.length; o++) {\n      var a = u[o];\n      this.Vh = this.Vh.add(new __PRIVATE_DocReference(a.key, i)), this.Tu.gu(t, a.key.path.Z());\n    }\n\n    return PersistencePromise.resolve(s);\n  }, t.prototype.wu = function (t, e) {\n    return PersistencePromise.resolve(this.vh(e));\n  }, t.prototype.Su = function (t, e) {\n    var n = this.vh(e);\n    return assert(null != n, \"Failed to find local mutation batch.\"), PersistencePromise.resolve(n.keys());\n  }, t.prototype.Du = function (t, e) {\n    var n = e + 1,\n        r = this.ph(n),\n        i = r < 0 ? 0 : r;\n    return PersistencePromise.resolve(this.Xu.length > i ? this.Xu[i] : null);\n  }, t.prototype.Cu = function () {\n    return PersistencePromise.resolve(0 === this.Xu.length ? __PRIVATE_BATCHID_UNKNOWN : this.Ih - 1);\n  }, t.prototype.Ou = function (t) {\n    return PersistencePromise.resolve(this.Xu.slice());\n  }, t.prototype.Fu = function (t, e) {\n    var n = this,\n        r = new __PRIVATE_DocReference(e, 0),\n        i = new __PRIVATE_DocReference(e, Number.POSITIVE_INFINITY),\n        s = [];\n    return this.Vh.qt([r, i], function (t) {\n      assert(e.isEqual(t.key), \"Should only iterate over a single key's batches\");\n      var r = n.vh(t.Vo);\n      assert(null !== r, \"Batches in the index must exist in the main table\"), s.push(r);\n    }), PersistencePromise.resolve(s);\n  }, t.prototype.Nu = function (t, e) {\n    var n = this,\n        r = new __PRIVATE_SortedSet(__PRIVATE_primitiveComparator);\n    return e.forEach(function (t) {\n      var e = new __PRIVATE_DocReference(t, 0),\n          i = new __PRIVATE_DocReference(t, Number.POSITIVE_INFINITY);\n      n.Vh.qt([e, i], function (e) {\n        assert(t.isEqual(e.key), \"For each key, should only iterate over a single key's batches\"), r = r.add(e.Vo);\n      });\n    }), PersistencePromise.resolve(this.bh(r));\n  }, t.prototype.Lu = function (t, e) {\n    assert(!e.pn(), \"CollectionGroup queries should be handled in LocalDocumentsView\");\n    var n = e.path,\n        r = n.length + 1,\n        i = n;\n    __PRIVATE_DocumentKey.lt(i) || (i = i.child(\"\"));\n    var s = new __PRIVATE_DocReference(new __PRIVATE_DocumentKey(i), 0),\n        o = new __PRIVATE_SortedSet(__PRIVATE_primitiveComparator);\n    return this.Vh.Qt(function (t) {\n      var e = t.key.path;\n      return !!n.rt(e) && (e.length === r && (o = o.add(t.Vo)), !0);\n    }, s), PersistencePromise.resolve(this.bh(o));\n  }, t.prototype.bh = function (t) {\n    var e = this,\n        n = [];\n    return t.forEach(function (t) {\n      var r = e.vh(t);\n      null !== r && n.push(r);\n    }), n;\n  }, t.prototype.Gu = function (t, e) {\n    var n = this;\n    assert(0 === this.mh(e.batchId, \"removed\"), \"Can only remove the first entry of the mutation queue\"), this.Xu.shift();\n    var r = this.Vh;\n    return PersistencePromise.forEach(e.mutations, function (i) {\n      var s = new __PRIVATE_DocReference(i.key, e.batchId);\n      return r = r.delete(s), n.Eu.ku(t, i.key);\n    }).next(function () {\n      n.Vh = r;\n    });\n  }, t.prototype.Uu = function (t) {}, t.prototype.Io = function (t, e) {\n    var n = new __PRIVATE_DocReference(e, 0),\n        r = this.Vh.Wt(n);\n    return PersistencePromise.resolve(e.isEqual(r && r.key));\n  }, t.prototype.xu = function (t) {\n    return 0 === this.Xu.length && assert(this.Vh.tt(), \"Document leak -- detected dangling mutation references when queue is empty.\"), PersistencePromise.resolve();\n  }, t.prototype.mh = function (t, e) {\n    var n = this.ph(t);\n    return assert(n >= 0 && n < this.Xu.length, \"Batches must exist to be \" + e), n;\n  }, t.prototype.ph = function (t) {\n    return 0 === this.Xu.length ? 0 : t - this.Xu[0].batchId;\n  }, t.prototype.vh = function (t) {\n    var e = this.ph(t);\n    if (e < 0 || e >= this.Xu.length) return null;\n    var n = this.Xu[e];\n    return assert(n.batchId === t, \"If found batch must match\"), n;\n  }, t;\n}();\n\nfunction __PRIVATE_documentEntryMap() {\n  return new __PRIVATE_SortedMap(__PRIVATE_DocumentKey.H);\n}\n\nvar __PRIVATE_PersistentStreamState,\n    __PRIVATE_MemoryRemoteDocumentCache = function () {\n  function t(t, e) {\n    this.Tu = t, this.gh = e, this.docs = __PRIVATE_documentEntryMap(), this.size = 0;\n  }\n\n  return t.prototype.Bo = function (t, e, n) {\n    assert(!n.isEqual(__PRIVATE_SnapshotVersion.MIN), \"Cannot add a document with a read time of zero\");\n    var r = e.key,\n        i = this.docs.get(r),\n        s = i ? i.size : 0,\n        o = this.gh(e);\n    return this.docs = this.docs.Pt(r, {\n      uc: e,\n      size: o,\n      readTime: n\n    }), this.size += o - s, this.Tu.gu(t, r.path.Z());\n  }, t.prototype.ko = function (t) {\n    var e = this.docs.get(t);\n    e && (this.docs = this.docs.remove(t), this.size -= e.size);\n  }, t.prototype.xo = function (t, e) {\n    var n = this.docs.get(e);\n    return PersistencePromise.resolve(n ? n.uc : null);\n  }, t.prototype.getEntries = function (t, e) {\n    var n = this,\n        r = __PRIVATE_nullableMaybeDocumentMap();\n\n    return e.forEach(function (t) {\n      var e = n.docs.get(t);\n      r = r.Pt(t, e ? e.uc : null);\n    }), PersistencePromise.resolve(r);\n  }, t.prototype.na = function (t, e, n) {\n    assert(!e.pn(), \"CollectionGroup queries should be handled in LocalDocumentsView\");\n\n    for (var r = __PRIVATE_documentMap(), i = new __PRIVATE_DocumentKey(e.path.child(\"\")), s = this.docs.bt(i); s.Ct();) {\n      var o = s.Dt(),\n          u = o.key,\n          a = o.value,\n          _ = a.uc,\n          c = a.readTime;\n      if (!e.path.rt(u.path)) break;\n      c._(n) <= 0 || _ instanceof Document && e.matches(_) && (r = r.Pt(_.key, _));\n    }\n\n    return PersistencePromise.resolve(r);\n  }, t.prototype.wh = function (t, e) {\n    return PersistencePromise.forEach(this.docs, function (t) {\n      return e(t);\n    });\n  }, t.prototype.h_ = function (t, e) {\n    throw new Error(\"getNewDocumentChanges() is not supported with MemoryPersistence\");\n  }, t.prototype.l_ = function (t) {\n    return PersistencePromise.resolve(__PRIVATE_SnapshotVersion.MIN);\n  }, t.prototype.Fa = function (e) {\n    return new t.Tc(this);\n  }, t.prototype.Ec = function (t) {\n    return PersistencePromise.resolve(this.size);\n  }, t.Tc = function (t) {\n    function e(e) {\n      var n = t.call(this) || this;\n      return n.Pc = e, n;\n    }\n\n    return tslib.__extends(e, t), e.prototype.qo = function (t) {\n      var e = this,\n          n = [];\n      return this.Mo.forEach(function (r, i) {\n        i ? n.push(e.Pc.Bo(t, i, e.readTime)) : e.Pc.ko(r);\n      }), PersistencePromise.Fo(n);\n    }, e.prototype.Ko = function (t, e) {\n      return this.Pc.xo(t, e);\n    }, e.prototype.jo = function (t, e) {\n      return this.Pc.getEntries(t, e);\n    }, e;\n  }(__PRIVATE_RemoteDocumentChangeBuffer), t;\n}(),\n    __PRIVATE_MemoryTargetCache = function () {\n  function t(t) {\n    this.persistence = t, this.yh = new __PRIVATE_ObjectMap(function (t) {\n      return t.canonicalId();\n    }), this.lastRemoteSnapshotVersion = __PRIVATE_SnapshotVersion.MIN, this.highestTargetId = 0, this.Sh = 0, this.Dh = new __PRIVATE_ReferenceSet(), this.targetCount = 0, this.W_ = __PRIVATE_TargetIdGenerator.$u();\n  }\n\n  return t.prototype.Ur = function (t, e) {\n    return this.yh.forEach(function (t, n) {\n      return e(n);\n    }), PersistencePromise.resolve();\n  }, t.prototype.Ga = function (t) {\n    return PersistencePromise.resolve(this.lastRemoteSnapshotVersion);\n  }, t.prototype.X_ = function (t) {\n    return PersistencePromise.resolve(this.Sh);\n  }, t.prototype.Ja = function (t) {\n    var e = this.W_.after(this.highestTargetId);\n    return this.highestTargetId = e, PersistencePromise.resolve(e);\n  }, t.prototype.Qa = function (t, e, n) {\n    return n && (this.lastRemoteSnapshotVersion = n), e > this.Sh && (this.Sh = e), PersistencePromise.resolve();\n  }, t.prototype.z_ = function (t) {\n    this.yh.set(t.target, t);\n    var e = t.targetId;\n    e > this.highestTargetId && (this.highestTargetId = e), t.sequenceNumber > this.Sh && (this.Sh = t.sequenceNumber);\n  }, t.prototype.Za = function (t, e) {\n    return assert(!this.yh.has(e.target), \"Adding a target that already exists\"), this.z_(e), this.targetCount += 1, PersistencePromise.resolve();\n  }, t.prototype.ja = function (t, e) {\n    return assert(this.yh.has(e.target), \"Updating a non-existent target\"), this.z_(e), PersistencePromise.resolve();\n  }, t.prototype.Z_ = function (t, e) {\n    return assert(this.targetCount > 0, \"Removing a target from an empty cache\"), assert(this.yh.has(e.target), \"Removing a non-existent target from the cache\"), this.yh.delete(e.target), this.Dh.Po(e.targetId), this.targetCount -= 1, PersistencePromise.resolve();\n  }, t.prototype.K_ = function (t, e, n) {\n    var r = this,\n        i = 0,\n        s = [];\n    return this.yh.forEach(function (o, u) {\n      u.sequenceNumber <= e && null === n.get(u.targetId) && (r.yh.delete(o), s.push(r.tc(t, u.targetId)), i++);\n    }), PersistencePromise.Fo(s).next(function () {\n      return i;\n    });\n  }, t.prototype.rc = function (t) {\n    return PersistencePromise.resolve(this.targetCount);\n  }, t.prototype.za = function (t, e) {\n    var n = this.yh.get(e) || null;\n    return PersistencePromise.resolve(n);\n  }, t.prototype.Xr = function (t, e) {\n    return fail(\"Not yet implemented.\");\n  }, t.prototype.ka = function (t, e, n) {\n    this.Dh.lo(e, n);\n    var r = this.persistence.Eu,\n        i = [];\n    return r && e.forEach(function (e) {\n      i.push(r.fo(t, e));\n    }), PersistencePromise.Fo(i);\n  }, t.prototype.Ua = function (t, e, n) {\n    this.Dh.Eo(e, n);\n    var r = this.persistence.Eu,\n        i = [];\n    return r && e.forEach(function (e) {\n      i.push(r.do(t, e));\n    }), PersistencePromise.Fo(i);\n  }, t.prototype.tc = function (t, e) {\n    return this.Dh.Po(e), PersistencePromise.resolve();\n  }, t.prototype.n_ = function (t, e) {\n    var n = this.Dh.Ro(e);\n    return PersistencePromise.resolve(n);\n  }, t.prototype.Io = function (t, e) {\n    return PersistencePromise.resolve(this.Dh.Io(e));\n  }, t;\n}(),\n    __PRIVATE_LOG_TAG$4 = \"MemoryPersistence\",\n    __PRIVATE_MemoryPersistence = function () {\n  function t(t, e) {\n    var n = this;\n    this.clientId = t, this.Ch = {}, this.Qc = new __PRIVATE_ListenSequence(0), this.Sc = !1, this.Sc = !0, this.Eu = e(this), this.Va = new __PRIVATE_MemoryTargetCache(this);\n    this.Tu = new __PRIVATE_MemoryIndexManager(), this.Hu = new __PRIVATE_MemoryRemoteDocumentCache(this.Tu, function (t) {\n      return n.Eu.Oh(t);\n    });\n  }\n\n  return t.Fh = function (e, n) {\n    return new t(e, function (t) {\n      return new __PRIVATE_MemoryLruDelegate(t, n);\n    });\n  }, t.Nh = function (e) {\n    return new t(e, function (t) {\n      return new __PRIVATE_MemoryEagerDelegate(t);\n    });\n  }, t.prototype.shutdown = function () {\n    return this.Sc = !1, Promise.resolve();\n  }, Object.defineProperty(t.prototype, \"Ea\", {\n    get: function () {\n      return this.Sc;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.s_ = function () {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      return tslib.__generator(this, function (t) {\n        return [2, [this.clientId]];\n      });\n    });\n  }, t.prototype.Wc = function (t) {\n    return t(!0);\n  }, t.prototype.$c = function () {}, t.prototype.u_ = function (t) {}, t.prototype.pa = function () {\n    return this.Tu;\n  }, t.prototype.Aa = function (t) {\n    var e = this.Ch[t.I()];\n    return e || (e = new __PRIVATE_MemoryMutationQueue(this.Tu, this.Eu), this.Ch[t.I()] = e), e;\n  }, t.prototype.ma = function () {\n    return this.Va;\n  }, t.prototype.Ia = function () {\n    return this.Hu;\n  }, t.prototype.runTransaction = function (t, e, n) {\n    var r = this;\n    debug(__PRIVATE_LOG_TAG$4, \"Starting transaction:\", t);\n    var i = new __PRIVATE_MemoryTransaction(this.Qc.next());\n    return this.Eu.Mh(), n(i).next(function (t) {\n      return r.Eu.Lh(i).next(function () {\n        return t;\n      });\n    }).Co().then(function (t) {\n      return i.$o(), t;\n    });\n  }, t.prototype.Gh = function (t, e) {\n    return PersistencePromise.No(values(this.Ch).map(function (n) {\n      return function () {\n        return n.Io(t, e);\n      };\n    }));\n  }, t;\n}(),\n    __PRIVATE_MemoryTransaction = function (t) {\n  function e(e) {\n    var n = t.call(this) || this;\n    return n.xa = e, n;\n  }\n\n  return tslib.__extends(e, t), e;\n}(__PRIVATE_PersistenceTransaction),\n    __PRIVATE_MemoryEagerDelegate = function () {\n  function t(t) {\n    this.persistence = t, this.fh = null, this.Bh = null;\n  }\n\n  return Object.defineProperty(t.prototype, \"Uh\", {\n    get: function () {\n      if (this.Bh) return this.Bh;\n      throw fail(\"orphanedDocuments is only valid during a transaction.\");\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.Pa = function (t) {\n    this.fh = t;\n  }, t.prototype.fo = function (t, e) {\n    return this.Uh.delete(e), PersistencePromise.resolve();\n  }, t.prototype.do = function (t, e) {\n    return this.Uh.add(e), PersistencePromise.resolve();\n  }, t.prototype.ku = function (t, e) {\n    return this.Uh.add(e), PersistencePromise.resolve();\n  }, t.prototype.removeTarget = function (t, e) {\n    var n = this,\n        r = this.persistence.ma();\n    return r.n_(t, e.targetId).next(function (t) {\n      t.forEach(function (t) {\n        return n.Uh.add(t);\n      });\n    }).next(function () {\n      return r.Z_(t, e);\n    });\n  }, t.prototype.Mh = function () {\n    this.Bh = new Set();\n  }, t.prototype.Lh = function (t) {\n    var e = this,\n        n = this.persistence.Ia().Fa();\n    return PersistencePromise.forEach(this.Uh, function (r) {\n      return e.kh(t, r).next(function (t) {\n        t || n.ko(r);\n      });\n    }).next(function () {\n      return e.Bh = null, n.apply(t);\n    });\n  }, t.prototype.qa = function (t, e) {\n    var n = this;\n    return this.kh(t, e).next(function (t) {\n      t ? n.Uh.delete(e) : n.Uh.add(e);\n    });\n  }, t.prototype.Oh = function (t) {\n    return 0;\n  }, t.prototype.kh = function (t, e) {\n    var n = this;\n    return PersistencePromise.No([function () {\n      return n.persistence.ma().Io(t, e);\n    }, function () {\n      return n.persistence.Gh(t, e);\n    }, function () {\n      return PersistencePromise.resolve(n.fh.Io(e));\n    }]);\n  }, t;\n}(),\n    __PRIVATE_MemoryLruDelegate = function () {\n  function t(t, e) {\n    this.persistence = t, this.fh = null, this.xh = new __PRIVATE_ObjectMap(function (t) {\n      return encode(t.path);\n    }), this.O_ = new __PRIVATE_LruGarbageCollector(this, e);\n  }\n\n  return t.prototype.Mh = function () {}, t.prototype.Lh = function (t) {\n    return PersistencePromise.resolve();\n  }, t.prototype.Ur = function (t, e) {\n    return this.persistence.ma().Ur(t, e);\n  }, t.prototype.U_ = function (t) {\n    var e = this.Kh(t);\n    return this.persistence.ma().rc(t).next(function (t) {\n      return e.next(function (e) {\n        return t + e;\n      });\n    });\n  }, t.prototype.Kh = function (t) {\n    var e = 0;\n    return this.x_(t, function (t) {\n      e++;\n    }).next(function () {\n      return e;\n    });\n  }, t.prototype.x_ = function (t, e) {\n    var n = this;\n    return PersistencePromise.forEach(this.xh, function (r, i) {\n      return n.Th(t, r, i).next(function (t) {\n        return t ? PersistencePromise.resolve() : e(i);\n      });\n    });\n  }, t.prototype.Pa = function (t) {\n    this.fh = t;\n  }, t.prototype.K_ = function (t, e, n) {\n    return this.persistence.ma().K_(t, e, n);\n  }, t.prototype.j_ = function (t, e) {\n    var n = this,\n        r = 0,\n        i = this.persistence.Ia(),\n        s = i.Fa();\n    return i.wh(t, function (i) {\n      return n.Th(t, i, e).next(function (t) {\n        t || (r++, s.ko(i));\n      });\n    }).next(function () {\n      return s.apply(t);\n    }).next(function () {\n      return r;\n    });\n  }, t.prototype.ku = function (t, e) {\n    return this.xh.set(e, t.xa), PersistencePromise.resolve();\n  }, t.prototype.removeTarget = function (t, e) {\n    var n = e.Fn(t.xa);\n    return this.persistence.ma().ja(t, n);\n  }, t.prototype.fo = function (t, e) {\n    return this.xh.set(e, t.xa), PersistencePromise.resolve();\n  }, t.prototype.do = function (t, e) {\n    return this.xh.set(e, t.xa), PersistencePromise.resolve();\n  }, t.prototype.qa = function (t, e) {\n    return this.xh.set(e, t.xa), PersistencePromise.resolve();\n  }, t.prototype.Oh = function (t) {\n    var e = t.key.toString().length;\n    return t instanceof Document && (e += t.data().Me()), e;\n  }, t.prototype.Th = function (t, e, n) {\n    var r = this;\n    return PersistencePromise.No([function () {\n      return r.persistence.Gh(t, e);\n    }, function () {\n      return PersistencePromise.resolve(r.fh.Io(e));\n    }, function () {\n      return r.persistence.ma().Io(t, e);\n    }, function () {\n      var t = r.xh.get(e);\n      return PersistencePromise.resolve(void 0 !== t && t > n);\n    }]);\n  }, t.prototype.q_ = function (t) {\n    return this.persistence.Ia().Ec(t);\n  }, t;\n}(),\n    __PRIVATE_LOG_TAG$5 = \"ExponentialBackoff\",\n    __PRIVATE_DEFAULT_BACKOFF_INITIAL_DELAY_MS = 1e3,\n    __PRIVATE_DEFAULT_BACKOFF_FACTOR = 1.5,\n    __PRIVATE_DEFAULT_BACKOFF_MAX_DELAY_MS = 6e4,\n    __PRIVATE_ExponentialBackoff = function () {\n  function t(t, e, n, r, i) {\n    void 0 === n && (n = __PRIVATE_DEFAULT_BACKOFF_INITIAL_DELAY_MS), void 0 === r && (r = __PRIVATE_DEFAULT_BACKOFF_FACTOR), void 0 === i && (i = __PRIVATE_DEFAULT_BACKOFF_MAX_DELAY_MS), this.wc = t, this.Cs = e, this.jh = n, this.qh = r, this.Qh = i, this.Wh = 0, this.$h = null, this.Yh = Date.now(), this.reset();\n  }\n\n  return t.prototype.reset = function () {\n    this.Wh = 0;\n  }, t.prototype.Hh = function () {\n    this.Wh = this.Qh;\n  }, t.prototype.Xh = function (t) {\n    var e = this;\n    this.cancel();\n    var n = Math.floor(this.Wh + this.zh()),\n        r = Math.max(0, Date.now() - this.Yh),\n        i = Math.max(0, n - r);\n    this.Wh > 0 && debug(__PRIVATE_LOG_TAG$5, \"Backing off for \" + i + \" ms (base delay: \" + this.Wh + \" ms, delay with jitter: \" + n + \" ms, last attempt: \" + r + \" ms ago)\"), this.$h = this.wc.Js(this.Cs, i, function () {\n      return e.Yh = Date.now(), t();\n    }), this.Wh *= this.qh, this.Wh < this.jh && (this.Wh = this.jh), this.Wh > this.Qh && (this.Wh = this.Qh);\n  }, t.prototype.cancel = function () {\n    null !== this.$h && (this.$h.cancel(), this.$h = null);\n  }, t.prototype.zh = function () {\n    return (Math.random() - .5) * this.Wh;\n  }, t;\n}(),\n    __PRIVATE_LOG_TAG$6 = \"PersistentStream\";\n\n!function (t) {\n  t[t.Jh = 0] = \"__PRIVATE_Initial\", t[t.Zh = 1] = \"__PRIVATE_Starting\", t[t.tf = 2] = \"__PRIVATE_Open\", t[t.Error = 3] = \"Error\", t[t.ef = 4] = \"__PRIVATE_Backoff\";\n}(__PRIVATE_PersistentStreamState || (__PRIVATE_PersistentStreamState = {}));\n\nvar __PRIVATE_IDLE_TIMEOUT_MS = 6e4,\n    __PRIVATE_PersistentStream = function () {\n  function t(t, e, n, r, i, s) {\n    this.wc = t, this.nf = n, this.connection = r, this.rf = i, this.listener = s, this.state = __PRIVATE_PersistentStreamState.Jh, this.if = 0, this.sf = null, this.stream = null, this.uf = new __PRIVATE_ExponentialBackoff(t, e);\n  }\n\n  return t.prototype.af = function () {\n    return this.state === __PRIVATE_PersistentStreamState.Zh || this.state === __PRIVATE_PersistentStreamState.tf || this.state === __PRIVATE_PersistentStreamState.ef;\n  }, t.prototype._f = function () {\n    return this.state === __PRIVATE_PersistentStreamState.tf;\n  }, t.prototype.start = function () {\n    this.state !== __PRIVATE_PersistentStreamState.Error ? (assert(this.state === __PRIVATE_PersistentStreamState.Jh, \"Already started\"), this.auth()) : this.cf();\n  }, t.prototype.stop = function () {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      return tslib.__generator(this, function (t) {\n        switch (t.label) {\n          case 0:\n            return this.af() ? [4, this.close(__PRIVATE_PersistentStreamState.Jh)] : [3, 2];\n\n          case 1:\n            t.sent(), t.label = 2;\n\n          case 2:\n            return [2];\n        }\n      });\n    });\n  }, t.prototype.hf = function () {\n    assert(!this.af(), \"Can only inhibit backoff in a stopped state\"), this.state = __PRIVATE_PersistentStreamState.Jh, this.uf.reset();\n  }, t.prototype.ff = function () {\n    var t = this;\n    this._f() && null === this.sf && (this.sf = this.wc.Js(this.nf, __PRIVATE_IDLE_TIMEOUT_MS, function () {\n      return t.lf();\n    }));\n  }, t.prototype.df = function (t) {\n    this.Tf(), this.stream.send(t);\n  }, t.prototype.lf = function () {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      return tslib.__generator(this, function (t) {\n        return this._f() ? [2, this.close(__PRIVATE_PersistentStreamState.Jh)] : [2];\n      });\n    });\n  }, t.prototype.Tf = function () {\n    this.sf && (this.sf.cancel(), this.sf = null);\n  }, t.prototype.close = function (t, e) {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      return tslib.__generator(this, function (n) {\n        switch (n.label) {\n          case 0:\n            return assert(this.af(), \"Only started streams should be closed.\"), assert(t === __PRIVATE_PersistentStreamState.Error || isNullOrUndefined(e), \"Can't provide an error when not in an error state.\"), this.Tf(), this.uf.cancel(), this.if++, t !== __PRIVATE_PersistentStreamState.Error ? this.uf.reset() : e && e.code === Code.RESOURCE_EXHAUSTED ? (error(e.toString()), error(\"Using maximum backoff delay to prevent overloading the backend.\"), this.uf.Hh()) : e && e.code === Code.UNAUTHENTICATED && this.rf.g(), null !== this.stream && (this.Ef(), this.stream.close(), this.stream = null), this.state = t, [4, this.listener.Pf(e)];\n\n          case 1:\n            return n.sent(), [2];\n        }\n      });\n    });\n  }, t.prototype.Ef = function () {}, t.prototype.auth = function () {\n    var t = this;\n    assert(this.state === __PRIVATE_PersistentStreamState.Jh, \"Must be in initial state to auth\"), this.state = __PRIVATE_PersistentStreamState.Zh;\n    var e = this.Af(this.if),\n        n = this.if;\n    this.rf.getToken().then(function (e) {\n      t.if === n && t.Rf(e);\n    }, function (n) {\n      e(function () {\n        var e = new FirestoreError(Code.UNKNOWN, \"Fetching auth token failed: \" + n.message);\n        return t.If(e);\n      });\n    });\n  }, t.prototype.Rf = function (t) {\n    var e = this;\n    assert(this.state === __PRIVATE_PersistentStreamState.Zh, \"Trying to start stream in a non-starting state\");\n    var n = this.Af(this.if);\n    this.stream = this.Vf(t), this.stream.mf(function () {\n      n(function () {\n        return assert(e.state === __PRIVATE_PersistentStreamState.Zh, \"Expected stream to be in state Starting, but was \" + e.state), e.state = __PRIVATE_PersistentStreamState.tf, e.listener.mf();\n      });\n    }), this.stream.Pf(function (t) {\n      n(function () {\n        return e.If(t);\n      });\n    }), this.stream.onMessage(function (t) {\n      n(function () {\n        return e.onMessage(t);\n      });\n    });\n  }, t.prototype.cf = function () {\n    var t = this;\n    assert(this.state === __PRIVATE_PersistentStreamState.Error, \"Should only perform backoff when in Error state\"), this.state = __PRIVATE_PersistentStreamState.ef, this.uf.Xh(function () {\n      return tslib.__awaiter(t, void 0, void 0, function () {\n        return tslib.__generator(this, function (t) {\n          return assert(this.state === __PRIVATE_PersistentStreamState.ef, \"Backoff elapsed but state is now: \" + this.state), this.state = __PRIVATE_PersistentStreamState.Jh, this.start(), assert(this.af(), \"PersistentStream should have started\"), [2];\n        });\n      });\n    });\n  }, t.prototype.If = function (t) {\n    return assert(this.af(), \"Can't handle server close on non-started stream\"), debug(__PRIVATE_LOG_TAG$6, \"close with error: \" + t), this.stream = null, this.close(__PRIVATE_PersistentStreamState.Error, t);\n  }, t.prototype.Af = function (t) {\n    var e = this;\n    return function (n) {\n      e.wc.Us(function () {\n        return e.if === t ? n() : (debug(__PRIVATE_LOG_TAG$6, \"stream callback skipped by getCloseGuardedDispatcher.\"), Promise.resolve());\n      });\n    };\n  }, t;\n}(),\n    __PRIVATE_PersistentListenStream = function (t) {\n  function e(e, n, r, i, s) {\n    var o = t.call(this, e, __PRIVATE_TimerId.vs, __PRIVATE_TimerId.ms, n, r, s) || this;\n    return o.serializer = i, o;\n  }\n\n  return tslib.__extends(e, t), e.prototype.Vf = function (t) {\n    return this.connection.vf(\"Listen\", t);\n  }, e.prototype.onMessage = function (t) {\n    this.uf.reset();\n    var e = this.serializer.Di(t),\n        n = this.serializer.Oi(t);\n    return this.listener.pf(e, n);\n  }, e.prototype.watch = function (t) {\n    var e = {};\n    e.database = this.serializer.Ti, e.addTarget = this.serializer.Tn(t);\n    var n = this.serializer.Zi(t);\n    n && (e.labels = n), this.df(e);\n  }, e.prototype.bf = function (t) {\n    var e = {};\n    e.database = this.serializer.Ti, e.removeTarget = t, this.df(e);\n  }, e;\n}(__PRIVATE_PersistentStream),\n    __PRIVATE_PersistentWriteStream = function (t) {\n  function e(e, n, r, i, s) {\n    var o = t.call(this, e, __PRIVATE_TimerId.bs, __PRIVATE_TimerId.ps, n, r, s) || this;\n    return o.serializer = i, o.gf = !1, o.lastStreamToken = __PRIVATE_emptyByteString(), o;\n  }\n\n  return tslib.__extends(e, t), Object.defineProperty(e.prototype, \"wf\", {\n    get: function () {\n      return this.gf;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), e.prototype.start = function () {\n    this.gf = !1, t.prototype.start.call(this);\n  }, e.prototype.Ef = function () {\n    this.gf && this.yf([]);\n  }, e.prototype.Vf = function (t) {\n    return this.connection.vf(\"Write\", t);\n  }, e.prototype.onMessage = function (t) {\n    if (assert(!!t.streamToken, \"Got a write response without a stream token\"), this.lastStreamToken = t.streamToken, this.gf) {\n      this.uf.reset();\n      var e = this.serializer.Ki(t.writeResults, t.commitTime),\n          n = this.serializer.fromVersion(t.commitTime);\n      return this.listener.Sf(n, e);\n    }\n\n    return assert(!t.writeResults || 0 === t.writeResults.length, \"Got mutation results for handshake\"), this.gf = !0, this.listener.Df();\n  }, e.prototype.Cf = function () {\n    assert(this._f(), \"Writing handshake requires an opened stream\"), assert(!this.gf, \"Handshake already completed\");\n    var t = {};\n    t.database = this.serializer.Ti, this.df(t);\n  }, e.prototype.yf = function (t) {\n    var e = this;\n    assert(this._f(), \"Writing mutations requires an opened stream\"), assert(this.gf, \"Handshake must be complete before writing mutations\"), assert(this.lastStreamToken.length > 0, \"Trying to write mutation without a token\");\n    var n = {\n      streamToken: this.lastStreamToken,\n      writes: t.map(function (t) {\n        return e.serializer.Fi(t);\n      })\n    };\n    this.df(n);\n  }, e;\n}(__PRIVATE_PersistentStream),\n    __PRIVATE_Datastore = function () {\n  function t(t, e, n, r) {\n    this.wc = t, this.connection = e, this.credentials = n, this.serializer = r;\n  }\n\n  return t.prototype.Of = function (t) {\n    return new __PRIVATE_PersistentWriteStream(this.wc, this.connection, this.credentials, this.serializer, t);\n  }, t.prototype.Ff = function (t) {\n    return new __PRIVATE_PersistentListenStream(this.wc, this.connection, this.credentials, this.serializer, t);\n  }, t.prototype.commit = function (t) {\n    var e = this,\n        n = {\n      database: this.serializer.Ti,\n      writes: t.map(function (t) {\n        return e.serializer.Fi(t);\n      })\n    };\n    return this.Nf(\"Commit\", n).then(function (t) {\n      return e.serializer.Ki(t.writeResults, t.commitTime);\n    });\n  }, t.prototype.lookup = function (t) {\n    var e = this,\n        n = {\n      database: this.serializer.Ti,\n      documents: t.map(function (t) {\n        return e.serializer.ci(t);\n      })\n    };\n    return this.Mf(\"BatchGetDocuments\", n).then(function (n) {\n      var r = __PRIVATE_maybeDocumentMap();\n\n      n.forEach(function (t) {\n        var n = e.serializer.wi(t);\n        r = r.Pt(n.key, n);\n      });\n      var i = [];\n      return t.forEach(function (t) {\n        var e = r.get(t);\n        assert(!!e, \"Missing entity in write response for \" + t), i.push(e);\n      }), i;\n    });\n  }, t.prototype.Nf = function (t, e) {\n    var n = this;\n    return this.credentials.getToken().then(function (r) {\n      return n.connection.Nf(t, e, r);\n    }).catch(function (t) {\n      throw t.code === Code.UNAUTHENTICATED && n.credentials.g(), t;\n    });\n  }, t.prototype.Mf = function (t, e) {\n    var n = this;\n    return this.credentials.getToken().then(function (r) {\n      return n.connection.Mf(t, e, r);\n    }).catch(function (t) {\n      throw t.code === Code.UNAUTHENTICATED && n.credentials.g(), t;\n    });\n  }, t;\n}(),\n    FieldPath$1 = function () {\n  function t() {\n    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];\n\n    __PRIVATE_validateNamedArrayAtLeastNumberOfElements(\"FieldPath\", t, \"fieldNames\", 1);\n\n    for (var n = 0; n < t.length; ++n) if (__PRIVATE_validateArgType(\"FieldPath\", \"string\", n, t[n]), 0 === t[n].length) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Invalid field name at argument $(i + 1). Field names must not be empty.\");\n\n    this.Lf = new FieldPath(t);\n  }\n\n  return t.documentId = function () {\n    return t.Gf;\n  }, t.prototype.isEqual = function (e) {\n    if (!(e instanceof t)) throw __PRIVATE_invalidClassError(\"isEqual\", \"FieldPath\", 1, e);\n    return this.Lf.isEqual(e.Lf);\n  }, t.Gf = new t(FieldPath.ht().ot()), t;\n}(),\n    __PRIVATE_RESERVED = new RegExp(\"[~\\\\*/\\\\[\\\\]]\");\n\nfunction __PRIVATE_fromDotSeparatedString(t) {\n  if (t.search(__PRIVATE_RESERVED) >= 0) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Invalid field path (\" + t + \"). Paths must not contain '~', '*', '/', '[', or ']'\");\n\n  try {\n    return new (FieldPath$1.bind.apply(FieldPath$1, tslib.__spreadArrays([void 0], t.split(\".\"))))();\n  } catch (e) {\n    throw new FirestoreError(Code.INVALID_ARGUMENT, \"Invalid field path (\" + t + \"). Paths must not be empty, begin with '.', end with '.', or contain '..'\");\n  }\n}\n\nvar __PRIVATE_UserDataSource,\n    __PRIVATE_FieldValueImpl = function () {\n  function t(t) {\n    this.Bf = t;\n  }\n\n  return t.delete = function () {\n    return __PRIVATE_validateNoArgs(\"FieldValue.delete\", arguments), __PRIVATE_DeleteFieldValueImpl.instance;\n  }, t.serverTimestamp = function () {\n    return __PRIVATE_validateNoArgs(\"FieldValue.serverTimestamp\", arguments), __PRIVATE_ServerTimestampFieldValueImpl.instance;\n  }, t.arrayUnion = function () {\n    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];\n\n    return __PRIVATE_validateAtLeastNumberOfArgs(\"FieldValue.arrayUnion\", arguments, 1), new __PRIVATE_ArrayUnionFieldValueImpl(t);\n  }, t.arrayRemove = function () {\n    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];\n\n    return __PRIVATE_validateAtLeastNumberOfArgs(\"FieldValue.arrayRemove\", arguments, 1), new __PRIVATE_ArrayRemoveFieldValueImpl(t);\n  }, t.increment = function (t) {\n    return __PRIVATE_validateArgType(\"FieldValue.increment\", \"number\", 1, t), __PRIVATE_validateExactNumberOfArgs(\"FieldValue.increment\", arguments, 1), new __PRIVATE_NumericIncrementFieldValueImpl(t);\n  }, t.prototype.isEqual = function (t) {\n    return this === t;\n  }, t;\n}(),\n    __PRIVATE_DeleteFieldValueImpl = function (t) {\n  function e() {\n    return t.call(this, \"FieldValue.delete\") || this;\n  }\n\n  return tslib.__extends(e, t), e.instance = new e(), e;\n}(__PRIVATE_FieldValueImpl),\n    __PRIVATE_ServerTimestampFieldValueImpl = function (t) {\n  function e() {\n    return t.call(this, \"FieldValue.serverTimestamp\") || this;\n  }\n\n  return tslib.__extends(e, t), e.instance = new e(), e;\n}(__PRIVATE_FieldValueImpl),\n    __PRIVATE_ArrayUnionFieldValueImpl = function (t) {\n  function e(e) {\n    var n = t.call(this, \"FieldValue.arrayUnion\") || this;\n    return n.Uf = e, n;\n  }\n\n  return tslib.__extends(e, t), e;\n}(__PRIVATE_FieldValueImpl),\n    __PRIVATE_ArrayRemoveFieldValueImpl = function (t) {\n  function e(e) {\n    var n = t.call(this, \"FieldValue.arrayRemove\") || this;\n    return n.Uf = e, n;\n  }\n\n  return tslib.__extends(e, t), e;\n}(__PRIVATE_FieldValueImpl),\n    __PRIVATE_NumericIncrementFieldValueImpl = function (t) {\n  function e(e) {\n    var n = t.call(this, \"FieldValue.increment\") || this;\n    return n.kf = e, n;\n  }\n\n  return tslib.__extends(e, t), e;\n}(__PRIVATE_FieldValueImpl),\n    __PRIVATE_PublicFieldValue = __PRIVATE_makeConstructorPrivate(__PRIVATE_FieldValueImpl, \"Use FieldValue.<field>() instead.\"),\n    __PRIVATE_RESERVED_FIELD_REGEX = /^__.*__$/,\n    __PRIVATE_ParsedSetData = function () {\n  function t(t, e, n) {\n    this.data = t, this.fe = e, this.fieldTransforms = n;\n  }\n\n  return t.prototype.xf = function (t, e) {\n    var n = [];\n    return null !== this.fe ? n.push(new __PRIVATE_PatchMutation(t, this.data, this.fe, e)) : n.push(new __PRIVATE_SetMutation(t, this.data, e)), this.fieldTransforms.length > 0 && n.push(new __PRIVATE_TransformMutation(t, this.fieldTransforms)), n;\n  }, t;\n}(),\n    __PRIVATE_ParsedUpdateData = function () {\n  function t(t, e, n) {\n    this.data = t, this.fe = e, this.fieldTransforms = n;\n  }\n\n  return t.prototype.xf = function (t, e) {\n    var n = [new __PRIVATE_PatchMutation(t, this.data, this.fe, e)];\n    return this.fieldTransforms.length > 0 && n.push(new __PRIVATE_TransformMutation(t, this.fieldTransforms)), n;\n  }, t;\n}();\n\nfunction __PRIVATE_isWrite(t) {\n  switch (t) {\n    case __PRIVATE_UserDataSource.Set:\n    case __PRIVATE_UserDataSource.Kf:\n    case __PRIVATE_UserDataSource.jf:\n      return !0;\n\n    case __PRIVATE_UserDataSource.qf:\n    case __PRIVATE_UserDataSource.Qf:\n      return !1;\n\n    default:\n      throw fail(\"Unexpected case for UserDataSource: \" + t);\n  }\n}\n\n!function (t) {\n  t[t.Set = 0] = \"Set\", t[t.jf = 1] = \"__PRIVATE_Update\", t[t.Kf = 2] = \"__PRIVATE_MergeSet\", t[t.qf = 3] = \"__PRIVATE_Argument\", t[t.Qf = 4] = \"__PRIVATE_ArrayArgument\";\n}(__PRIVATE_UserDataSource || (__PRIVATE_UserDataSource = {}));\n\nvar __PRIVATE_ParseContext = function () {\n  function t(t, e, n, r, i, s) {\n    this.Wf = t, this.methodName = e, this.path = n, this.$f = r, void 0 === i && this.Yf(), this.$f = void 0 !== r && r, this.fieldTransforms = i || [], this.fe = s || [];\n  }\n\n  return t.prototype.Hf = function (e) {\n    var n = null == this.path ? null : this.path.child(e),\n        r = new t(this.Wf, this.methodName, n, !1, this.fieldTransforms, this.fe);\n    return r.Xf(e), r;\n  }, t.prototype.zf = function (e) {\n    var n = null == this.path ? null : this.path.child(e),\n        r = new t(this.Wf, this.methodName, n, !1, this.fieldTransforms, this.fe);\n    return r.Yf(), r;\n  }, t.prototype.Jf = function (e) {\n    return new t(this.Wf, this.methodName, null, !0, this.fieldTransforms, this.fe);\n  }, t.prototype.Zf = function (t) {\n    var e = null === this.path || this.path.tt() ? \"\" : \" (found in field \" + this.path.toString() + \")\";\n    return new FirestoreError(Code.INVALID_ARGUMENT, \"Function \" + this.methodName + \"() called with invalid data. \" + t + e);\n  }, t.prototype.contains = function (t) {\n    return void 0 !== this.fe.find(function (e) {\n      return t.rt(e);\n    }) || void 0 !== this.fieldTransforms.find(function (e) {\n      return t.rt(e.field);\n    });\n  }, t.prototype.Yf = function () {\n    if (null !== this.path) for (var t = 0; t < this.path.length; t++) this.Xf(this.path.get(t));\n  }, t.prototype.Xf = function (t) {\n    if (0 === t.length) throw this.Zf(\"Document fields must not be empty\");\n    if (__PRIVATE_isWrite(this.Wf) && __PRIVATE_RESERVED_FIELD_REGEX.test(t)) throw this.Zf('Document fields cannot begin and end with \"__\"');\n  }, t;\n}(),\n    __PRIVATE_DocumentKeyReference = function (t, e) {\n  this.o = t, this.key = e;\n},\n    __PRIVATE_UserDataConverter = function () {\n  function t(t) {\n    this.tl = t;\n  }\n\n  return t.prototype.el = function (t, e) {\n    var n = new __PRIVATE_ParseContext(__PRIVATE_UserDataSource.Set, t, FieldPath.at);\n\n    __PRIVATE_validatePlainObject(\"Data must be an object, but it was:\", n, e);\n\n    var r = this.nl(e, n);\n    return new __PRIVATE_ParsedSetData(r, null, n.fieldTransforms);\n  }, t.prototype.rl = function (t, e, n) {\n    var r = new __PRIVATE_ParseContext(__PRIVATE_UserDataSource.Kf, t, FieldPath.at);\n\n    __PRIVATE_validatePlainObject(\"Data must be an object, but it was:\", r, e);\n\n    var i,\n        s,\n        o = this.nl(e, r);\n\n    if (n) {\n      for (var u = new __PRIVATE_SortedSet(FieldPath.H), a = 0, _ = n; a < _.length; a++) {\n        var c = _[a],\n            h = void 0;\n        if (c instanceof FieldPath$1) h = c.Lf;else {\n          if (\"string\" != typeof c) throw fail(\"Expected stringOrFieldPath to be a string or a FieldPath\");\n          h = __PRIVATE_fieldPathFromDotSeparatedString(t, c);\n        }\n        if (!r.contains(h)) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Field '\" + h + \"' is specified in your field mask but missing from your input data.\");\n        u = u.add(h);\n      }\n\n      i = __PRIVATE_FieldMask.te(u), s = r.fieldTransforms.filter(function (t) {\n        return i.ne(t.field);\n      });\n    } else i = __PRIVATE_FieldMask.ee(r.fe), s = r.fieldTransforms;\n\n    return new __PRIVATE_ParsedSetData(o, i, s);\n  }, t.prototype.il = function (t, e) {\n    var n = this,\n        r = new __PRIVATE_ParseContext(__PRIVATE_UserDataSource.jf, t, FieldPath.at);\n\n    __PRIVATE_validatePlainObject(\"Data must be an object, but it was:\", r, e);\n\n    var i = new __PRIVATE_SortedSet(FieldPath.H),\n        s = __PRIVATE_ObjectValue.EMPTY;\n    forEach(e, function (e, o) {\n      var u = __PRIVATE_fieldPathFromDotSeparatedString(t, e),\n          a = r.zf(u);\n\n      if ((o = n.sl(o, a)) instanceof __PRIVATE_DeleteFieldValueImpl) i = i.add(u);else {\n        var _ = n.nl(o, a);\n\n        null != _ && (i = i.add(u), s = s.set(u, _));\n      }\n    });\n\n    var o = __PRIVATE_FieldMask.te(i);\n\n    return new __PRIVATE_ParsedUpdateData(s, o, r.fieldTransforms);\n  }, t.prototype.ol = function (t, e, n, r) {\n    var i = new __PRIVATE_ParseContext(__PRIVATE_UserDataSource.jf, t, FieldPath.at),\n        s = [__PRIVATE_fieldPathFromArgument(t, e)],\n        o = [n];\n    if (r.length % 2 != 0) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Function \" + t + \"() needs to be called with an even number of arguments that alternate between field names and values.\");\n\n    for (var u = 0; u < r.length; u += 2) s.push(__PRIVATE_fieldPathFromArgument(t, r[u])), o.push(r[u + 1]);\n\n    var a = new __PRIVATE_SortedSet(FieldPath.H),\n        _ = __PRIVATE_ObjectValue.EMPTY;\n\n    for (u = 0; u < s.length; ++u) {\n      var c = s[u],\n          h = i.zf(c),\n          f = this.sl(o[u], h);\n      if (f instanceof __PRIVATE_DeleteFieldValueImpl) a = a.add(c);else {\n        var l = this.nl(f, h);\n        null != l && (a = a.add(c), _ = _.set(c, l));\n      }\n    }\n\n    var d = __PRIVATE_FieldMask.te(a);\n\n    return new __PRIVATE_ParsedUpdateData(_, d, i.fieldTransforms);\n  }, t.prototype.ul = function (t, e, n) {\n    void 0 === n && (n = !1);\n    var r = new __PRIVATE_ParseContext(n ? __PRIVATE_UserDataSource.Qf : __PRIVATE_UserDataSource.qf, t, FieldPath.at),\n        i = this.nl(e, r);\n    return assert(null != i, \"Parsed data should not be null.\"), assert(0 === r.fieldTransforms.length, \"Field transforms should have been disallowed.\"), i;\n  }, t.prototype.sl = function (t, e) {\n    try {\n      return this.tl(t);\n    } catch (t) {\n      var n = __PRIVATE_errorMessage(t);\n\n      throw e.Zf(n);\n    }\n  }, t.prototype.nl = function (t, e) {\n    if (__PRIVATE_looksLikeJsonObject(t = this.sl(t, e))) return __PRIVATE_validatePlainObject(\"Unsupported field value:\", e, t), this.al(t, e);\n    if (t instanceof __PRIVATE_FieldValueImpl) return this._l(t, e), null;\n\n    if (e.path && e.fe.push(e.path), t instanceof Array) {\n      if (e.$f && e.Wf !== __PRIVATE_UserDataSource.Qf) throw e.Zf(\"Nested arrays are not supported\");\n      return this.cl(t, e);\n    }\n\n    return this.hl(t, e);\n  }, t.prototype.al = function (t, e) {\n    var n = this,\n        r = new __PRIVATE_SortedMap(__PRIVATE_primitiveComparator);\n    return __PRIVATE_isEmpty(t) ? e.path && e.path.length > 0 && e.fe.push(e.path) : forEach(t, function (t, i) {\n      var s = n.nl(i, e.Hf(t));\n      null != s && (r = r.Pt(t, s));\n    }), new __PRIVATE_ObjectValue(r);\n  }, t.prototype.cl = function (t, e) {\n    for (var n = [], r = 0, i = 0, s = t; i < s.length; i++) {\n      var o = s[i],\n          u = this.nl(o, e.Jf(r));\n      null == u && (u = __PRIVATE_NullValue.Le), n.push(u), r++;\n    }\n\n    return new ArrayValue(n);\n  }, t.prototype._l = function (t, e) {\n    if (!__PRIVATE_isWrite(e.Wf)) throw e.Zf(t.Bf + \"() can only be used with update() and set()\");\n    if (null === e.path) throw e.Zf(t.Bf + \"() is not currently supported inside arrays\");\n\n    if (t instanceof __PRIVATE_DeleteFieldValueImpl) {\n      if (e.Wf !== __PRIVATE_UserDataSource.Kf) throw e.Wf === __PRIVATE_UserDataSource.jf ? (assert(e.path.length > 0, \"FieldValue.delete() at the top level should have already been handled.\"), e.Zf(\"FieldValue.delete() can only appear at the top level of your update data\")) : e.Zf(\"FieldValue.delete() cannot be used with set() unless you pass {merge:true}\");\n      e.fe.push(e.path);\n    } else if (t instanceof __PRIVATE_ServerTimestampFieldValueImpl) e.fieldTransforms.push(new FieldTransform(e.path, __PRIVATE_ServerTimestampTransform.instance));else if (t instanceof __PRIVATE_ArrayUnionFieldValueImpl) {\n      var n = this.fl(t.Bf, t.Uf),\n          r = new __PRIVATE_ArrayUnionTransformOperation(n);\n      e.fieldTransforms.push(new FieldTransform(e.path, r));\n    } else if (t instanceof __PRIVATE_ArrayRemoveFieldValueImpl) {\n      n = this.fl(t.Bf, t.Uf);\n      var i = new __PRIVATE_ArrayRemoveTransformOperation(n);\n      e.fieldTransforms.push(new FieldTransform(e.path, i));\n    } else if (t instanceof __PRIVATE_NumericIncrementFieldValueImpl) {\n      var s = this.ul(\"FieldValue.increment\", t.kf),\n          o = new __PRIVATE_NumericIncrementTransformOperation(s);\n      e.fieldTransforms.push(new FieldTransform(e.path, o));\n    } else fail(\"Unknown FieldValue type: \" + t);\n  }, t.prototype.hl = function (t, e) {\n    if (null === t) return __PRIVATE_NullValue.Le;\n    if (\"number\" == typeof t) return isSafeInteger(t) ? new __PRIVATE_IntegerValue(t) : new __PRIVATE_DoubleValue(t);\n    if (\"boolean\" == typeof t) return __PRIVATE_BooleanValue.of(t);\n    if (\"string\" == typeof t) return new __PRIVATE_StringValue(t);\n    if (t instanceof Date) return new __PRIVATE_TimestampValue(Timestamp.fromDate(t));\n    if (t instanceof Timestamp) return new __PRIVATE_TimestampValue(new Timestamp(t.seconds, 1e3 * Math.floor(t.nanoseconds / 1e3)));\n    if (t instanceof GeoPoint) return new __PRIVATE_GeoPointValue(t);\n    if (t instanceof Blob) return new __PRIVATE_BlobValue(t);\n    if (t instanceof __PRIVATE_DocumentKeyReference) return new __PRIVATE_RefValue(t.o, t.key);\n    throw e.Zf(\"Unsupported field value: \" + __PRIVATE_valueDescription(t));\n  }, t.prototype.fl = function (t, e) {\n    var n = this;\n    return e.map(function (e, r) {\n      var i = new __PRIVATE_ParseContext(__PRIVATE_UserDataSource.qf, t, FieldPath.at);\n      return n.nl(e, i.Jf(r));\n    });\n  }, t;\n}();\n\nfunction __PRIVATE_looksLikeJsonObject(t) {\n  return !(\"object\" != typeof t || null === t || t instanceof Array || t instanceof Date || t instanceof Timestamp || t instanceof GeoPoint || t instanceof Blob || t instanceof __PRIVATE_DocumentKeyReference || t instanceof __PRIVATE_FieldValueImpl);\n}\n\nfunction __PRIVATE_validatePlainObject(t, e, n) {\n  if (!__PRIVATE_looksLikeJsonObject(n) || !__PRIVATE_isPlainObject(n)) {\n    var r = __PRIVATE_valueDescription(n);\n\n    throw \"an object\" === r ? e.Zf(t + \" a custom object\") : e.Zf(t + \" \" + r);\n  }\n}\n\nfunction __PRIVATE_fieldPathFromArgument(t, e) {\n  if (e instanceof FieldPath$1) return e.Lf;\n  if (\"string\" == typeof e) return __PRIVATE_fieldPathFromDotSeparatedString(t, e);\n  throw new FirestoreError(Code.INVALID_ARGUMENT, \"Function \" + t + \"() called with invalid data. Field path arguments must be of type string or FieldPath.\");\n}\n\nfunction __PRIVATE_fieldPathFromDotSeparatedString(t, e) {\n  try {\n    return __PRIVATE_fromDotSeparatedString(e).Lf;\n  } catch (e) {\n    var n = __PRIVATE_errorMessage(e);\n\n    throw new FirestoreError(Code.INVALID_ARGUMENT, \"Function \" + t + \"() called with invalid data. \" + n);\n  }\n}\n\nfunction __PRIVATE_errorMessage(t) {\n  return t instanceof Error ? t.message : t.toString();\n}\n\nvar Transaction = function () {\n  function t(t) {\n    this.ll = t, this.dl = __PRIVATE_documentVersionMap(), this.mutations = [], this.Tl = !1, this.El = null, this.Pl = new Set();\n  }\n\n  return t.prototype.lookup = function (t) {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      var e,\n          n = this;\n      return tslib.__generator(this, function (r) {\n        switch (r.label) {\n          case 0:\n            if (this.Al(), this.mutations.length > 0) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Firestore transactions require all reads to be executed before all writes.\");\n            return [4, this.ll.lookup(t)];\n\n          case 1:\n            return (e = r.sent()).forEach(function (t) {\n              t instanceof __PRIVATE_NoDocument || t instanceof Document ? n.Rl(t) : fail(\"Document in a transaction was a \" + t.constructor.name);\n            }), [2, e];\n        }\n      });\n    });\n  }, t.prototype.set = function (t, e) {\n    this.write(e.xf(t, this._e(t))), this.Pl.add(t);\n  }, t.prototype.update = function (t, e) {\n    try {\n      this.write(e.xf(t, this.Il(t)));\n    } catch (t) {\n      this.El = t;\n    }\n\n    this.Pl.add(t);\n  }, t.prototype.delete = function (t) {\n    this.write([new __PRIVATE_DeleteMutation(t, this._e(t))]), this.Pl.add(t);\n  }, t.prototype.commit = function () {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      var t,\n          e = this;\n      return tslib.__generator(this, function (n) {\n        switch (n.label) {\n          case 0:\n            if (this.Al(), this.El) throw this.El;\n            return t = this.dl, this.mutations.forEach(function (e) {\n              t = t.remove(e.key);\n            }), t.forEach(function (t, n) {\n              e.mutations.push(new __PRIVATE_VerifyMutation(t, e._e(t)));\n            }), [4, this.ll.commit(this.mutations)];\n\n          case 1:\n            return n.sent(), this.Tl = !0, [2];\n        }\n      });\n    });\n  }, t.prototype.Rl = function (t) {\n    var e;\n    if (t instanceof Document) e = t.version;else {\n      if (!(t instanceof __PRIVATE_NoDocument)) throw fail(\"Document in a transaction was a \" + t.constructor.name);\n      e = __PRIVATE_SnapshotVersion.W();\n    }\n    var n = this.dl.get(t.key);\n\n    if (null !== n) {\n      if (!e.isEqual(n)) throw new FirestoreError(Code.ABORTED, \"Document version changed between two reads.\");\n    } else this.dl = this.dl.Pt(t.key, e);\n  }, t.prototype._e = function (t) {\n    var e = this.dl.get(t);\n    return !this.Pl.has(t) && e ? Precondition.updateTime(e) : Precondition.NONE;\n  }, t.prototype.Il = function (t) {\n    var e = this.dl.get(t);\n\n    if (!this.Pl.has(t) && e) {\n      if (e.isEqual(__PRIVATE_SnapshotVersion.W())) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Can't update a document that doesn't exist.\");\n      return Precondition.updateTime(e);\n    }\n\n    return Precondition.exists(!0);\n  }, t.prototype.write = function (t) {\n    this.Al(), this.mutations = this.mutations.concat(t);\n  }, t.prototype.Al = function () {\n    assert(!this.Tl, \"A transaction object cannot be used after its update callback has been invoked.\");\n  }, t;\n}(),\n    __PRIVATE_LOG_TAG$7 = \"OnlineStateTracker\",\n    __PRIVATE_MAX_WATCH_STREAM_FAILURES = 1,\n    __PRIVATE_ONLINE_STATE_TIMEOUT_MS = 1e4,\n    __PRIVATE_OnlineStateTracker = function () {\n  function t(t, e) {\n    this.Ds = t, this.Vl = e, this.state = __PRIVATE_OnlineState.h, this.ml = 0, this.vl = null, this.pl = !0;\n  }\n\n  return t.prototype.bl = function () {\n    var t = this;\n    0 === this.ml && (this.gl(__PRIVATE_OnlineState.h), assert(null === this.vl, \"onlineStateTimer shouldn't be started yet\"), this.vl = this.Ds.Js(__PRIVATE_TimerId.gs, __PRIVATE_ONLINE_STATE_TIMEOUT_MS, function () {\n      return t.vl = null, assert(t.state === __PRIVATE_OnlineState.h, \"Timer should be canceled if we transitioned to a different state.\"), t.wl(\"Backend didn't respond within \" + __PRIVATE_ONLINE_STATE_TIMEOUT_MS / 1e3 + \" seconds.\"), t.gl(__PRIVATE_OnlineState.T), Promise.resolve();\n    }));\n  }, t.prototype.yl = function (t) {\n    this.state === __PRIVATE_OnlineState.l ? (this.gl(__PRIVATE_OnlineState.h), assert(0 === this.ml, \"watchStreamFailures must be 0\"), assert(null === this.vl, \"onlineStateTimer must be null\")) : (this.ml++, this.ml >= __PRIVATE_MAX_WATCH_STREAM_FAILURES && (this.Sl(), this.wl(\"Connection failed \" + __PRIVATE_MAX_WATCH_STREAM_FAILURES + \" times. Most recent error: \" + t.toString()), this.gl(__PRIVATE_OnlineState.T)));\n  }, t.prototype.set = function (t) {\n    this.Sl(), this.ml = 0, t === __PRIVATE_OnlineState.l && (this.pl = !1), this.gl(t);\n  }, t.prototype.gl = function (t) {\n    t !== this.state && (this.state = t, this.Vl(t));\n  }, t.prototype.wl = function (t) {\n    var e = \"Could not reach Cloud Firestore backend. \" + t + \"\\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.\";\n    this.pl ? (error(e), this.pl = !1) : debug(__PRIVATE_LOG_TAG$7, e);\n  }, t.prototype.Sl = function () {\n    null !== this.vl && (this.vl.cancel(), this.vl = null);\n  }, t;\n}(),\n    __PRIVATE_LOG_TAG$8 = \"RemoteStore\",\n    __PRIVATE_MAX_PENDING_WRITES = 10,\n    __PRIVATE_RemoteStore = function () {\n  function t(t, e, n, r, i) {\n    var s = this;\n    this.F_ = t, this.ll = e, this.Dl = [], this.Cl = {}, this.Ol = null, this.networkEnabled = !1, this.isPrimary = !1, this.Fl = i, this.Fl.Nl(function (t) {\n      n.Us(function () {\n        return tslib.__awaiter(s, void 0, void 0, function () {\n          return tslib.__generator(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return this.Ml() ? (debug(__PRIVATE_LOG_TAG$8, \"Restarting streams for network reachability change.\"), [4, this.Ll()]) : [3, 2];\n\n              case 1:\n                t.sent(), t.label = 2;\n\n              case 2:\n                return [2];\n            }\n          });\n        });\n      });\n    }), this.Gl = new __PRIVATE_OnlineStateTracker(n, r), this.Bl = this.ll.Ff({\n      mf: this.Ul.bind(this),\n      Pf: this.kl.bind(this),\n      pf: this.xl.bind(this)\n    }), this.Kl = this.ll.Of({\n      mf: this.jl.bind(this),\n      Pf: this.ql.bind(this),\n      Df: this.Ql.bind(this),\n      Sf: this.Sf.bind(this)\n    });\n  }\n\n  return t.prototype.start = function () {\n    return this.enableNetwork();\n  }, t.prototype.enableNetwork = function () {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      var t;\n      return tslib.__generator(this, function (e) {\n        switch (e.label) {\n          case 0:\n            return this.networkEnabled = !0, this.Ml() ? (t = this.Kl, [4, this.F_.mu()]) : [3, 3];\n\n          case 1:\n            return t.lastStreamToken = e.sent(), this.Wl() ? this.$l() : this.Gl.set(__PRIVATE_OnlineState.h), [4, this.Yl()];\n\n          case 2:\n            e.sent(), e.label = 3;\n\n          case 3:\n            return [2];\n        }\n      });\n    });\n  }, t.prototype.disableNetwork = function () {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      return tslib.__generator(this, function (t) {\n        switch (t.label) {\n          case 0:\n            return this.networkEnabled = !1, [4, this.Hl()];\n\n          case 1:\n            return t.sent(), this.Gl.set(__PRIVATE_OnlineState.T), [2];\n        }\n      });\n    });\n  }, t.prototype.Hl = function () {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      return tslib.__generator(this, function (t) {\n        switch (t.label) {\n          case 0:\n            return [4, this.Kl.stop()];\n\n          case 1:\n            return t.sent(), [4, this.Bl.stop()];\n\n          case 2:\n            return t.sent(), this.Dl.length > 0 && (debug(__PRIVATE_LOG_TAG$8, \"Stopping write stream with \" + this.Dl.length + \" pending writes\"), this.Dl = []), this.Xl(), [2];\n        }\n      });\n    });\n  }, t.prototype.shutdown = function () {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      return tslib.__generator(this, function (t) {\n        switch (t.label) {\n          case 0:\n            return debug(__PRIVATE_LOG_TAG$8, \"RemoteStore shutting down.\"), this.networkEnabled = !1, [4, this.Hl()];\n\n          case 1:\n            return t.sent(), this.Fl.shutdown(), this.Gl.set(__PRIVATE_OnlineState.h), [2];\n        }\n      });\n    });\n  }, t.prototype.listen = function (t) {\n    contains(this.Cl, t.targetId) || (this.Cl[t.targetId] = t, this.Wl() ? this.$l() : this.Bl._f() && this.zl(t));\n  }, t.prototype.Jl = function (t) {\n    assert(contains(this.Cl, t), \"unlisten called on target no currently watched: \" + t), delete this.Cl[t], this.Bl._f() && this.Zl(t), __PRIVATE_isEmpty(this.Cl) && (this.Bl._f() ? this.Bl.ff() : this.Ml() && this.Gl.set(__PRIVATE_OnlineState.h));\n  }, t.prototype.Xr = function (t) {\n    return this.Cl[t] || null;\n  }, t.prototype.Hr = function (t) {\n    return this.td.Hr(t);\n  }, t.prototype.zl = function (t) {\n    this.Ol.wr(t.targetId), this.Bl.watch(t);\n  }, t.prototype.Zl = function (t) {\n    this.Ol.wr(t), this.Bl.bf(t);\n  }, t.prototype.$l = function () {\n    assert(this.Wl(), \"startWatchStream() called when shouldStartWatchStream() is false.\"), this.Ol = new __PRIVATE_WatchChangeAggregator(this), this.Bl.start(), this.Gl.bl();\n  }, t.prototype.Wl = function () {\n    return this.Ml() && !this.Bl.af() && !__PRIVATE_isEmpty(this.Cl);\n  }, t.prototype.Ml = function () {\n    return this.isPrimary && this.networkEnabled;\n  }, t.prototype.Xl = function () {\n    this.Ol = null;\n  }, t.prototype.Ul = function () {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      var t = this;\n      return tslib.__generator(this, function (e) {\n        return __PRIVATE_forEachNumber(this.Cl, function (e, n) {\n          t.zl(n);\n        }), [2];\n      });\n    });\n  }, t.prototype.kl = function (t) {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      return tslib.__generator(this, function (e) {\n        return void 0 === t && assert(!this.Wl(), \"Watch stream was stopped gracefully while still needed.\"), this.Xl(), this.Wl() ? (this.Gl.yl(t), this.$l()) : this.Gl.set(__PRIVATE_OnlineState.h), [2];\n      });\n    });\n  }, t.prototype.xl = function (t, e) {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      var n;\n      return tslib.__generator(this, function (r) {\n        switch (r.label) {\n          case 0:\n            return this.Gl.set(__PRIVATE_OnlineState.l), t instanceof __PRIVATE_WatchTargetChange && t.state === __PRIVATE_WatchTargetChangeState.kn && t.cause ? [2, this.ed(t)] : (t instanceof __PRIVATE_DocumentWatchChange ? this.Ol.Mr(t) : t instanceof __PRIVATE_ExistenceFilterChange ? this.Ol.jr(t) : (assert(t instanceof __PRIVATE_WatchTargetChange, \"Expected watchChange to be an instance of WatchTargetChange\"), this.Ol.Br(t)), e.isEqual(__PRIVATE_SnapshotVersion.MIN) ? [3, 3] : [4, this.F_.Ga()]);\n\n          case 1:\n            return n = r.sent(), e._(n) >= 0 ? [4, this.nd(e)] : [3, 3];\n\n          case 2:\n            r.sent(), r.label = 3;\n\n          case 3:\n            return [2];\n        }\n      });\n    });\n  }, t.prototype.nd = function (t) {\n    var e = this;\n    assert(!t.isEqual(__PRIVATE_SnapshotVersion.MIN), \"Can't raise event for unknown SnapshotVersion\");\n    var n = this.Ol.Wr(t);\n    return __PRIVATE_forEachNumber(n.Jn, function (n, r) {\n      if (r.resumeToken.length > 0) {\n        var i = e.Cl[n];\n        i && (e.Cl[n] = i.Nn(r.resumeToken, t));\n      }\n    }), n.Zn.forEach(function (t) {\n      var n = e.Cl[t];\n\n      if (n) {\n        e.Cl[t] = n.Nn(__PRIVATE_emptyByteString(), n.On), e.Zl(t);\n        var r = new __PRIVATE_TargetData(n.target, t, __PRIVATE_TargetPurpose.Sn, n.sequenceNumber);\n        e.zl(r);\n      }\n    }), this.td.Ba(n);\n  }, t.prototype.ed = function (t) {\n    var e = this;\n    assert(!!t.cause, \"Handling target error without a cause\");\n    var n = t.cause,\n        r = Promise.resolve();\n    return t.targetIds.forEach(function (t) {\n      r = r.then(function () {\n        return tslib.__awaiter(e, void 0, void 0, function () {\n          return tslib.__generator(this, function (e) {\n            return contains(this.Cl, t) ? (delete this.Cl[t], this.Ol.removeTarget(t), [2, this.td.rd(t, n)]) : [2];\n          });\n        });\n      });\n    }), r;\n  }, t.prototype.Yl = function () {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      var t, e;\n      return tslib.__generator(this, function (n) {\n        switch (n.label) {\n          case 0:\n            return this.sd() ? (t = this.Dl.length > 0 ? this.Dl[this.Dl.length - 1].batchId : __PRIVATE_BATCHID_UNKNOWN, [4, this.F_.Ya(t)]) : [3, 4];\n\n          case 1:\n            return null !== (e = n.sent()) ? [3, 2] : (0 === this.Dl.length && this.Kl.ff(), [3, 4]);\n\n          case 2:\n            return this.od(e), [4, this.Yl()];\n\n          case 3:\n            n.sent(), n.label = 4;\n\n          case 4:\n            return this.ud() && this.ad(), [2];\n        }\n      });\n    });\n  }, t.prototype.sd = function () {\n    return this.Ml() && this.Dl.length < __PRIVATE_MAX_PENDING_WRITES;\n  }, t.prototype._d = function () {\n    return this.Dl.length;\n  }, t.prototype.od = function (t) {\n    assert(this.sd(), \"addToWritePipeline called when pipeline is full\"), this.Dl.push(t), this.Kl._f() && this.Kl.wf && this.Kl.yf(t.mutations);\n  }, t.prototype.ud = function () {\n    return this.Ml() && !this.Kl.af() && this.Dl.length > 0;\n  }, t.prototype.ad = function () {\n    assert(this.ud(), \"startWriteStream() called when shouldStartWriteStream() is false.\"), this.Kl.start();\n  }, t.prototype.jl = function () {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      return tslib.__generator(this, function (t) {\n        return this.Kl.Cf(), [2];\n      });\n    });\n  }, t.prototype.Ql = function () {\n    var t = this;\n    return this.F_.vu(this.Kl.lastStreamToken).then(function () {\n      for (var e = 0, n = t.Dl; e < n.length; e++) {\n        var r = n[e];\n        t.Kl.yf(r.mutations);\n      }\n    }).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss);\n  }, t.prototype.Sf = function (t, e) {\n    var n = this;\n    assert(this.Dl.length > 0, \"Got result for empty write pipeline\");\n\n    var r = this.Dl.shift(),\n        i = __PRIVATE_MutationBatchResult.from(r, t, e, this.Kl.lastStreamToken);\n\n    return this.td.hd(i).then(function () {\n      return n.Yl();\n    });\n  }, t.prototype.ql = function (t) {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      var e = this;\n      return tslib.__generator(this, function (n) {\n        return void 0 === t && assert(!this.ud(), \"Write stream was stopped gracefully while still needed.\"), t && this.Dl.length > 0 ? (void 0, [2, (this.Kl.wf ? this.fd(t) : this.ld(t)).then(function () {\n          e.ud() && e.ad();\n        })]) : [2];\n      });\n    });\n  }, t.prototype.ld = function (t) {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      return tslib.__generator(this, function (e) {\n        return __PRIVATE_isPermanentError(t.code) ? (debug(__PRIVATE_LOG_TAG$8, \"RemoteStore error before completed handshake; resetting stream token: \", this.Kl.lastStreamToken), this.Kl.lastStreamToken = __PRIVATE_emptyByteString(), [2, this.F_.vu(__PRIVATE_emptyByteString()).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)]) : [2];\n      });\n    });\n  }, t.prototype.fd = function (t) {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      var e,\n          n = this;\n      return tslib.__generator(this, function (r) {\n        return __PRIVATE_isPermanentWriteError(t.code) ? (e = this.Dl.shift(), this.Kl.hf(), [2, this.td.dd(e.batchId, t).then(function () {\n          return n.Yl();\n        })]) : [2];\n      });\n    });\n  }, t.prototype.Td = function () {\n    return new Transaction(this.ll);\n  }, t.prototype.Ll = function () {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      return tslib.__generator(this, function (t) {\n        switch (t.label) {\n          case 0:\n            return this.networkEnabled = !1, [4, this.Hl()];\n\n          case 1:\n            return t.sent(), this.Gl.set(__PRIVATE_OnlineState.h), [4, this.enableNetwork()];\n\n          case 2:\n            return t.sent(), [2];\n        }\n      });\n    });\n  }, t.prototype.Ed = function () {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      return tslib.__generator(this, function (t) {\n        switch (t.label) {\n          case 0:\n            return this.Ml() ? (debug(__PRIVATE_LOG_TAG$8, \"RemoteStore restarting streams for new credential\"), [4, this.Ll()]) : [3, 2];\n\n          case 1:\n            t.sent(), t.label = 2;\n\n          case 2:\n            return [2];\n        }\n      });\n    });\n  }, t.prototype.Pd = function (t) {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      return tslib.__generator(this, function (e) {\n        switch (e.label) {\n          case 0:\n            return this.isPrimary = t, t && this.networkEnabled ? [4, this.enableNetwork()] : [3, 2];\n\n          case 1:\n            return e.sent(), [3, 4];\n\n          case 2:\n            return t ? [3, 4] : [4, this.Hl()];\n\n          case 3:\n            e.sent(), this.Gl.set(__PRIVATE_OnlineState.h), e.label = 4;\n\n          case 4:\n            return [2];\n        }\n      });\n    });\n  }, t;\n}(),\n    CLIENT_STATE_KEY_PREFIX = \"firestore_clients\";\n\nfunction createWebStorageClientStateKey(t, e) {\n  return assert(-1 === e.indexOf(\"_\"), \"Client key cannot contain '_', but was '\" + e + \"'\"), CLIENT_STATE_KEY_PREFIX + \"_\" + t + \"_\" + e;\n}\n\nvar MUTATION_BATCH_KEY_PREFIX = \"firestore_mutations\";\n\nfunction createWebStorageMutationBatchKey(t, e, n) {\n  var r = MUTATION_BATCH_KEY_PREFIX + \"_\" + t + \"_\" + n;\n  return e.R() && (r += \"_\" + e.uid), r;\n}\n\nvar QUERY_TARGET_KEY_PREFIX = \"firestore_targets\";\n\nfunction createWebStorageQueryTargetMetadataKey(t, e) {\n  return QUERY_TARGET_KEY_PREFIX + \"_\" + t + \"_\" + e;\n}\n\nvar ONLINE_STATE_KEY_PREFIX = \"firestore_online_state\";\n\nfunction createWebStorageOnlineStateKey(t) {\n  return ONLINE_STATE_KEY_PREFIX + \"_\" + t;\n}\n\nvar SEQUENCE_NUMBER_KEY_PREFIX = \"firestore_sequence_number\";\n\nfunction createWebStorageSequenceNumberKey(t) {\n  return SEQUENCE_NUMBER_KEY_PREFIX + \"_\" + t;\n}\n\nvar __PRIVATE_LOG_TAG$9 = \"SharedClientState\",\n    __PRIVATE_MutationMetadata = function () {\n  function t(t, e, n, r) {\n    this.user = t, this.batchId = e, this.state = n, this.error = r, assert(void 0 !== r == (\"rejected\" === n), \"MutationMetadata must contain an error iff state is 'rejected'\");\n  }\n\n  return t.Ad = function (e, n, r) {\n    var i = JSON.parse(r),\n        s = \"object\" == typeof i && -1 !== [\"pending\", \"acknowledged\", \"rejected\"].indexOf(i.state) && (void 0 === i.error || \"object\" == typeof i.error),\n        o = void 0;\n    return s && i.error && (s = \"string\" == typeof i.error.message && \"string\" == typeof i.error.code) && (o = new FirestoreError(i.error.code, i.error.message)), s ? new t(e, n, i.state, o) : (error(__PRIVATE_LOG_TAG$9, \"Failed to parse mutation state for ID '\" + n + \"': \" + r), null);\n  }, t.prototype.Rd = function () {\n    var t = {\n      state: this.state,\n      updateTimeMs: Date.now()\n    };\n    return this.error && (t.error = {\n      code: this.error.code,\n      message: this.error.message\n    }), JSON.stringify(t);\n  }, t;\n}(),\n    __PRIVATE_QueryTargetMetadata = function () {\n  function t(t, e, n) {\n    this.targetId = t, this.state = e, this.error = n, assert(void 0 !== n == (\"rejected\" === e), \"QueryTargetMetadata must contain an error iff state is 'rejected'\");\n  }\n\n  return t.Ad = function (e, n) {\n    var r = JSON.parse(n),\n        i = \"object\" == typeof r && -1 !== [\"not-current\", \"current\", \"rejected\"].indexOf(r.state) && (void 0 === r.error || \"object\" == typeof r.error),\n        s = void 0;\n    return i && r.error && (i = \"string\" == typeof r.error.message && \"string\" == typeof r.error.code) && (s = new FirestoreError(r.error.code, r.error.message)), i ? new t(e, r.state, s) : (error(__PRIVATE_LOG_TAG$9, \"Failed to parse target state for ID '\" + e + \"': \" + n), null);\n  }, t.prototype.Rd = function () {\n    var t = {\n      state: this.state,\n      updateTimeMs: Date.now()\n    };\n    return this.error && (t.error = {\n      code: this.error.code,\n      message: this.error.message\n    }), JSON.stringify(t);\n  }, t;\n}(),\n    __PRIVATE_RemoteClientState = function () {\n  function t(t, e) {\n    this.clientId = t, this.activeTargetIds = e;\n  }\n\n  return t.Ad = function (e, n) {\n    for (var r = JSON.parse(n), i = \"object\" == typeof r && r.activeTargetIds instanceof Array, s = __PRIVATE_targetIdSet(), o = 0; i && o < r.activeTargetIds.length; ++o) i = isSafeInteger(r.activeTargetIds[o]), s = s.add(r.activeTargetIds[o]);\n\n    return i ? new t(e, s) : (error(__PRIVATE_LOG_TAG$9, \"Failed to parse client data for instance '\" + e + \"': \" + n), null);\n  }, t;\n}(),\n    __PRIVATE_SharedOnlineState = function () {\n  function t(t, e) {\n    this.clientId = t, this.onlineState = e;\n  }\n\n  return t.Ad = function (e) {\n    var n = JSON.parse(e);\n    return \"object\" == typeof n && n.onlineState in __PRIVATE_OnlineState && \"string\" == typeof n.clientId ? new t(n.clientId, __PRIVATE_OnlineState[n.onlineState]) : (error(__PRIVATE_LOG_TAG$9, \"Failed to parse online state: \" + e), null);\n  }, t;\n}(),\n    __PRIVATE_LocalClientState = function () {\n  function t() {\n    this.activeTargetIds = __PRIVATE_targetIdSet();\n  }\n\n  return t.prototype.Id = function (t) {\n    this.activeTargetIds = this.activeTargetIds.add(t);\n  }, t.prototype.Vd = function (t) {\n    this.activeTargetIds = this.activeTargetIds.delete(t);\n  }, t.prototype.Rd = function () {\n    var t = {\n      activeTargetIds: this.activeTargetIds.st(),\n      updateTimeMs: Date.now()\n    };\n    return JSON.stringify(t);\n  }, t;\n}(),\n    __PRIVATE_WebStorageSharedClientState = function () {\n  function t(e, n, r, i, s) {\n    if (this.wc = e, this.platform = n, this.persistenceKey = r, this.md = i, this.td = null, this.Vl = null, this.Es = null, this.vd = {}, this.pd = this.bd.bind(this), this.Ea = !1, this.gd = [], !t.Xo(this.platform)) throw new FirestoreError(Code.UNIMPLEMENTED, \"LocalStorage is not available on this platform.\");\n    var o = r.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n    this.storage = this.platform.window.localStorage, this.currentUser = s, this.wd = createWebStorageClientStateKey(this.persistenceKey, this.md), this.yd = createWebStorageSequenceNumberKey(this.persistenceKey), this.vd[this.md] = new __PRIVATE_LocalClientState(), this.Sd = new RegExp(\"^\" + CLIENT_STATE_KEY_PREFIX + \"_\" + o + \"_([^_]*)$\"), this.Dd = new RegExp(\"^\" + MUTATION_BATCH_KEY_PREFIX + \"_\" + o + \"_(\\\\d+)(?:_(.*))?$\"), this.Cd = new RegExp(\"^\" + QUERY_TARGET_KEY_PREFIX + \"_\" + o + \"_(\\\\d+)$\"), this.Od = createWebStorageOnlineStateKey(this.persistenceKey), this.platform.window.addEventListener(\"storage\", this.pd);\n  }\n\n  return t.Xo = function (t) {\n    return !(!t.window || null == t.window.localStorage);\n  }, t.prototype.start = function () {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      var t,\n          e,\n          n,\n          r,\n          i,\n          s,\n          o,\n          u,\n          a,\n          _,\n          c,\n          h = this;\n\n      return tslib.__generator(this, function (f) {\n        switch (f.label) {\n          case 0:\n            return assert(!this.Ea, \"WebStorageSharedClientState already started\"), assert(null !== this.td, \"syncEngine property must be set before calling start()\"), assert(null !== this.Vl, \"onlineStateHandler property must be set before calling start()\"), [4, this.td.s_()];\n\n          case 1:\n            for (t = f.sent(), e = 0, n = t; e < n.length; e++) (r = n[e]) !== this.md && (i = this.getItem(createWebStorageClientStateKey(this.persistenceKey, r))) && (s = __PRIVATE_RemoteClientState.Ad(r, i)) && (this.vd[s.clientId] = s);\n\n            for (this.Fd(), (o = this.storage.getItem(this.Od)) && (u = this.Nd(o)) && this.Md(u), a = 0, _ = this.gd; a < _.length; a++) c = _[a], this.bd(c);\n\n            return this.gd = [], this.platform.window.addEventListener(\"unload\", function () {\n              return h.shutdown();\n            }), this.Ea = !0, [2];\n        }\n      });\n    });\n  }, t.prototype.Rs = function (t) {\n    this.setItem(this.yd, JSON.stringify(t));\n  }, t.prototype.Ld = function () {\n    var t = __PRIVATE_targetIdSet();\n\n    return forEach(this.vd, function (e, n) {\n      t = t.$t(n.activeTargetIds);\n    }), t;\n  }, t.prototype.Gd = function (t) {\n    for (var e in this.vd) if (this.vd.hasOwnProperty(e) && this.vd[e].activeTargetIds.has(t)) return !0;\n\n    return !1;\n  }, t.prototype.Bd = function (t) {\n    this.Ud(t, \"pending\");\n  }, t.prototype.kd = function (t, e, n) {\n    this.Ud(t, e, n), this.xd(t);\n  }, t.prototype.Kd = function (t) {\n    var e = \"not-current\";\n\n    if (this.Gd(t)) {\n      var n = this.storage.getItem(createWebStorageQueryTargetMetadataKey(this.persistenceKey, t));\n\n      if (n) {\n        var r = __PRIVATE_QueryTargetMetadata.Ad(t, n);\n\n        r && (e = r.state);\n      }\n    }\n\n    return this.jd.Id(t), this.Fd(), e;\n  }, t.prototype.qd = function (t) {\n    this.jd.Vd(t), this.Fd();\n  }, t.prototype.Qd = function (t) {\n    return this.jd.activeTargetIds.has(t);\n  }, t.prototype.Wd = function (t) {\n    this.removeItem(createWebStorageQueryTargetMetadataKey(this.persistenceKey, t));\n  }, t.prototype.$d = function (t, e, n) {\n    this.Yd(t, e, n);\n  }, t.prototype.wa = function (t, e, n) {\n    var r = this;\n    e.forEach(function (t) {\n      r.xd(t);\n    }), this.currentUser = t, n.forEach(function (t) {\n      r.Bd(t);\n    });\n  }, t.prototype.Hd = function (t) {\n    this.Xd(t);\n  }, t.prototype.shutdown = function () {\n    this.Ea && (this.platform.window.removeEventListener(\"storage\", this.pd), this.removeItem(this.wd), this.Ea = !1);\n  }, t.prototype.getItem = function (t) {\n    var e = this.storage.getItem(t);\n    return debug(__PRIVATE_LOG_TAG$9, \"READ\", t, e), e;\n  }, t.prototype.setItem = function (t, e) {\n    debug(__PRIVATE_LOG_TAG$9, \"SET\", t, e), this.storage.setItem(t, e);\n  }, t.prototype.removeItem = function (t) {\n    debug(__PRIVATE_LOG_TAG$9, \"REMOVE\", t), this.storage.removeItem(t);\n  }, t.prototype.bd = function (t) {\n    var e = this;\n\n    if (t.storageArea === this.storage) {\n      if (debug(__PRIVATE_LOG_TAG$9, \"EVENT\", t.key, t.newValue), t.key === this.wd) return void error(\"Received WebStorage notification for local change. Another client might have garbage-collected our state\");\n      this.wc.Us(function () {\n        return tslib.__awaiter(e, void 0, void 0, function () {\n          var e, n, r, i, s, o;\n          return tslib.__generator(this, function (u) {\n            if (!this.Ea) return this.gd.push(t), [2];\n            if (null === t.key) return [2];\n\n            if (this.Sd.test(t.key)) {\n              if (null == t.newValue) return n = this.zd(t.key), [2, this.Jd(n, null)];\n              if (e = this.Zd(t.key, t.newValue)) return [2, this.Jd(e.clientId, e)];\n            } else if (this.Dd.test(t.key)) {\n              if (null !== t.newValue && (r = this.tT(t.key, t.newValue))) return [2, this.eT(r)];\n            } else if (this.Cd.test(t.key)) {\n              if (null !== t.newValue && (i = this.nT(t.key, t.newValue))) return [2, this.rT(i)];\n            } else if (t.key === this.Od) {\n              if (null !== t.newValue && (s = this.Nd(t.newValue))) return [2, this.Md(s)];\n            } else t.key === this.yd && (assert(!!this.Es, \"Missing sequenceNumberHandler\"), (o = __PRIVATE_fromWebStorageSequenceNumber(t.newValue)) !== __PRIVATE_ListenSequence.Is && this.Es(o));\n\n            return [2];\n          });\n        });\n      });\n    }\n  }, Object.defineProperty(t.prototype, \"jd\", {\n    get: function () {\n      return this.vd[this.md];\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.Fd = function () {\n    this.setItem(this.wd, this.jd.Rd());\n  }, t.prototype.Ud = function (t, e, n) {\n    var r = new __PRIVATE_MutationMetadata(this.currentUser, t, e, n),\n        i = createWebStorageMutationBatchKey(this.persistenceKey, this.currentUser, t);\n    this.setItem(i, r.Rd());\n  }, t.prototype.xd = function (t) {\n    var e = createWebStorageMutationBatchKey(this.persistenceKey, this.currentUser, t);\n    this.removeItem(e);\n  }, t.prototype.Xd = function (t) {\n    var e = {\n      clientId: this.md,\n      onlineState: __PRIVATE_OnlineState[t]\n    };\n    this.storage.setItem(this.Od, JSON.stringify(e));\n  }, t.prototype.Yd = function (t, e, n) {\n    var r = createWebStorageQueryTargetMetadataKey(this.persistenceKey, t),\n        i = new __PRIVATE_QueryTargetMetadata(t, e, n);\n    this.setItem(r, i.Rd());\n  }, t.prototype.zd = function (t) {\n    var e = this.Sd.exec(t);\n    return e ? e[1] : null;\n  }, t.prototype.Zd = function (t, e) {\n    var n = this.zd(t);\n    return assert(null !== n, \"Cannot parse client state key '\" + t + \"'\"), __PRIVATE_RemoteClientState.Ad(n, e);\n  }, t.prototype.tT = function (t, e) {\n    var n = this.Dd.exec(t);\n    assert(null !== n, \"Cannot parse mutation batch key '\" + t + \"'\");\n    var r = Number(n[1]),\n        i = void 0 !== n[2] ? n[2] : null;\n    return __PRIVATE_MutationMetadata.Ad(new User(i), r, e);\n  }, t.prototype.nT = function (t, e) {\n    var n = this.Cd.exec(t);\n    assert(null !== n, \"Cannot parse query target key '\" + t + \"'\");\n    var r = Number(n[1]);\n    return __PRIVATE_QueryTargetMetadata.Ad(r, e);\n  }, t.prototype.Nd = function (t) {\n    return __PRIVATE_SharedOnlineState.Ad(t);\n  }, t.prototype.eT = function (t) {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      return tslib.__generator(this, function (e) {\n        return t.user.uid !== this.currentUser.uid ? (debug(__PRIVATE_LOG_TAG$9, \"Ignoring mutation for non-active user \" + t.user.uid), [2]) : [2, this.td.iT(t.batchId, t.state, t.error)];\n      });\n    });\n  }, t.prototype.rT = function (t) {\n    return this.td.sT(t.targetId, t.state, t.error);\n  }, t.prototype.Jd = function (t, e) {\n    var n = this,\n        r = this.Ld();\n    e ? this.vd[t] = e : delete this.vd[t];\n    var i = this.Ld(),\n        s = [],\n        o = [];\n    return i.forEach(function (t) {\n      return tslib.__awaiter(n, void 0, void 0, function () {\n        return tslib.__generator(this, function (e) {\n          return r.has(t) || s.push(t), [2];\n        });\n      });\n    }), r.forEach(function (t) {\n      return tslib.__awaiter(n, void 0, void 0, function () {\n        return tslib.__generator(this, function (e) {\n          return i.has(t) || o.push(t), [2];\n        });\n      });\n    }), this.td.oT(s, o);\n  }, t.prototype.Md = function (t) {\n    this.vd[t.clientId] && this.Vl(t.onlineState);\n  }, t;\n}();\n\nfunction __PRIVATE_fromWebStorageSequenceNumber(t) {\n  var e = __PRIVATE_ListenSequence.Is;\n  if (null != t) try {\n    var n = JSON.parse(t);\n    assert(\"number\" == typeof n, \"Found non-numeric sequence number\"), e = n;\n  } catch (t) {\n    error(__PRIVATE_LOG_TAG$9, \"Failed to read sequence number from WebStorage\", t);\n  }\n  return e;\n}\n\nvar __PRIVATE_MemorySharedClientState = function () {\n  function t() {\n    this.uT = new __PRIVATE_LocalClientState(), this.aT = {}, this.td = null, this.Vl = null, this.Es = null;\n  }\n\n  return t.prototype.Bd = function (t) {}, t.prototype.kd = function (t, e, n) {}, t.prototype.Kd = function (t) {\n    return this.uT.Id(t), this.aT[t] || \"not-current\";\n  }, t.prototype.$d = function (t, e, n) {\n    this.aT[t] = e;\n  }, t.prototype.qd = function (t) {\n    this.uT.Vd(t);\n  }, t.prototype.Qd = function (t) {\n    return this.uT.activeTargetIds.has(t);\n  }, t.prototype.Wd = function (t) {\n    delete this.aT[t];\n  }, t.prototype.Ld = function () {\n    return this.uT.activeTargetIds;\n  }, t.prototype.Gd = function (t) {\n    return this.uT.activeTargetIds.has(t);\n  }, t.prototype.start = function () {\n    return this.uT = new __PRIVATE_LocalClientState(), Promise.resolve();\n  }, t.prototype.wa = function (t, e, n) {}, t.prototype.Hd = function (t) {}, t.prototype.shutdown = function () {}, t.prototype.Rs = function (t) {}, t;\n}(),\n    __PRIVATE_AddedLimboDocument = function (t) {\n  this.key = t;\n},\n    __PRIVATE_RemovedLimboDocument = function (t) {\n  this.key = t;\n},\n    __PRIVATE_View = function () {\n  function t(t, e) {\n    this.query = t, this._T = e, this.cT = null, this.ir = !1, this.hT = __PRIVATE_documentKeySet(), this.Yn = __PRIVATE_documentKeySet(), this.fT = new __PRIVATE_DocumentSet(t.En.bind(t));\n  }\n\n  return Object.defineProperty(t.prototype, \"lT\", {\n    get: function () {\n      return this._T;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.dT = function (t, e) {\n    var n = this,\n        r = e ? e.TT : new __PRIVATE_DocumentChangeSet(),\n        i = e ? e.fT : this.fT,\n        s = e ? e.Yn : this.Yn,\n        o = i,\n        u = !1,\n        a = this.query.Vn() && i.size === this.query.limit ? i.last() : null,\n        _ = this.query.mn() && i.size === this.query.limit ? i.first() : null;\n\n    if (t.Vt(function (t, e) {\n      var c = i.get(t),\n          h = e instanceof Document ? e : null;\n      h && (assert(t.isEqual(h.key), \"Mismatching keys found in document changes: \" + t + \" != \" + h.key), h = n.query.matches(h) ? h : null);\n      var f = !!c && n.Yn.has(c.key),\n          l = !!h && (h.ce || n.Yn.has(h.key) && h.hasCommittedMutations),\n          d = !1;\n      c && h ? c.data().isEqual(h.data()) ? f !== l && (r.track({\n        type: __PRIVATE_ChangeType.Kn,\n        doc: h\n      }), d = !0) : n.ET(c, h) || (r.track({\n        type: __PRIVATE_ChangeType.xn,\n        doc: h\n      }), d = !0, (a && n.query.En(h, a) > 0 || _ && n.query.En(h, _) < 0) && (u = !0)) : !c && h ? (r.track({\n        type: __PRIVATE_ChangeType.Un,\n        doc: h\n      }), d = !0) : c && !h && (r.track({\n        type: __PRIVATE_ChangeType.kn,\n        doc: c\n      }), d = !0, (a || _) && (u = !0));\n      d && (h ? (o = o.add(h), s = l ? s.add(t) : s.delete(t)) : (o = o.delete(t), s = s.delete(t)));\n    }), this.query.Vn() || this.query.mn()) for (; o.size > this.query.limit;) {\n      var c = this.query.Vn() ? o.last() : o.first();\n      o = o.delete(c.key), s = s.delete(c.key), r.track({\n        type: __PRIVATE_ChangeType.kn,\n        doc: c\n      });\n    }\n    return assert(!u || !e, \"View was refilled using docs that themselves needed refilling.\"), {\n      fT: o,\n      TT: r,\n      Rh: u,\n      Yn: s\n    };\n  }, t.prototype.ET = function (t, e) {\n    return t.ce && e.hasCommittedMutations && !e.ce;\n  }, t.prototype.qo = function (t, e, n) {\n    var r = this;\n    assert(!t.Rh, \"Cannot apply changes that need a refill\");\n    var i = this.fT;\n    this.fT = t.fT, this.Yn = t.Yn;\n    var s = t.TT.Wn();\n    s.sort(function (t, e) {\n      return __PRIVATE_compareChangeType(t.type, e.type) || r.query.En(t.doc, e.doc);\n    }), this.PT(n);\n    var o = e ? this.AT() : [],\n        u = 0 === this.hT.size && this.ir ? __PRIVATE_SyncState.qn : __PRIVATE_SyncState.jn,\n        a = u !== this.cT;\n    return this.cT = u, 0 !== s.length || a ? {\n      snapshot: new __PRIVATE_ViewSnapshot(this.query, t.fT, i, s, t.Yn, u === __PRIVATE_SyncState.jn, a, !1),\n      RT: o\n    } : {\n      RT: o\n    };\n  }, t.prototype.IT = function (t) {\n    return this.ir && t === __PRIVATE_OnlineState.T ? (this.ir = !1, this.qo({\n      fT: this.fT,\n      TT: new __PRIVATE_DocumentChangeSet(),\n      Yn: this.Yn,\n      Rh: !1\n    }, !1)) : {\n      RT: []\n    };\n  }, t.prototype.VT = function (t) {\n    return !this._T.has(t) && !!this.fT.has(t) && !this.fT.get(t).ce;\n  }, t.prototype.PT = function (t) {\n    var e = this;\n    t && (t.sr.forEach(function (t) {\n      return e._T = e._T.add(t);\n    }), t.or.forEach(function (t) {\n      return assert(e._T.has(t), \"Modified document \" + t + \" not found in view.\");\n    }), t.ur.forEach(function (t) {\n      return e._T = e._T.delete(t);\n    }), this.ir = t.ir);\n  }, t.prototype.AT = function () {\n    var t = this;\n    if (!this.ir) return [];\n    var e = this.hT;\n    this.hT = __PRIVATE_documentKeySet(), this.fT.forEach(function (e) {\n      t.VT(e.key) && (t.hT = t.hT.add(e.key));\n    });\n    var n = [];\n    return e.forEach(function (e) {\n      t.hT.has(e) || n.push(new __PRIVATE_RemovedLimboDocument(e));\n    }), this.hT.forEach(function (t) {\n      e.has(t) || n.push(new __PRIVATE_AddedLimboDocument(t));\n    }), n;\n  }, t.prototype.mT = function (t) {\n    this._T = t.r_, this.hT = __PRIVATE_documentKeySet();\n    var e = this.dT(t.documents);\n    return this.qo(e, !0);\n  }, t.prototype.vT = function () {\n    return __PRIVATE_ViewSnapshot.zn(this.query, this.fT, this.Yn, this.cT === __PRIVATE_SyncState.jn);\n  }, t;\n}();\n\nfunction __PRIVATE_compareChangeType(t, e) {\n  var n = function (t) {\n    switch (t) {\n      case __PRIVATE_ChangeType.Un:\n        return 1;\n\n      case __PRIVATE_ChangeType.xn:\n      case __PRIVATE_ChangeType.Kn:\n        return 2;\n\n      case __PRIVATE_ChangeType.kn:\n        return 0;\n\n      default:\n        return fail(\"Unknown ChangeType: \" + t);\n    }\n  };\n\n  return n(t) - n(e);\n}\n\nvar __PRIVATE_RETRY_COUNT = 5,\n    __PRIVATE_TransactionRunner = function () {\n  function t(t, e, n, r) {\n    this.Ds = t, this.pT = e, this.updateFunction = n, this.Ns = r, this.bT = __PRIVATE_RETRY_COUNT, this.uf = new __PRIVATE_ExponentialBackoff(this.Ds, __PRIVATE_TimerId.Ss);\n  }\n\n  return t.prototype.run = function () {\n    this.gT();\n  }, t.prototype.gT = function () {\n    var t = this;\n    this.uf.Xh(function () {\n      return tslib.__awaiter(t, void 0, void 0, function () {\n        var t,\n            e,\n            n = this;\n        return tslib.__generator(this, function (r) {\n          return t = this.pT.Td(), (e = this.wT(t)) && e.then(function (e) {\n            n.Ds.Us(function () {\n              return t.commit().then(function () {\n                n.Ns.resolve(e);\n              }).catch(function (t) {\n                n.yT(t);\n              });\n            });\n          }).catch(function (t) {\n            n.yT(t);\n          }), [2];\n        });\n      });\n    });\n  }, t.prototype.wT = function (t) {\n    try {\n      var e = this.updateFunction(t);\n      return !isNullOrUndefined(e) && e.catch && e.then ? e : (this.Ns.reject(Error(\"Transaction callback must return a Promise\")), null);\n    } catch (t) {\n      return this.Ns.reject(t), null;\n    }\n  }, t.prototype.yT = function (t) {\n    var e = this;\n    this.bT > 0 && this.ST(t) ? (this.bT -= 1, this.Ds.Us(function () {\n      return e.gT(), Promise.resolve();\n    })) : this.Ns.reject(t);\n  }, t.prototype.ST = function (t) {\n    if (\"FirebaseError\" === t.name) {\n      var e = t.code;\n      return \"aborted\" === e || \"failed-precondition\" === e || !__PRIVATE_isPermanentError(e);\n    }\n\n    return !1;\n  }, t;\n}(),\n    __PRIVATE_LOG_TAG$a = \"SyncEngine\",\n    __PRIVATE_QueryView = function (t, e, n) {\n  this.query = t, this.targetId = e, this.view = n;\n},\n    __PRIVATE_LimboResolution = function (t) {\n  this.key = t, this.DT = !1;\n},\n    __PRIVATE_SyncEngine = function () {\n  function t(t, e, n, r) {\n    this.F_ = t, this.pT = e, this.CT = n, this.currentUser = r, this.OT = null, this.FT = new __PRIVATE_ObjectMap(function (t) {\n      return t.canonicalId();\n    }), this.NT = {}, this.MT = new __PRIVATE_SortedMap(__PRIVATE_DocumentKey.H), this.LT = {}, this.GT = new __PRIVATE_ReferenceSet(), this.BT = {}, this.UT = new Map(), this.kT = __PRIVATE_TargetIdGenerator.Yu(), this.isPrimary = void 0, this.onlineState = __PRIVATE_OnlineState.h;\n  }\n\n  return Object.defineProperty(t.prototype, \"xT\", {\n    get: function () {\n      return !0 === this.isPrimary;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.subscribe = function (t) {\n    assert(null !== t, \"SyncEngine listener cannot be null\"), assert(null === this.OT, \"SyncEngine already has a subscriber.\"), this.OT = t;\n  }, t.prototype.listen = function (t) {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      var e, n, r, i, s;\n      return tslib.__generator(this, function (o) {\n        switch (o.label) {\n          case 0:\n            return this.KT(\"listen()\"), (r = this.FT.get(t)) ? (e = r.targetId, this.CT.Kd(e), n = r.view.vT(), [3, 4]) : [3, 1];\n\n          case 1:\n            return [4, this.F_.Xa(t.Tn())];\n\n          case 2:\n            return i = o.sent(), s = this.CT.Kd(i.targetId), e = i.targetId, [4, this.jT(t, e, \"current\" === s)];\n\n          case 3:\n            n = o.sent(), this.isPrimary && this.pT.listen(i), o.label = 4;\n\n          case 4:\n            return this.OT.pf([n]), [2, e];\n        }\n      });\n    });\n  }, t.prototype.jT = function (t, e, n) {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      var r, i, s, o, u, a;\n      return tslib.__generator(this, function (_) {\n        switch (_.label) {\n          case 0:\n            return [4, this.F_.e_(t, !0)];\n\n          case 1:\n            return r = _.sent(), i = new __PRIVATE_View(t, r.r_), s = i.dT(r.documents), o = TargetChange.rr(e, n && this.onlineState !== __PRIVATE_OnlineState.T), assert(0 === (u = i.qo(s, !0 === this.isPrimary, o)).RT.length, \"View returned limbo docs before target ack from the server.\"), assert(!!u.snapshot, \"applyChanges for new view should always return a snapshot\"), a = new __PRIVATE_QueryView(t, e, i), this.FT.set(t, a), this.NT[e] || (this.NT[e] = []), this.NT[e].push(t), [2, u.snapshot];\n        }\n      });\n    });\n  }, t.prototype.qT = function (t) {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      var e, n;\n      return tslib.__generator(this, function (r) {\n        switch (r.label) {\n          case 0:\n            return [4, this.F_.e_(t.query, !0)];\n\n          case 1:\n            return e = r.sent(), n = t.view.mT(e), this.isPrimary && this.QT(t.targetId, n.RT), [2, n];\n        }\n      });\n    });\n  }, t.prototype.Jl = function (t) {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      var e,\n          n,\n          r = this;\n      return tslib.__generator(this, function (i) {\n        switch (i.label) {\n          case 0:\n            return this.KT(\"unlisten()\"), assert(!!(e = this.FT.get(t)), \"Trying to unlisten on query not found:\" + t), (n = this.NT[e.targetId]).length > 1 ? (this.NT[e.targetId] = n.filter(function (e) {\n              return !e.isEqual(t);\n            }), this.FT.delete(t), [2]) : this.isPrimary ? (this.CT.qd(e.targetId), this.CT.Gd(e.targetId) ? [3, 2] : [4, this.F_.t_(e.targetId, !1).then(function () {\n              r.CT.Wd(e.targetId), r.pT.Jl(e.targetId), r.WT(e.targetId);\n            }).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)]) : [3, 3];\n\n          case 1:\n            i.sent(), i.label = 2;\n\n          case 2:\n            return [3, 5];\n\n          case 3:\n            return this.WT(e.targetId), [4, this.F_.t_(e.targetId, !0)];\n\n          case 4:\n            i.sent(), i.label = 5;\n\n          case 5:\n            return [2];\n        }\n      });\n    });\n  }, t.prototype.write = function (t, e) {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      var n;\n      return tslib.__generator(this, function (r) {\n        switch (r.label) {\n          case 0:\n            return this.KT(\"write()\"), [4, this.F_.Ca(t)];\n\n          case 1:\n            return n = r.sent(), this.CT.Bd(n.batchId), this.$T(n.batchId, e), [4, this.YT(n.Mo)];\n\n          case 2:\n            return r.sent(), [4, this.pT.Yl()];\n\n          case 3:\n            return r.sent(), [2];\n        }\n      });\n    });\n  }, t.prototype.runTransaction = function (t, e, n) {\n    new __PRIVATE_TransactionRunner(t, this.pT, e, n).run();\n  }, t.prototype.Ba = function (t) {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      var e,\n          n = this;\n      return tslib.__generator(this, function (r) {\n        switch (r.label) {\n          case 0:\n            this.KT(\"applyRemoteEvent()\"), r.label = 1;\n\n          case 1:\n            return r.trys.push([1, 4,, 6]), [4, this.F_.Ba(t)];\n\n          case 2:\n            return e = r.sent(), forEach(t.Jn, function (t, e) {\n              var r = n.LT[Number(t)];\n              r && (assert(e.sr.size + e.or.size + e.ur.size <= 1, \"Limbo resolution for single document contains multiple changes.\"), e.sr.size > 0 ? r.DT = !0 : e.or.size > 0 ? assert(r.DT, \"Received change for limbo target document without add.\") : e.ur.size > 0 && (assert(r.DT, \"Received remove for limbo target document without add.\"), r.DT = !1));\n            }), [4, this.YT(e, t)];\n\n          case 3:\n            return r.sent(), [3, 6];\n\n          case 4:\n            return [4, __PRIVATE_ignoreIfPrimaryLeaseLoss(r.sent())];\n\n          case 5:\n            return r.sent(), [3, 6];\n\n          case 6:\n            return [2];\n        }\n      });\n    });\n  }, t.prototype.IT = function (t, e) {\n    if (this.isPrimary && e === __PRIVATE_OnlineStateSource.P || !this.isPrimary && e === __PRIVATE_OnlineStateSource.A) {\n      this.KT(\"applyOnlineStateChange()\");\n      var n = [];\n      this.FT.forEach(function (e, r) {\n        var i = r.view.IT(t);\n        assert(0 === i.RT.length, \"OnlineState should not affect limbo documents.\"), i.snapshot && n.push(i.snapshot);\n      }), this.OT.HT(t), this.OT.pf(n), this.onlineState = t, this.isPrimary && this.CT.Hd(t);\n    }\n  }, t.prototype.rd = function (t, e) {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      var n,\n          r,\n          i,\n          s,\n          o,\n          u = this;\n      return tslib.__generator(this, function (a) {\n        switch (a.label) {\n          case 0:\n            return this.KT(\"rejectListens()\"), this.CT.$d(t, \"rejected\", e), n = this.LT[t], (r = n && n.key) ? (this.MT = this.MT.remove(r), delete this.LT[t], i = (i = new __PRIVATE_SortedMap(__PRIVATE_DocumentKey.H)).Pt(r, new __PRIVATE_NoDocument(r, __PRIVATE_SnapshotVersion.W())), s = __PRIVATE_documentKeySet().add(r), o = new __PRIVATE_RemoteEvent(__PRIVATE_SnapshotVersion.MIN, {}, new __PRIVATE_SortedSet(__PRIVATE_primitiveComparator), i, s), [2, this.Ba(o)]) : [3, 1];\n\n          case 1:\n            return [4, this.F_.t_(t, !1).then(function () {\n              return u.WT(t, e);\n            }).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)];\n\n          case 2:\n            a.sent(), a.label = 3;\n\n          case 3:\n            return [2];\n        }\n      });\n    });\n  }, t.prototype.iT = function (t, e, n) {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      var r;\n      return tslib.__generator(this, function (i) {\n        switch (i.label) {\n          case 0:\n            return this.KT(\"applyBatchState()\"), [4, this.F_.Oa(t)];\n\n          case 1:\n            return null === (r = i.sent()) ? (debug(__PRIVATE_LOG_TAG$a, \"Cannot apply mutation batch with id: \" + t), [2]) : \"pending\" !== e ? [3, 3] : [4, this.pT.Yl()];\n\n          case 2:\n            return i.sent(), [3, 4];\n\n          case 3:\n            \"acknowledged\" === e || \"rejected\" === e ? (this.XT(t, n || null), this.F_.o_(t)) : fail(\"Unknown batchState: \" + e), i.label = 4;\n\n          case 4:\n            return [4, this.YT(r)];\n\n          case 5:\n            return i.sent(), [2];\n        }\n      });\n    });\n  }, t.prototype.hd = function (t) {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      var e, n;\n      return tslib.__generator(this, function (r) {\n        switch (r.label) {\n          case 0:\n            this.KT(\"applySuccessfulWrite()\"), e = t.batch.batchId, this.XT(e, null), this.zT(e), r.label = 1;\n\n          case 1:\n            return r.trys.push([1, 4,, 6]), [4, this.F_.Iu(t)];\n\n          case 2:\n            return n = r.sent(), this.CT.kd(e, \"acknowledged\"), [4, this.YT(n)];\n\n          case 3:\n            return r.sent(), [3, 6];\n\n          case 4:\n            return [4, __PRIVATE_ignoreIfPrimaryLeaseLoss(r.sent())];\n\n          case 5:\n            return r.sent(), [3, 6];\n\n          case 6:\n            return [2];\n        }\n      });\n    });\n  }, t.prototype.dd = function (t, e) {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      var n;\n      return tslib.__generator(this, function (r) {\n        switch (r.label) {\n          case 0:\n            this.KT(\"rejectFailedWrite()\"), this.XT(t, e), this.zT(t), r.label = 1;\n\n          case 1:\n            return r.trys.push([1, 4,, 6]), [4, this.F_.La(t)];\n\n          case 2:\n            return n = r.sent(), this.CT.kd(t, \"rejected\", e), [4, this.YT(n)];\n\n          case 3:\n            return r.sent(), [3, 6];\n\n          case 4:\n            return [4, __PRIVATE_ignoreIfPrimaryLeaseLoss(r.sent())];\n\n          case 5:\n            return r.sent(), [3, 6];\n\n          case 6:\n            return [2];\n        }\n      });\n    });\n  }, t.prototype.JT = function (t) {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      var e, n;\n      return tslib.__generator(this, function (r) {\n        switch (r.label) {\n          case 0:\n            return this.pT.Ml() || debug(__PRIVATE_LOG_TAG$a, \"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.\"), [4, this.F_.Cu()];\n\n          case 1:\n            return (e = r.sent()) === __PRIVATE_BATCHID_UNKNOWN ? (t.resolve(), [2]) : ((n = this.UT.get(e) || []).push(t), this.UT.set(e, n), [2]);\n        }\n      });\n    });\n  }, t.prototype.zT = function (t) {\n    (this.UT.get(t) || []).forEach(function (t) {\n      t.resolve();\n    }), this.UT.delete(t);\n  }, t.prototype.ZT = function (t) {\n    this.UT.forEach(function (e) {\n      e.forEach(function (e) {\n        e.reject(new FirestoreError(Code.CANCELLED, t));\n      });\n    }), this.UT.clear();\n  }, t.prototype.$T = function (t, e) {\n    var n = this.BT[this.currentUser.I()];\n    n || (n = new __PRIVATE_SortedMap(__PRIVATE_primitiveComparator)), n = n.Pt(t, e), this.BT[this.currentUser.I()] = n;\n  }, t.prototype.XT = function (t, e) {\n    var n = this.BT[this.currentUser.I()];\n\n    if (n) {\n      var r = n.get(t);\n      r && (assert(t === n.Rt(), \"Mutation callbacks processed out-of-order?\"), e ? r.reject(e) : r.resolve(), n = n.remove(t)), this.BT[this.currentUser.I()] = n;\n    }\n  }, t.prototype.WT = function (t, e) {\n    var n = this;\n    void 0 === e && (e = null), this.CT.qd(t), assert(this.NT[t] && 0 !== this.NT[t].length, \"There are no queries mapped to target id \" + t);\n\n    for (var r = 0, i = this.NT[t]; r < i.length; r++) {\n      var s = i[r];\n      this.FT.delete(s), e && this.OT.tE(s, e);\n    }\n\n    if (delete this.NT[t], this.isPrimary) {\n      var o = this.GT.Ro(t);\n      this.GT.Po(t), o.forEach(function (t) {\n        n.GT.Io(t) || n.eE(t);\n      });\n    }\n  }, t.prototype.eE = function (t) {\n    var e = this.MT.get(t);\n    null !== e && (this.pT.Jl(e), this.MT = this.MT.remove(t), delete this.LT[e]);\n  }, t.prototype.QT = function (t, e) {\n    for (var n = 0, r = e; n < r.length; n++) {\n      var i = r[n];\n      if (i instanceof __PRIVATE_AddedLimboDocument) this.GT.fo(i.key, t), this.nE(i);else if (i instanceof __PRIVATE_RemovedLimboDocument) {\n        debug(__PRIVATE_LOG_TAG$a, \"Document no longer in limbo: \" + i.key), this.GT.do(i.key, t), this.GT.Io(i.key) || this.eE(i.key);\n      } else fail(\"Unknown limbo change: \" + JSON.stringify(i));\n    }\n  }, t.prototype.nE = function (t) {\n    var e = t.key;\n\n    if (!this.MT.get(e)) {\n      debug(__PRIVATE_LOG_TAG$a, \"New document in limbo: \" + e);\n      var n = this.kT.next(),\n          r = Query.rn(e.path);\n      this.LT[n] = new __PRIVATE_LimboResolution(e), this.pT.listen(new __PRIVATE_TargetData(r.Tn(), n, __PRIVATE_TargetPurpose.Dn, __PRIVATE_ListenSequence.Is)), this.MT = this.MT.Pt(e, n);\n    }\n  }, t.prototype.rE = function () {\n    return this.MT;\n  }, t.prototype.YT = function (t, e) {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      var n,\n          r,\n          i,\n          s = this;\n      return tslib.__generator(this, function (o) {\n        switch (o.label) {\n          case 0:\n            return n = [], r = [], i = [], this.FT.forEach(function (o, u) {\n              i.push(Promise.resolve().then(function () {\n                var e = u.view.dT(t);\n                return e.Rh ? s.F_.e_(u.query, !1).then(function (t) {\n                  var n = t.documents;\n                  return u.view.dT(n, e);\n                }) : e;\n              }).then(function (t) {\n                var i = e && e.Jn[u.targetId],\n                    o = u.view.qo(t, !0 === s.isPrimary, i);\n\n                if (s.QT(u.targetId, o.RT), o.snapshot) {\n                  s.isPrimary && s.CT.$d(u.targetId, o.snapshot.fromCache ? \"not-current\" : \"current\"), n.push(o.snapshot);\n\n                  var a = __PRIVATE_LocalViewChanges.ca(u.targetId, o.snapshot);\n\n                  r.push(a);\n                }\n              }));\n            }), [4, Promise.all(i)];\n\n          case 1:\n            return o.sent(), this.OT.pf(n), [4, this.F_.$a(r)];\n\n          case 2:\n            return o.sent(), [2];\n        }\n      });\n    });\n  }, t.prototype.KT = function (t) {\n    assert(null !== this.OT, \"Trying to call \" + t + \" before calling subscribe().\");\n  }, t.prototype.Ed = function (t) {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      var e, n;\n      return tslib.__generator(this, function (r) {\n        switch (r.label) {\n          case 0:\n            return e = !this.currentUser.isEqual(t), this.currentUser = t, e ? (this.ZT(\"'waitForPendingWrites' promise is rejected due to a user change.\"), [4, this.F_.wa(t)]) : [3, 3];\n\n          case 1:\n            return n = r.sent(), this.CT.wa(t, n.Sa, n.Da), [4, this.YT(n.ya)];\n\n          case 2:\n            r.sent(), r.label = 3;\n\n          case 3:\n            return [4, this.pT.Ed()];\n\n          case 4:\n            return r.sent(), [2];\n        }\n      });\n    });\n  }, t.prototype.Pd = function (t) {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      var e,\n          n,\n          r,\n          i,\n          s,\n          o,\n          u = this;\n      return tslib.__generator(this, function (a) {\n        switch (a.label) {\n          case 0:\n            return !0 !== t || !0 === this.isPrimary ? [3, 3] : (this.isPrimary = !0, [4, this.pT.Pd(!0)]);\n\n          case 1:\n            return a.sent(), s = this.CT.Ld(), [4, this.iE(s.st())];\n\n          case 2:\n            for (e = a.sent(), n = 0, r = e; n < r.length; n++) i = r[n], this.pT.listen(i);\n\n            return [3, 7];\n\n          case 3:\n            return !1 !== t || !1 === this.isPrimary ? [3, 7] : (this.isPrimary = !1, s = [], o = Promise.resolve(), __PRIVATE_forEachNumber(this.NT, function (t, e) {\n              u.CT.Qd(t) ? s.push(t) : o = o.then(function () {\n                return u.WT(t), u.F_.t_(t, !0);\n              }), u.pT.Jl(t);\n            }), [4, o]);\n\n          case 4:\n            return a.sent(), [4, this.iE(s)];\n\n          case 5:\n            return a.sent(), this.sE(), [4, this.pT.Pd(!1)];\n\n          case 6:\n            a.sent(), a.label = 7;\n\n          case 7:\n            return [2];\n        }\n      });\n    });\n  }, t.prototype.sE = function () {\n    var t = this;\n    __PRIVATE_forEachNumber(this.LT, function (e) {\n      t.pT.Jl(e);\n    }), this.GT.Ao(), this.LT = [], this.MT = new __PRIVATE_SortedMap(__PRIVATE_DocumentKey.H);\n  }, t.prototype.iE = function (t) {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      var e, n, r, i, s, o, u, a, _, c, h, f, l;\n\n      return tslib.__generator(this, function (d) {\n        switch (d.label) {\n          case 0:\n            e = [], n = [], r = 0, i = t, d.label = 1;\n\n          case 1:\n            return r < i.length ? (s = i[r], o = void 0, (u = this.NT[s]) && 0 !== u.length ? [4, this.F_.t_(s, !0)] : [3, 8]) : [3, 14];\n\n          case 2:\n            return d.sent(), [4, this.F_.Xa(u[0].Tn())];\n\n          case 3:\n            o = d.sent(), a = 0, _ = u, d.label = 4;\n\n          case 4:\n            return a < _.length ? (c = _[a], assert(!!(h = this.FT.get(c)), \"No query view found for \" + c), [4, this.qT(h)]) : [3, 7];\n\n          case 5:\n            (f = d.sent()).snapshot && n.push(f.snapshot), d.label = 6;\n\n          case 6:\n            return a++, [3, 4];\n\n          case 7:\n            return [3, 12];\n\n          case 8:\n            return assert(!0 === this.isPrimary, \"A secondary tab should never have an active target without an active query.\"), [4, this.F_.c_(s)];\n\n          case 9:\n            return assert(!!(l = d.sent()), \"Target for id \" + s + \" not found\"), [4, this.F_.Xa(l)];\n\n          case 10:\n            return o = d.sent(), [4, this.jT(this.oE(l), s, !1)];\n\n          case 11:\n            d.sent(), d.label = 12;\n\n          case 12:\n            e.push(o), d.label = 13;\n\n          case 13:\n            return r++, [3, 1];\n\n          case 14:\n            return this.OT.pf(n), [2, e];\n        }\n      });\n    });\n  }, t.prototype.oE = function (t) {\n    return new Query(t.path, t.collectionGroup, t.orderBy, t.filters, t.limit, __PRIVATE_LimitType.Xe, t.startAt, t.endAt);\n  }, t.prototype.s_ = function () {\n    return this.F_.s_();\n  }, t.prototype.sT = function (t, e, n) {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      var r, i;\n      return tslib.__generator(this, function (s) {\n        switch (s.label) {\n          case 0:\n            if (this.isPrimary) return debug(__PRIVATE_LOG_TAG$a, \"Ignoring unexpected query state notification.\"), [2];\n            if (!this.NT[t]) return [3, 7];\n\n            switch (e) {\n              case \"current\":\n              case \"not-current\":\n                return [3, 1];\n\n              case \"rejected\":\n                return [3, 4];\n            }\n\n            return [3, 6];\n\n          case 1:\n            return [4, this.F_.h_()];\n\n          case 2:\n            return r = s.sent(), i = __PRIVATE_RemoteEvent.nr(t, \"current\" === e), [4, this.YT(r, i)];\n\n          case 3:\n            return s.sent(), [3, 7];\n\n          case 4:\n            return [4, this.F_.t_(t, !0)];\n\n          case 5:\n            return s.sent(), this.WT(t, n), [3, 7];\n\n          case 6:\n            fail(\"Unexpected target state: \" + e), s.label = 7;\n\n          case 7:\n            return [2];\n        }\n      });\n    });\n  }, t.prototype.oT = function (t, e) {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      var n,\n          r,\n          i,\n          s,\n          o,\n          u,\n          a,\n          _,\n          c,\n          h = this;\n\n      return tslib.__generator(this, function (f) {\n        switch (f.label) {\n          case 0:\n            if (!this.isPrimary) return [2];\n            n = 0, r = t, f.label = 1;\n\n          case 1:\n            return n < r.length ? (c = r[n], assert(!this.NT[c], \"Trying to add an already active target\"), [4, this.F_.c_(c)]) : [3, 6];\n\n          case 2:\n            return assert(!!(i = f.sent()), \"Query data for active target \" + c + \" not found\"), [4, this.F_.Xa(i)];\n\n          case 3:\n            return s = f.sent(), [4, this.jT(this.oE(i), s.targetId, !1)];\n\n          case 4:\n            f.sent(), this.pT.listen(s), f.label = 5;\n\n          case 5:\n            return n++, [3, 1];\n\n          case 6:\n            o = function (t) {\n              return tslib.__generator(this, function (e) {\n                switch (e.label) {\n                  case 0:\n                    return u.NT[t] ? [4, u.F_.t_(t, !1).then(function () {\n                      h.pT.Jl(t), h.WT(t);\n                    }).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)] : [2, \"continue\"];\n\n                  case 1:\n                    return e.sent(), [2];\n                }\n              });\n            }, u = this, a = 0, _ = e, f.label = 7;\n\n          case 7:\n            return a < _.length ? (c = _[a], [5, o(c)]) : [3, 10];\n\n          case 8:\n            f.sent(), f.label = 9;\n\n          case 9:\n            return a++, [3, 7];\n\n          case 10:\n            return [2];\n        }\n      });\n    });\n  }, t.prototype.enableNetwork = function () {\n    return this.F_.u_(!0), this.pT.enableNetwork();\n  }, t.prototype.disableNetwork = function () {\n    return this.F_.u_(!1), this.pT.disableNetwork();\n  }, t.prototype.Hr = function (t) {\n    var e = this.LT[t];\n    if (e && e.DT) return __PRIVATE_documentKeySet().add(e.key);\n\n    var n = __PRIVATE_documentKeySet(),\n        r = this.NT[t];\n\n    if (!r) return n;\n\n    for (var i = 0, s = r; i < s.length; i++) {\n      var o = s[i],\n          u = this.FT.get(o);\n      assert(!!u, \"No query view found for \" + o), n = n.$t(u.view.lT);\n    }\n\n    return n;\n  }, t;\n}(),\n    __PRIVATE_QueryListenersInfo = function () {\n  this.uE = null, this.targetId = 0, this.listeners = [];\n},\n    __PRIVATE_EventManager = function () {\n  function t(t) {\n    this.td = t, this.aE = new __PRIVATE_ObjectMap(function (t) {\n      return t.canonicalId();\n    }), this.onlineState = __PRIVATE_OnlineState.h, this._E = new Set(), this.td.subscribe(this);\n  }\n\n  return t.prototype.listen = function (t) {\n    var e = t.query,\n        n = !1,\n        r = this.aE.get(e);\n    (r || (n = !0, r = new __PRIVATE_QueryListenersInfo(), this.aE.set(e, r)), r.listeners.push(t), assert(!t.IT(this.onlineState), \"applyOnlineStateChange() shouldn't raise an event for brand-new listeners.\"), r.uE) && t.cE(r.uE) && this.hE();\n    return n ? this.td.listen(e).then(function (t) {\n      return r.targetId = t, t;\n    }) : Promise.resolve(r.targetId);\n  }, t.prototype.Jl = function (t) {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      var e, n, r, i;\n      return tslib.__generator(this, function (s) {\n        return e = t.query, n = !1, (r = this.aE.get(e)) && (i = r.listeners.indexOf(t)) >= 0 && (r.listeners.splice(i, 1), n = 0 === r.listeners.length), n ? (this.aE.delete(e), [2, this.td.Jl(e)]) : [2];\n      });\n    });\n  }, t.prototype.pf = function (t) {\n    for (var e = !1, n = 0, r = t; n < r.length; n++) {\n      var i = r[n],\n          s = i.query,\n          o = this.aE.get(s);\n\n      if (o) {\n        for (var u = 0, a = o.listeners; u < a.length; u++) {\n          a[u].cE(i) && (e = !0);\n        }\n\n        o.uE = i;\n      }\n    }\n\n    e && this.hE();\n  }, t.prototype.tE = function (t, e) {\n    var n = this.aE.get(t);\n    if (n) for (var r = 0, i = n.listeners; r < i.length; r++) {\n      i[r].onError(e);\n    }\n    this.aE.delete(t);\n  }, t.prototype.HT = function (t) {\n    this.onlineState = t;\n    var e = !1;\n    this.aE.forEach(function (n, r) {\n      for (var i = 0, s = r.listeners; i < s.length; i++) {\n        s[i].IT(t) && (e = !0);\n      }\n    }), e && this.hE();\n  }, t.prototype.fE = function (t) {\n    this._E.add(t), t.next();\n  }, t.prototype.lE = function (t) {\n    this._E.delete(t);\n  }, t.prototype.hE = function () {\n    this._E.forEach(function (t) {\n      t.next();\n    });\n  }, t;\n}(),\n    __PRIVATE_QueryListener = function () {\n  function t(t, e, n) {\n    this.query = t, this.dE = e, this.TE = !1, this.EE = null, this.onlineState = __PRIVATE_OnlineState.h, this.options = n || {};\n  }\n\n  return t.prototype.cE = function (t) {\n    if (assert(t.docChanges.length > 0 || t.Hn, \"We got a new snapshot with no changes?\"), !this.options.includeMetadataChanges) {\n      for (var e = [], n = 0, r = t.docChanges; n < r.length; n++) {\n        var i = r[n];\n        i.type !== __PRIVATE_ChangeType.Kn && e.push(i);\n      }\n\n      t = new __PRIVATE_ViewSnapshot(t.query, t.docs, t.$n, e, t.Yn, t.fromCache, t.Hn, !0);\n    }\n\n    var s = !1;\n    return this.TE ? this.PE(t) && (this.dE.next(t), s = !0) : this.AE(t, this.onlineState) && (this.RE(t), s = !0), this.EE = t, s;\n  }, t.prototype.onError = function (t) {\n    this.dE.error(t);\n  }, t.prototype.IT = function (t) {\n    this.onlineState = t;\n    var e = !1;\n    return this.EE && !this.TE && this.AE(this.EE, t) && (this.RE(this.EE), e = !0), e;\n  }, t.prototype.AE = function (t, e) {\n    if (assert(!this.TE, \"Determining whether to raise first event but already had first event\"), !t.fromCache) return !0;\n    var n = e !== __PRIVATE_OnlineState.T;\n    return this.options.IE && n ? (assert(t.fromCache, \"Waiting for sync, but snapshot is not from cache\"), !1) : !t.docs.tt() || e === __PRIVATE_OnlineState.T;\n  }, t.prototype.PE = function (t) {\n    if (t.docChanges.length > 0) return !0;\n    var e = this.EE && this.EE.hasPendingWrites !== t.hasPendingWrites;\n    return !(!t.Hn && !e) && !0 === this.options.includeMetadataChanges;\n  }, t.prototype.RE = function (t) {\n    assert(!this.TE, \"Trying to raise initial events for second time\"), t = __PRIVATE_ViewSnapshot.zn(t.query, t.docs, t.Yn, t.fromCache), this.TE = !0, this.dE.next(t);\n  }, t;\n}(),\n    __PRIVATE_LOG_TAG$b = \"FirestoreClient\",\n    __PRIVATE_DOM_EXCEPTION_INVALID_STATE = 11,\n    __PRIVATE_DOM_EXCEPTION_ABORTED = 20,\n    __PRIVATE_DOM_EXCEPTION_QUOTA_EXCEEDED = 22,\n    __PRIVATE_IndexedDbPersistenceSettings = function () {\n  function t(t, e) {\n    this.cacheSizeBytes = t, this.synchronizeTabs = e;\n  }\n\n  return t.prototype.Uc = function () {\n    return __PRIVATE_LruParams.b_(this.cacheSizeBytes);\n  }, t;\n}(),\n    __PRIVATE_MemoryPersistenceSettings = function () {},\n    __PRIVATE_FirestoreClient = function () {\n  function t(t, e, n, r) {\n    this.platform = t, this.VE = e, this.credentials = n, this.Ds = r, this.clientId = __PRIVATE_AutoId.s();\n  }\n\n  return t.prototype.start = function (t) {\n    var e = this;\n    this.mE();\n    var n = new __PRIVATE_Deferred(),\n        r = new __PRIVATE_Deferred(),\n        i = !1;\n    return this.credentials.S(function (s) {\n      i ? e.Ds.Us(function () {\n        return e.Ed(s);\n      }) : (i = !0, e.vE(t, r, s).then(function (t) {\n        return e.pE(s, t);\n      }).then(n.resolve, n.reject));\n    }), this.Ds.Us(function () {\n      return n.promise;\n    }), r.promise;\n  }, t.prototype.enableNetwork = function () {\n    var t = this;\n    return this.mE(), this.Ds.enqueue(function () {\n      return t.td.enableNetwork();\n    });\n  }, t.prototype.vE = function (t, e, n) {\n    var r = this;\n    return t instanceof __PRIVATE_IndexedDbPersistenceSettings ? this.bE(n, t).then(function (t) {\n      return e.resolve(), t;\n    }).catch(function (t) {\n      if (e.reject(t), !r.gE(t)) throw t;\n      return console.warn(\"Error enabling offline persistence. Falling back to persistence disabled: \" + t), r.wE();\n    }) : (e.resolve(), this.wE());\n  }, t.prototype.gE = function (t) {\n    return t instanceof FirestoreError ? t.code === Code.FAILED_PRECONDITION || t.code === Code.UNIMPLEMENTED : !(\"undefined\" != typeof DOMException && t instanceof DOMException) || t.code === __PRIVATE_DOM_EXCEPTION_QUOTA_EXCEEDED || t.code === __PRIVATE_DOM_EXCEPTION_ABORTED || t.code === __PRIVATE_DOM_EXCEPTION_INVALID_STATE;\n  }, t.prototype.mE = function () {\n    if (this.Ds.Ws) throw new FirestoreError(Code.FAILED_PRECONDITION, \"The client has already been terminated.\");\n  }, t.prototype.bE = function (t, e) {\n    var n = this,\n        r = __PRIVATE_IndexedDbPersistence.hh(this.VE),\n        i = new __PRIVATE_JsonProtoSerializer(this.VE.o, {\n      Jr: !0\n    });\n\n    return Promise.resolve().then(function () {\n      return tslib.__awaiter(n, void 0, void 0, function () {\n        var n, s;\n        return tslib.__generator(this, function (o) {\n          switch (o.label) {\n            case 0:\n              if (e.synchronizeTabs && !__PRIVATE_WebStorageSharedClientState.Xo(this.platform)) throw new FirestoreError(Code.UNIMPLEMENTED, \"IndexedDB persistence is only available on platforms that support LocalStorage.\");\n              return n = e.Uc(), this.CT = e.synchronizeTabs ? new __PRIVATE_WebStorageSharedClientState(this.Ds, this.platform, r, this.clientId, t) : new __PRIVATE_MemorySharedClientState(), [4, __PRIVATE_IndexedDbPersistence.Bc({\n                allowTabSynchronization: e.synchronizeTabs,\n                persistenceKey: r,\n                clientId: this.clientId,\n                platform: this.platform,\n                wc: this.Ds,\n                serializer: i,\n                Uc: n,\n                yc: this.CT\n              })];\n\n            case 1:\n              return s = o.sent(), this.persistence = s, [2, s.Eu.O_];\n          }\n        });\n      });\n    });\n  }, t.prototype.wE = function () {\n    return this.persistence = __PRIVATE_MemoryPersistence.Nh(this.clientId), this.CT = new __PRIVATE_MemorySharedClientState(), Promise.resolve(null);\n  }, t.prototype.pE = function (t, e) {\n    var n = this;\n    return debug(__PRIVATE_LOG_TAG$b, \"Initializing. user=\", t.uid), this.platform.yE(this.VE).then(function (r) {\n      return tslib.__awaiter(n, void 0, void 0, function () {\n        var n,\n            i,\n            s,\n            o,\n            u,\n            a,\n            _ = this;\n\n        return tslib.__generator(this, function (c) {\n          switch (c.label) {\n            case 0:\n              return n = new __PRIVATE_IndexFreeQueryEngine(), this.F_ = new __PRIVATE_LocalStore(this.persistence, n, t), [4, this.F_.start()];\n\n            case 1:\n              return c.sent(), e && (this.SE = new __PRIVATE_LruScheduler(e, this.Ds, this.F_)), i = this.platform.DE(), s = this.platform.CE(this.VE.o), o = new __PRIVATE_Datastore(this.Ds, r, this.credentials, s), u = function (t) {\n                return _.td.IT(t, __PRIVATE_OnlineStateSource.P);\n              }, a = function (t) {\n                return _.td.IT(t, __PRIVATE_OnlineStateSource.A);\n              }, this.pT = new __PRIVATE_RemoteStore(this.F_, o, this.Ds, u, i), this.td = new __PRIVATE_SyncEngine(this.F_, this.pT, this.CT, t), this.CT.Vl = a, this.pT.td = this.td, this.CT.td = this.td, this.OE = new __PRIVATE_EventManager(this.td), [4, this.CT.start()];\n\n            case 2:\n              return c.sent(), [4, this.pT.start()];\n\n            case 3:\n              return c.sent(), [4, this.persistence.Wc(function (t) {\n                return tslib.__awaiter(_, void 0, void 0, function () {\n                  return tslib.__generator(this, function (e) {\n                    switch (e.label) {\n                      case 0:\n                        return [4, this.td.Pd(t)];\n\n                      case 1:\n                        return e.sent(), this.SE && (t && !this.SE.Ea ? this.SE.start() : t || this.SE.stop()), [2];\n                    }\n                  });\n                });\n              })];\n\n            case 4:\n              return c.sent(), [4, this.persistence.$c(function () {\n                return tslib.__awaiter(_, void 0, void 0, function () {\n                  return tslib.__generator(this, function (t) {\n                    switch (t.label) {\n                      case 0:\n                        return [4, this.terminate()];\n\n                      case 1:\n                        return t.sent(), [2];\n                    }\n                  });\n                });\n              })];\n\n            case 5:\n              return c.sent(), [2];\n          }\n        });\n      });\n    });\n  }, t.prototype.Ed = function (t) {\n    return this.Ds.to(), debug(__PRIVATE_LOG_TAG$b, \"Credential Changed. Current user: \" + t.uid), this.td.Ed(t);\n  }, t.prototype.disableNetwork = function () {\n    var t = this;\n    return this.mE(), this.Ds.enqueue(function () {\n      return t.td.disableNetwork();\n    });\n  }, t.prototype.terminate = function () {\n    var t = this;\n    return this.Ds.zs(function () {\n      return tslib.__awaiter(t, void 0, void 0, function () {\n        return tslib.__generator(this, function (t) {\n          switch (t.label) {\n            case 0:\n              return this.SE && this.SE.stop(), [4, this.pT.shutdown()];\n\n            case 1:\n              return t.sent(), [4, this.CT.shutdown()];\n\n            case 2:\n              return t.sent(), [4, this.persistence.shutdown()];\n\n            case 3:\n              return t.sent(), this.credentials.D(), [2];\n          }\n        });\n      });\n    });\n  }, t.prototype.waitForPendingWrites = function () {\n    var t = this;\n    this.mE();\n    var e = new __PRIVATE_Deferred();\n    return this.Ds.Us(function () {\n      return t.td.JT(e);\n    }), e.promise;\n  }, t.prototype.listen = function (t, e, n) {\n    var r = this;\n    this.mE();\n    var i = new __PRIVATE_QueryListener(t, e, n);\n    return this.Ds.Us(function () {\n      return r.OE.listen(i);\n    }), i;\n  }, t.prototype.Jl = function (t) {\n    var e = this;\n    this.FE || this.Ds.Us(function () {\n      return e.OE.Jl(t);\n    });\n  }, t.prototype.NE = function (t) {\n    var e = this;\n    return this.mE(), this.Ds.enqueue(function () {\n      return e.F_.Ha(t);\n    }).then(function (t) {\n      if (t instanceof Document) return t;\n      if (t instanceof __PRIVATE_NoDocument) return null;\n      throw new FirestoreError(Code.UNAVAILABLE, \"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)\");\n    });\n  }, t.prototype.ME = function (t) {\n    var e = this;\n    return this.mE(), this.Ds.enqueue(function () {\n      return tslib.__awaiter(e, void 0, void 0, function () {\n        var e, n, r;\n        return tslib.__generator(this, function (i) {\n          switch (i.label) {\n            case 0:\n              return [4, this.F_.e_(t, !0)];\n\n            case 1:\n              return e = i.sent(), n = new __PRIVATE_View(t, e.r_), r = n.dT(e.documents), [2, n.qo(r, !1).snapshot];\n          }\n        });\n      });\n    });\n  }, t.prototype.write = function (t) {\n    var e = this;\n    this.mE();\n    var n = new __PRIVATE_Deferred();\n    return this.Ds.Us(function () {\n      return e.td.write(t, n);\n    }), n.promise;\n  }, t.prototype.o = function () {\n    return this.VE.o;\n  }, t.prototype.fE = function (t) {\n    var e = this;\n    this.mE(), this.Ds.Us(function () {\n      return e.OE.fE(t), Promise.resolve();\n    });\n  }, t.prototype.lE = function (t) {\n    this.FE || this.OE.lE(t);\n  }, Object.defineProperty(t.prototype, \"FE\", {\n    get: function () {\n      return this.Ds.Ws;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.transaction = function (t) {\n    var e = this;\n    this.mE();\n    var n = new __PRIVATE_Deferred();\n    return this.Ds.Us(function () {\n      return e.td.runTransaction(e.Ds, t, n), Promise.resolve();\n    }), n.promise;\n  }, t;\n}(),\n    __PRIVATE_AsyncObserver = function () {\n  function t(t) {\n    this.observer = t, this.muted = !1;\n  }\n\n  return t.prototype.next = function (t) {\n    this.LE(this.observer.next, t);\n  }, t.prototype.error = function (t) {\n    this.LE(this.observer.error, t);\n  }, t.prototype.GE = function () {\n    this.muted = !0;\n  }, t.prototype.LE = function (t, e) {\n    var n = this;\n    this.muted || setTimeout(function () {\n      n.muted || t(e);\n    }, 0);\n  }, t;\n}();\n\nfunction __PRIVATE_isPartialObserver(t) {\n  return __PRIVATE_implementsAnyMethods(t, [\"next\", \"error\", \"complete\"]);\n}\n\nfunction __PRIVATE_implementsAnyMethods(t, e) {\n  if (\"object\" != typeof t || null === t) return !1;\n\n  for (var n = t, r = 0, i = e; r < i.length; r++) {\n    var s = i[r];\n    if (s in n && \"function\" == typeof n[s]) return !0;\n  }\n\n  return !1;\n}\n\nvar __PRIVATE_DEFAULT_HOST = \"firestore.googleapis.com\",\n    __PRIVATE_DEFAULT_SSL = !0,\n    __PRIVATE_DEFAULT_TIMESTAMPS_IN_SNAPSHOTS = !0,\n    __PRIVATE_DEFAULT_FORCE_LONG_POLLING = !1,\n    CACHE_SIZE_UNLIMITED = __PRIVATE_LruParams.y_,\n    __PRIVATE_DEFAULT_SYNCHRONIZE_TABS = !1,\n    __PRIVATE_FirestoreSettings = function () {\n  function t(t) {\n    if (void 0 === t.host) {\n      if (void 0 !== t.ssl) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Can't provide ssl option if host option is not set\");\n      this.host = __PRIVATE_DEFAULT_HOST, this.ssl = __PRIVATE_DEFAULT_SSL;\n    } else __PRIVATE_validateNamedType(\"settings\", \"non-empty string\", \"host\", t.host), this.host = t.host, __PRIVATE_validateNamedOptionalType(\"settings\", \"boolean\", \"ssl\", t.ssl), this.ssl = __PRIVATE_defaulted(t.ssl, __PRIVATE_DEFAULT_SSL);\n\n    if (__PRIVATE_validateOptionNames(\"settings\", t, [\"host\", \"ssl\", \"credentials\", \"timestampsInSnapshots\", \"cacheSizeBytes\", \"experimentalForceLongPolling\"]), __PRIVATE_validateNamedOptionalType(\"settings\", \"object\", \"credentials\", t.credentials), this.credentials = t.credentials, __PRIVATE_validateNamedOptionalType(\"settings\", \"boolean\", \"timestampsInSnapshots\", t.timestampsInSnapshots), !0 === t.timestampsInSnapshots ? error(\"\\n  The timestampsInSnapshots setting now defaults to true and you no\\n  longer need to explicitly set it. In a future release, the setting\\n  will be removed entirely and so it is recommended that you remove it\\n  from your firestore.settings() call now.\") : !1 === t.timestampsInSnapshots && error(\"\\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\\n  YOUR CODE.\\n\\n  To hide this warning, stop using the timestampsInSnapshots setting in your\\n  firestore.settings({ ... }) call.\\n\\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\\n  read back as Firebase Timestamp objects instead of as system Date objects.\\n  So you will also need to update code expecting a Date to instead expect a\\n  Timestamp. For example:\\n\\n  // Old:\\n  const date = snapshot.get('created_at');\\n  // New:\\n  const timestamp = snapshot.get('created_at'); const date =\\n  timestamp.toDate();\\n\\n  Please audit all existing usages of Date when you enable the new\\n  behavior.\"), this.timestampsInSnapshots = __PRIVATE_defaulted(t.timestampsInSnapshots, __PRIVATE_DEFAULT_TIMESTAMPS_IN_SNAPSHOTS), __PRIVATE_validateNamedOptionalType(\"settings\", \"number\", \"cacheSizeBytes\", t.cacheSizeBytes), void 0 === t.cacheSizeBytes) this.cacheSizeBytes = __PRIVATE_LruParams.D_;else {\n      if (t.cacheSizeBytes !== CACHE_SIZE_UNLIMITED && t.cacheSizeBytes < __PRIVATE_LruParams.S_) throw new FirestoreError(Code.INVALID_ARGUMENT, \"cacheSizeBytes must be at least \" + __PRIVATE_LruParams.S_);\n      this.cacheSizeBytes = t.cacheSizeBytes;\n    }\n    __PRIVATE_validateNamedOptionalType(\"settings\", \"boolean\", \"experimentalForceLongPolling\", t.experimentalForceLongPolling), this.forceLongPolling = void 0 === t.experimentalForceLongPolling ? __PRIVATE_DEFAULT_FORCE_LONG_POLLING : t.experimentalForceLongPolling;\n  }\n\n  return t.prototype.isEqual = function (t) {\n    return this.host === t.host && this.ssl === t.ssl && this.timestampsInSnapshots === t.timestampsInSnapshots && this.credentials === t.credentials && this.cacheSizeBytes === t.cacheSizeBytes && this.forceLongPolling === t.forceLongPolling;\n  }, t;\n}(),\n    Firestore = function () {\n  function t(e, n) {\n    var r = this;\n\n    if (this.BE = null, this.UE = new __PRIVATE_AsyncQueue(), this.INTERNAL = {\n      delete: function () {\n        return tslib.__awaiter(r, void 0, void 0, function () {\n          return tslib.__generator(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return this.kE(), [4, this.xE.terminate()];\n\n              case 1:\n                return t.sent(), [2];\n            }\n          });\n        });\n      }\n    }, \"object\" == typeof e.options) {\n      var i = e;\n      this.BE = i, this.KE = t.jE(i), this.qE = i.name, this.QE = new __PRIVATE_FirebaseCredentialsProvider(n);\n    } else {\n      var s = e;\n      if (!s.projectId) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Must provide projectId\");\n      this.KE = new __PRIVATE_DatabaseId(s.projectId, s.database), this.qE = \"[DEFAULT]\", this.QE = new __PRIVATE_EmptyCredentialsProvider();\n    }\n\n    this.WE = new __PRIVATE_FirestoreSettings({}), this.$E = this.YE(this.KE);\n  }\n\n  return t.prototype.settings = function (t) {\n    if (__PRIVATE_validateExactNumberOfArgs(\"Firestore.settings\", arguments, 1), __PRIVATE_validateArgType(\"Firestore.settings\", \"object\", 1, t), contains(t, \"persistence\")) throw new FirestoreError(Code.INVALID_ARGUMENT, '\"persistence\" is now specified with a separate call to firestore.enablePersistence().');\n    var e = new __PRIVATE_FirestoreSettings(t);\n    if (this.xE && !this.WE.isEqual(e)) throw new FirestoreError(Code.FAILED_PRECONDITION, \"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.\");\n    this.WE = e, void 0 !== e.credentials && (this.QE = __PRIVATE_makeCredentialsProvider(e.credentials));\n  }, t.prototype.enableNetwork = function () {\n    return this.kE(), this.xE.enableNetwork();\n  }, t.prototype.disableNetwork = function () {\n    return this.kE(), this.xE.disableNetwork();\n  }, t.prototype.enablePersistence = function (t) {\n    if (this.xE) throw new FirestoreError(Code.FAILED_PRECONDITION, \"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.\");\n    var e = !1;\n    return t && (void 0 !== t.experimentalTabSynchronization && error(\"The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'.\"), e = __PRIVATE_defaulted(void 0 !== t.synchronizeTabs ? t.synchronizeTabs : t.experimentalTabSynchronization, __PRIVATE_DEFAULT_SYNCHRONIZE_TABS)), this.HE(new __PRIVATE_IndexedDbPersistenceSettings(this.WE.cacheSizeBytes, e));\n  }, t.prototype.clearPersistence = function () {\n    var t = this,\n        e = __PRIVATE_IndexedDbPersistence.hh(this.XE()),\n        n = new __PRIVATE_Deferred();\n\n    return this.UE.$s(function () {\n      return tslib.__awaiter(t, void 0, void 0, function () {\n        var t;\n        return tslib.__generator(this, function (r) {\n          switch (r.label) {\n            case 0:\n              if (r.trys.push([0, 2,, 3]), void 0 !== this.xE && !this.xE.FE) throw new FirestoreError(Code.FAILED_PRECONDITION, \"Persistence cannot be cleared after this Firestore instance is initialized.\");\n              return [4, __PRIVATE_IndexedDbPersistence.clearPersistence(e)];\n\n            case 1:\n              return r.sent(), n.resolve(), [3, 3];\n\n            case 2:\n              return t = r.sent(), n.reject(t), [3, 3];\n\n            case 3:\n              return [2];\n          }\n        });\n      });\n    }), n.promise;\n  }, t.prototype.terminate = function () {\n    return this.app._removeServiceInstance(\"firestore\"), this.INTERNAL.delete();\n  }, Object.defineProperty(t.prototype, \"zE\", {\n    get: function () {\n      return this.kE(), this.xE.FE;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.waitForPendingWrites = function () {\n    return this.kE(), this.xE.waitForPendingWrites();\n  }, t.prototype.onSnapshotsInSync = function (t) {\n    if (this.kE(), __PRIVATE_isPartialObserver(t)) return this.JE(t);\n\n    __PRIVATE_validateArgType(\"Firestore.onSnapshotsInSync\", \"function\", 1, t);\n\n    var e = {\n      next: t\n    };\n    return this.JE(e);\n  }, t.prototype.JE = function (t) {\n    var e = this,\n        n = new __PRIVATE_AsyncObserver({\n      next: function () {\n        t.next && t.next();\n      },\n      error: function (t) {\n        throw fail(\"Uncaught Error in onSnapshotsInSync\");\n      }\n    });\n    return this.xE.fE(n), function () {\n      n.GE(), e.xE.lE(n);\n    };\n  }, t.prototype.kE = function () {\n    return this.xE || this.HE(new __PRIVATE_MemoryPersistenceSettings()), this.xE;\n  }, t.prototype.XE = function () {\n    return new __PRIVATE_DatabaseInfo(this.KE, this.qE, this.WE.host, this.WE.ssl, this.WE.forceLongPolling);\n  }, t.prototype.HE = function (t) {\n    assert(!!this.WE.host, \"FirestoreSettings.host is not set\"), assert(!this.xE, \"configureClient() called multiple times\");\n    var e = this.XE();\n    return this.xE = new __PRIVATE_FirestoreClient(__PRIVATE_PlatformSupport.t(), e, this.QE, this.UE), this.xE.start(t);\n  }, t.prototype.YE = function (t) {\n    return new __PRIVATE_UserDataConverter(function (e) {\n      if (e instanceof DocumentReference) {\n        var n = t,\n            r = e.firestore.KE;\n        if (!r.isEqual(n)) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Document reference is for database \" + r.projectId + \"/\" + r.database + \" but should be for database \" + n.projectId + \"/\" + n.database);\n        return new __PRIVATE_DocumentKeyReference(t, e.ZE);\n      }\n\n      return e;\n    });\n  }, t.jE = function (t) {\n    var e = t.options;\n    if (!contains(e, \"projectId\")) throw new FirestoreError(Code.INVALID_ARGUMENT, '\"projectId\" not provided in firebase.initializeApp.');\n    var n = e.projectId;\n    if (!n || \"string\" != typeof n) throw new FirestoreError(Code.INVALID_ARGUMENT, \"projectId must be a string in FirebaseApp.options\");\n    return new __PRIVATE_DatabaseId(n);\n  }, Object.defineProperty(t.prototype, \"app\", {\n    get: function () {\n      if (!this.BE) throw new FirestoreError(Code.FAILED_PRECONDITION, \"Firestore was not initialized using the Firebase SDK. 'app' is not available\");\n      return this.BE;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.collection = function (t) {\n    return __PRIVATE_validateExactNumberOfArgs(\"Firestore.collection\", arguments, 1), __PRIVATE_validateArgType(\"Firestore.collection\", \"non-empty string\", 1, t), this.kE(), new CollectionReference(ResourcePath.ut(t), this);\n  }, t.prototype.doc = function (t) {\n    return __PRIVATE_validateExactNumberOfArgs(\"Firestore.doc\", arguments, 1), __PRIVATE_validateArgType(\"Firestore.doc\", \"non-empty string\", 1, t), this.kE(), DocumentReference.tP(ResourcePath.ut(t), this);\n  }, t.prototype.collectionGroup = function (t) {\n    if (__PRIVATE_validateExactNumberOfArgs(\"Firestore.collectionGroup\", arguments, 1), __PRIVATE_validateArgType(\"Firestore.collectionGroup\", \"non-empty string\", 1, t), t.indexOf(\"/\") >= 0) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Invalid collection ID '\" + t + \"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.\");\n    return this.kE(), new Query$1(new Query(ResourcePath.at, t), this);\n  }, t.prototype.runTransaction = function (t) {\n    var e = this;\n    return __PRIVATE_validateExactNumberOfArgs(\"Firestore.runTransaction\", arguments, 1), __PRIVATE_validateArgType(\"Firestore.runTransaction\", \"function\", 1, t), this.kE().transaction(function (n) {\n      return t(new Transaction$1(e, n));\n    });\n  }, t.prototype.batch = function () {\n    return this.kE(), new WriteBatch(this);\n  }, Object.defineProperty(t, \"logLevel\", {\n    get: function () {\n      switch (__PRIVATE_getLogLevel()) {\n        case LogLevel.DEBUG:\n          return \"debug\";\n\n        case LogLevel.ERROR:\n          return \"error\";\n\n        case LogLevel.SILENT:\n          return \"silent\";\n\n        default:\n          return fail(\"Unknown log level: \" + __PRIVATE_getLogLevel());\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.setLogLevel = function (t) {\n    switch (__PRIVATE_validateExactNumberOfArgs(\"Firestore.setLogLevel\", arguments, 1), __PRIVATE_validateArgType(\"Firestore.setLogLevel\", \"non-empty string\", 1, t), t) {\n      case \"debug\":\n        setLogLevel(LogLevel.DEBUG);\n        break;\n\n      case \"error\":\n        setLogLevel(LogLevel.ERROR);\n        break;\n\n      case \"silent\":\n        setLogLevel(LogLevel.SILENT);\n        break;\n\n      default:\n        throw new FirestoreError(Code.INVALID_ARGUMENT, \"Invalid log level: \" + t);\n    }\n  }, t.prototype.eP = function () {\n    return this.WE.timestampsInSnapshots;\n  }, t;\n}(),\n    Transaction$1 = function () {\n  function t(t, e) {\n    this.nP = t, this.rP = e;\n  }\n\n  return t.prototype.get = function (t) {\n    var e = this;\n\n    __PRIVATE_validateExactNumberOfArgs(\"Transaction.get\", arguments, 1);\n\n    var n = __PRIVATE_validateReference(\"Transaction.get\", t, this.nP);\n\n    return this.rP.lookup([n.ZE]).then(function (t) {\n      if (!t || 1 !== t.length) return fail(\"Mismatch in docs returned from document lookup.\");\n      var r = t[0];\n      if (r instanceof __PRIVATE_NoDocument) return new DocumentSnapshot(e.nP, n.ZE, null, !1, !1, n.iP);\n      if (r instanceof Document) return new DocumentSnapshot(e.nP, n.ZE, r, !1, !1, n.iP);\n      throw fail(\"BatchGetDocumentsRequest returned unexpected document type: \" + r.constructor.name);\n    });\n  }, t.prototype.set = function (t, e, n) {\n    __PRIVATE_validateBetweenNumberOfArgs(\"Transaction.set\", arguments, 2, 3);\n\n    var r = __PRIVATE_validateReference(\"Transaction.set\", t, this.nP);\n\n    n = __PRIVATE_validateSetOptions(\"Transaction.set\", n);\n\n    var i = __PRIVATE_applyFirestoreDataConverter(r.iP, e, \"Transaction.set\"),\n        s = i[0],\n        o = i[1],\n        u = n.merge || n.mergeFields ? this.nP.$E.rl(o, s, n.mergeFields) : this.nP.$E.el(o, s);\n\n    return this.rP.set(r.ZE, u), this;\n  }, t.prototype.update = function (t, e, n) {\n    for (var r, i, s = [], o = 3; o < arguments.length; o++) s[o - 3] = arguments[o];\n\n    return \"string\" == typeof e || e instanceof FieldPath$1 ? (__PRIVATE_validateAtLeastNumberOfArgs(\"Transaction.update\", arguments, 3), r = __PRIVATE_validateReference(\"Transaction.update\", t, this.nP), i = this.nP.$E.ol(\"Transaction.update\", e, n, s)) : (__PRIVATE_validateExactNumberOfArgs(\"Transaction.update\", arguments, 2), r = __PRIVATE_validateReference(\"Transaction.update\", t, this.nP), i = this.nP.$E.il(\"Transaction.update\", e)), this.rP.update(r.ZE, i), this;\n  }, t.prototype.delete = function (t) {\n    __PRIVATE_validateExactNumberOfArgs(\"Transaction.delete\", arguments, 1);\n\n    var e = __PRIVATE_validateReference(\"Transaction.delete\", t, this.nP);\n\n    return this.rP.delete(e.ZE), this;\n  }, t;\n}(),\n    WriteBatch = function () {\n  function t(t) {\n    this.nP = t, this.sP = [], this.oP = !1;\n  }\n\n  return t.prototype.set = function (t, e, n) {\n    __PRIVATE_validateBetweenNumberOfArgs(\"WriteBatch.set\", arguments, 2, 3), this.uP();\n\n    var r = __PRIVATE_validateReference(\"WriteBatch.set\", t, this.nP);\n\n    n = __PRIVATE_validateSetOptions(\"WriteBatch.set\", n);\n\n    var i = __PRIVATE_applyFirestoreDataConverter(r.iP, e, \"WriteBatch.set\"),\n        s = i[0],\n        o = i[1],\n        u = n.merge || n.mergeFields ? this.nP.$E.rl(o, s, n.mergeFields) : this.nP.$E.el(o, s);\n\n    return this.sP = this.sP.concat(u.xf(r.ZE, Precondition.NONE)), this;\n  }, t.prototype.update = function (t, e, n) {\n    for (var r, i, s = [], o = 3; o < arguments.length; o++) s[o - 3] = arguments[o];\n\n    return this.uP(), \"string\" == typeof e || e instanceof FieldPath$1 ? (__PRIVATE_validateAtLeastNumberOfArgs(\"WriteBatch.update\", arguments, 3), r = __PRIVATE_validateReference(\"WriteBatch.update\", t, this.nP), i = this.nP.$E.ol(\"WriteBatch.update\", e, n, s)) : (__PRIVATE_validateExactNumberOfArgs(\"WriteBatch.update\", arguments, 2), r = __PRIVATE_validateReference(\"WriteBatch.update\", t, this.nP), i = this.nP.$E.il(\"WriteBatch.update\", e)), this.sP = this.sP.concat(i.xf(r.ZE, Precondition.exists(!0))), this;\n  }, t.prototype.delete = function (t) {\n    __PRIVATE_validateExactNumberOfArgs(\"WriteBatch.delete\", arguments, 1), this.uP();\n\n    var e = __PRIVATE_validateReference(\"WriteBatch.delete\", t, this.nP);\n\n    return this.sP = this.sP.concat(new __PRIVATE_DeleteMutation(e.ZE, Precondition.NONE)), this;\n  }, t.prototype.commit = function () {\n    return tslib.__awaiter(this, void 0, void 0, function () {\n      return tslib.__generator(this, function (t) {\n        return this.uP(), this.oP = !0, this.sP.length > 0 ? [2, this.nP.kE().write(this.sP)] : [2];\n      });\n    });\n  }, t.prototype.uP = function () {\n    if (this.oP) throw new FirestoreError(Code.FAILED_PRECONDITION, \"A write batch can no longer be used after commit() has been called.\");\n  }, t;\n}(),\n    DocumentReference = function () {\n  function t(t, e, n) {\n    this.ZE = t, this.firestore = e, this.iP = n, this.xE = this.firestore.kE();\n  }\n\n  return t.tP = function (e, n, r) {\n    if (e.length % 2 != 0) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Invalid document reference. Document references must have an even number of segments, but \" + e.ot() + \" has \" + e.length);\n    return new t(new __PRIVATE_DocumentKey(e), n, r);\n  }, Object.defineProperty(t.prototype, \"id\", {\n    get: function () {\n      return this.ZE.path.nt();\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"parent\", {\n    get: function () {\n      return new CollectionReference(this.ZE.path.Z(), this.firestore, this.iP);\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"path\", {\n    get: function () {\n      return this.ZE.path.ot();\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.collection = function (t) {\n    if (__PRIVATE_validateExactNumberOfArgs(\"DocumentReference.collection\", arguments, 1), __PRIVATE_validateArgType(\"DocumentReference.collection\", \"non-empty string\", 1, t), !t) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Must provide a non-empty collection name to collection()\");\n    var e = ResourcePath.ut(t);\n    return new CollectionReference(this.ZE.path.child(e), this.firestore);\n  }, t.prototype.isEqual = function (e) {\n    if (!(e instanceof t)) throw __PRIVATE_invalidClassError(\"isEqual\", \"DocumentReference\", 1, e);\n    return this.firestore === e.firestore && this.ZE.isEqual(e.ZE) && this.iP === e.iP;\n  }, t.prototype.set = function (t, e) {\n    __PRIVATE_validateBetweenNumberOfArgs(\"DocumentReference.set\", arguments, 1, 2), e = __PRIVATE_validateSetOptions(\"DocumentReference.set\", e);\n\n    var n = __PRIVATE_applyFirestoreDataConverter(this.iP, t, \"DocumentReference.set\"),\n        r = n[0],\n        i = n[1],\n        s = e.merge || e.mergeFields ? this.firestore.$E.rl(i, r, e.mergeFields) : this.firestore.$E.el(i, r);\n\n    return this.xE.write(s.xf(this.ZE, Precondition.NONE));\n  }, t.prototype.update = function (t, e) {\n    for (var n, r = [], i = 2; i < arguments.length; i++) r[i - 2] = arguments[i];\n\n    return \"string\" == typeof t || t instanceof FieldPath$1 ? (__PRIVATE_validateAtLeastNumberOfArgs(\"DocumentReference.update\", arguments, 2), n = this.firestore.$E.ol(\"DocumentReference.update\", t, e, r)) : (__PRIVATE_validateExactNumberOfArgs(\"DocumentReference.update\", arguments, 1), n = this.firestore.$E.il(\"DocumentReference.update\", t)), this.xE.write(n.xf(this.ZE, Precondition.exists(!0)));\n  }, t.prototype.delete = function () {\n    return __PRIVATE_validateExactNumberOfArgs(\"DocumentReference.delete\", arguments, 0), this.xE.write([new __PRIVATE_DeleteMutation(this.ZE, Precondition.NONE)]);\n  }, t.prototype.onSnapshot = function () {\n    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];\n\n    __PRIVATE_validateBetweenNumberOfArgs(\"DocumentReference.onSnapshot\", arguments, 1, 4);\n\n    var n,\n        r = {\n      includeMetadataChanges: !1\n    },\n        i = 0;\n    \"object\" != typeof t[i] || __PRIVATE_isPartialObserver(t[i]) || (__PRIVATE_validateOptionNames(\"DocumentReference.onSnapshot\", r = t[i], [\"includeMetadataChanges\"]), __PRIVATE_validateNamedOptionalType(\"DocumentReference.onSnapshot\", \"boolean\", \"includeMetadataChanges\", r.includeMetadataChanges), i++);\n    var s = {\n      includeMetadataChanges: r.includeMetadataChanges\n    };\n    return __PRIVATE_isPartialObserver(t[i]) ? n = t[i] : (__PRIVATE_validateArgType(\"DocumentReference.onSnapshot\", \"function\", i, t[i]), __PRIVATE_validateOptionalArgType(\"DocumentReference.onSnapshot\", \"function\", i + 1, t[i + 1]), __PRIVATE_validateOptionalArgType(\"DocumentReference.onSnapshot\", \"function\", i + 2, t[i + 2]), n = {\n      next: t[i],\n      error: t[i + 1],\n      complete: t[i + 2]\n    }), this.aP(s, n);\n  }, t.prototype.aP = function (t, e) {\n    var n = this,\n        r = function (t) {\n      console.error(\"Uncaught Error in onSnapshot:\", t);\n    };\n\n    e.error && (r = e.error.bind(e));\n    var i = new __PRIVATE_AsyncObserver({\n      next: function (t) {\n        if (e.next) {\n          assert(t.docs.size <= 1, \"Too many documents returned on a document query\");\n          var r = t.docs.get(n.ZE);\n          e.next(new DocumentSnapshot(n.firestore, n.ZE, r, t.fromCache, t.hasPendingWrites, n.iP));\n        }\n      },\n      error: r\n    }),\n        s = this.xE.listen(Query.rn(this.ZE.path), i, t);\n    return function () {\n      i.GE(), n.xE.Jl(s);\n    };\n  }, t.prototype.get = function (t) {\n    var e = this;\n    return __PRIVATE_validateBetweenNumberOfArgs(\"DocumentReference.get\", arguments, 0, 1), __PRIVATE_validateGetOptions(\"DocumentReference.get\", t), new Promise(function (n, r) {\n      t && \"cache\" === t.source ? e.firestore.kE().NE(e.ZE).then(function (t) {\n        n(new DocumentSnapshot(e.firestore, e.ZE, t, !0, t instanceof Document && t.ce, e.iP));\n      }, r) : e._P(n, r, t);\n    });\n  }, t.prototype._P = function (t, e, n) {\n    var r = this.aP({\n      includeMetadataChanges: !0,\n      IE: !0\n    }, {\n      next: function (i) {\n        r(), !i.exists && i.metadata.fromCache ? e(new FirestoreError(Code.UNAVAILABLE, \"Failed to get document because the client is offline.\")) : i.exists && i.metadata.fromCache && n && \"server\" === n.source ? e(new FirestoreError(Code.UNAVAILABLE, 'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to \"server\" to retrieve the cached document.)')) : t(i);\n      },\n      error: e\n    });\n  }, t.prototype.withConverter = function (e) {\n    return new t(this.ZE, this.firestore, e);\n  }, t;\n}(),\n    SnapshotMetadata = function () {\n  function t(t, e) {\n    this.hasPendingWrites = t, this.fromCache = e;\n  }\n\n  return t.prototype.isEqual = function (t) {\n    return this.hasPendingWrites === t.hasPendingWrites && this.fromCache === t.fromCache;\n  }, t;\n}(),\n    DocumentSnapshot = function () {\n  function t(t, e, n, r, i, s) {\n    this.nP = t, this.ZE = e, this.cP = n, this.hP = r, this.fP = i, this.iP = s;\n  }\n\n  return t.prototype.data = function (t) {\n    if (__PRIVATE_validateBetweenNumberOfArgs(\"DocumentSnapshot.data\", arguments, 0, 1), t = __PRIVATE_validateSnapshotOptions(\"DocumentSnapshot.data\", t), this.cP) {\n      if (this.iP) {\n        var e = new QueryDocumentSnapshot(this.nP, this.ZE, this.cP, this.hP, this.fP);\n        return this.iP.fromFirestore(e, t);\n      }\n\n      return this.lP(this.cP.data(), __PRIVATE_FieldValueOptions.Oe(t, this.nP.eP()));\n    }\n  }, t.prototype.get = function (t, e) {\n    if (__PRIVATE_validateBetweenNumberOfArgs(\"DocumentSnapshot.get\", arguments, 1, 2), e = __PRIVATE_validateSnapshotOptions(\"DocumentSnapshot.get\", e), this.cP) {\n      var n = this.cP.data().field(__PRIVATE_fieldPathFromArgument(\"DocumentSnapshot.get\", t));\n      if (null !== n) return this.dP(n, __PRIVATE_FieldValueOptions.Oe(e, this.nP.eP()));\n    }\n  }, Object.defineProperty(t.prototype, \"id\", {\n    get: function () {\n      return this.ZE.path.nt();\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"ref\", {\n    get: function () {\n      return new DocumentReference(this.ZE, this.nP, this.iP);\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"exists\", {\n    get: function () {\n      return null !== this.cP;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"metadata\", {\n    get: function () {\n      return new SnapshotMetadata(this.fP, this.hP);\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.isEqual = function (e) {\n    if (!(e instanceof t)) throw __PRIVATE_invalidClassError(\"isEqual\", \"DocumentSnapshot\", 1, e);\n    return this.nP === e.nP && this.hP === e.hP && this.ZE.isEqual(e.ZE) && (null === this.cP ? null === e.cP : this.cP.isEqual(e.cP)) && this.iP === e.iP;\n  }, t.prototype.lP = function (t, e) {\n    var n = this,\n        r = {};\n    return t.forEach(function (t, i) {\n      r[t] = n.dP(i, e);\n    }), r;\n  }, t.prototype.dP = function (t, e) {\n    if (t instanceof __PRIVATE_ObjectValue) return this.lP(t, e);\n    if (t instanceof ArrayValue) return this.TP(t, e);\n\n    if (t instanceof __PRIVATE_RefValue) {\n      var n = t.value(e),\n          r = this.nP.kE().o();\n      return t.o.isEqual(r) || error(\"Document \" + this.ZE.path + \" contains a document reference within a different database (\" + t.o.projectId + \"/\" + t.o.database + \") which is not supported. It will be treated as a reference in the current database (\" + r.projectId + \"/\" + r.database + \") instead.\"), new DocumentReference(n, this.nP, this.iP);\n    }\n\n    return t.value(e);\n  }, t.prototype.TP = function (t, e) {\n    var n = this;\n    return t.Zt.map(function (t) {\n      return n.dP(t, e);\n    });\n  }, t;\n}(),\n    QueryDocumentSnapshot = function (t) {\n  function e() {\n    return null !== t && t.apply(this, arguments) || this;\n  }\n\n  return tslib.__extends(e, t), e.prototype.data = function (e) {\n    var n = t.prototype.data.call(this, e);\n    return assert(void 0 !== n, \"Document in a QueryDocumentSnapshot should exist\"), n;\n  }, e;\n}(DocumentSnapshot),\n    Query$1 = function () {\n  function t(t, e, n) {\n    this.EP = t, this.firestore = e, this.iP = n;\n  }\n\n  return t.prototype.where = function (e, n, r) {\n    __PRIVATE_validateExactNumberOfArgs(\"Query.where\", arguments, 3), __PRIVATE_validateDefined(\"Query.where\", 3, r);\n    var i,\n        s = [\"<\", \"<=\", \"==\", \">=\", \">\", \"array-contains\", \"in\", \"array-contains-any\"];\n\n    __PRIVATE_validateStringEnum(\"Query.where\", s, 2, n);\n\n    var o = __PRIVATE_fieldPathFromArgument(\"Query.where\", e),\n        u = __PRIVATE_Operator.ut(n);\n\n    if (o.ct()) {\n      if (u === __PRIVATE_Operator.ARRAY_CONTAINS || u === __PRIVATE_Operator.ARRAY_CONTAINS_ANY) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Invalid Query. You can't perform '\" + u.toString() + \"' queries on FieldPath.documentId().\");\n\n      if (u === __PRIVATE_Operator.IN) {\n        this.PP(r, u);\n\n        for (var a = [], _ = 0, c = r; _ < c.length; _++) {\n          var h = c[_];\n          a.push(this.AP(h));\n        }\n\n        i = new ArrayValue(a);\n      } else i = this.AP(r);\n    } else u !== __PRIVATE_Operator.IN && u !== __PRIVATE_Operator.ARRAY_CONTAINS_ANY || this.PP(r, u), i = this.firestore.$E.ul(\"Query.where\", r, u === __PRIVATE_Operator.IN);\n\n    var f = FieldFilter.create(o, u, i);\n    return this.RP(f), new t(this.EP.on(f), this.firestore, this.iP);\n  }, t.prototype.orderBy = function (e, n) {\n    var r;\n    if (__PRIVATE_validateBetweenNumberOfArgs(\"Query.orderBy\", arguments, 1, 2), __PRIVATE_validateOptionalArgType(\"Query.orderBy\", \"non-empty string\", 2, n), void 0 === n || \"asc\" === n) r = __PRIVATE_Direction.ASCENDING;else {\n      if (\"desc\" !== n) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Function Query.orderBy() has unknown direction '\" + n + \"', expected 'asc' or 'desc'.\");\n      r = __PRIVATE_Direction.DESCENDING;\n    }\n    if (null !== this.EP.startAt) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().\");\n    if (null !== this.EP.endAt) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().\");\n\n    var i = __PRIVATE_fieldPathFromArgument(\"Query.orderBy\", e),\n        s = new __PRIVATE_OrderBy(i, r);\n\n    return this.IP(s), new t(this.EP.an(s), this.firestore, this.iP);\n  }, t.prototype.limit = function (e) {\n    return __PRIVATE_validateExactNumberOfArgs(\"Query.limit\", arguments, 1), __PRIVATE_validateArgType(\"Query.limit\", \"number\", 1, e), __PRIVATE_validatePositiveNumber(\"Query.limit\", 1, e), new t(this.EP._n(e), this.firestore, this.iP);\n  }, t.prototype.limitToLast = function (e) {\n    return __PRIVATE_validateExactNumberOfArgs(\"Query.limitToLast\", arguments, 1), __PRIVATE_validateArgType(\"Query.limitToLast\", \"number\", 1, e), __PRIVATE_validatePositiveNumber(\"Query.limitToLast\", 1, e), new t(this.EP.cn(e), this.firestore, this.iP);\n  }, t.prototype.startAt = function (e) {\n    for (var n = [], r = 1; r < arguments.length; r++) n[r - 1] = arguments[r];\n\n    __PRIVATE_validateAtLeastNumberOfArgs(\"Query.startAt\", arguments, 1);\n\n    var i = this.VP(\"Query.startAt\", e, n, !0);\n    return new t(this.EP.hn(i), this.firestore, this.iP);\n  }, t.prototype.startAfter = function (e) {\n    for (var n = [], r = 1; r < arguments.length; r++) n[r - 1] = arguments[r];\n\n    __PRIVATE_validateAtLeastNumberOfArgs(\"Query.startAfter\", arguments, 1);\n\n    var i = this.VP(\"Query.startAfter\", e, n, !1);\n    return new t(this.EP.hn(i), this.firestore, this.iP);\n  }, t.prototype.endBefore = function (e) {\n    for (var n = [], r = 1; r < arguments.length; r++) n[r - 1] = arguments[r];\n\n    __PRIVATE_validateAtLeastNumberOfArgs(\"Query.endBefore\", arguments, 1);\n\n    var i = this.VP(\"Query.endBefore\", e, n, !0);\n    return new t(this.EP.fn(i), this.firestore, this.iP);\n  }, t.prototype.endAt = function (e) {\n    for (var n = [], r = 1; r < arguments.length; r++) n[r - 1] = arguments[r];\n\n    __PRIVATE_validateAtLeastNumberOfArgs(\"Query.endAt\", arguments, 1);\n\n    var i = this.VP(\"Query.endAt\", e, n, !1);\n    return new t(this.EP.fn(i), this.firestore, this.iP);\n  }, t.prototype.isEqual = function (e) {\n    if (!(e instanceof t)) throw __PRIVATE_invalidClassError(\"isEqual\", \"Query\", 1, e);\n    return this.firestore === e.firestore && this.EP.isEqual(e.EP);\n  }, t.prototype.withConverter = function (e) {\n    return new t(this.EP, this.firestore, e);\n  }, t.prototype.VP = function (t, e, n, r) {\n    if (__PRIVATE_validateDefined(t, 1, e), e instanceof DocumentSnapshot) {\n      if (n.length > 0) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Too many arguments provided to \" + t + \"().\");\n      var i = e;\n      if (!i.exists) throw new FirestoreError(Code.NOT_FOUND, \"Can't use a DocumentSnapshot that doesn't exist for \" + t + \"().\");\n      return this.mP(t, i.cP, r);\n    }\n\n    var s = [e].concat(n);\n    return this.vP(t, s, r);\n  }, t.prototype.mP = function (t, e, n) {\n    for (var r = [], i = 0, s = this.EP.orderBy; i < s.length; i++) {\n      var o = s[i];\n      if (o.field.ct()) r.push(new __PRIVATE_RefValue(this.firestore.KE, e.key));else {\n        var u = e.field(o.field);\n        if (u instanceof __PRIVATE_ServerTimestampValue) throw new FirestoreError(Code.INVALID_ARGUMENT, 'Invalid query. You are trying to start or end a query using a document for which the field \"' + o.field + '\" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');\n\n        if (null === u) {\n          var a = o.field.ot();\n          throw new FirestoreError(Code.INVALID_ARGUMENT, \"Invalid query. You are trying to start or end a query using a document for which the field '\" + a + \"' (used as the orderBy) does not exist.\");\n        }\n\n        r.push(u);\n      }\n    }\n\n    return new __PRIVATE_Bound(r, n);\n  }, t.prototype.vP = function (t, e, n) {\n    var r = this.EP.Je;\n    if (e.length > r.length) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Too many arguments provided to \" + t + \"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses\");\n\n    for (var i = [], s = 0; s < e.length; s++) {\n      var o = e[s];\n\n      if (r[s].field.ct()) {\n        if (\"string\" != typeof o) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Invalid query. Expected a string for document ID in \" + t + \"(), but got a \" + typeof o);\n        if (!this.EP.pn() && -1 !== o.indexOf(\"/\")) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to \" + t + \"() must be a plain document ID, but '\" + o + \"' contains a slash.\");\n        var u = this.EP.path.child(ResourcePath.ut(o));\n        if (!__PRIVATE_DocumentKey.lt(u)) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to \" + t + \"() must result in a valid document path, but '\" + u + \"' is not because it contains an odd number of segments.\");\n        var a = new __PRIVATE_DocumentKey(u);\n        i.push(new __PRIVATE_RefValue(this.firestore.KE, a));\n      } else {\n        var _ = this.firestore.$E.ul(t, o);\n\n        i.push(_);\n      }\n    }\n\n    return new __PRIVATE_Bound(i, n);\n  }, t.prototype.onSnapshot = function () {\n    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];\n\n    __PRIVATE_validateBetweenNumberOfArgs(\"Query.onSnapshot\", arguments, 1, 4);\n\n    var n,\n        r = {},\n        i = 0;\n    return \"object\" != typeof t[i] || __PRIVATE_isPartialObserver(t[i]) || (__PRIVATE_validateOptionNames(\"Query.onSnapshot\", r = t[i], [\"includeMetadataChanges\"]), __PRIVATE_validateNamedOptionalType(\"Query.onSnapshot\", \"boolean\", \"includeMetadataChanges\", r.includeMetadataChanges), i++), __PRIVATE_isPartialObserver(t[i]) ? n = t[i] : (__PRIVATE_validateArgType(\"Query.onSnapshot\", \"function\", i, t[i]), __PRIVATE_validateOptionalArgType(\"Query.onSnapshot\", \"function\", i + 1, t[i + 1]), __PRIVATE_validateOptionalArgType(\"Query.onSnapshot\", \"function\", i + 2, t[i + 2]), n = {\n      next: t[i],\n      error: t[i + 1],\n      complete: t[i + 2]\n    }), this.pP(this.EP), this.aP(r, n);\n  }, t.prototype.aP = function (t, e) {\n    var n = this,\n        r = function (t) {\n      console.error(\"Uncaught Error in onSnapshot:\", t);\n    };\n\n    e.error && (r = e.error.bind(e));\n    var i = new __PRIVATE_AsyncObserver({\n      next: function (t) {\n        e.next && e.next(new QuerySnapshot(n.firestore, n.EP, t, n.iP));\n      },\n      error: r\n    }),\n        s = this.firestore.kE(),\n        o = s.listen(this.EP, i, t);\n    return function () {\n      i.GE(), s.Jl(o);\n    };\n  }, t.prototype.pP = function (t) {\n    if (t.mn() && 0 === t.Je.length) throw new FirestoreError(Code.UNIMPLEMENTED, \"limitToLast() queries require specifying at least one orderBy() clause\");\n  }, t.prototype.get = function (t) {\n    var e = this;\n    return __PRIVATE_validateBetweenNumberOfArgs(\"Query.get\", arguments, 0, 1), __PRIVATE_validateGetOptions(\"Query.get\", t), this.pP(this.EP), new Promise(function (n, r) {\n      t && \"cache\" === t.source ? e.firestore.kE().ME(e.EP).then(function (t) {\n        n(new QuerySnapshot(e.firestore, e.EP, t, e.iP));\n      }, r) : e._P(n, r, t);\n    });\n  }, t.prototype._P = function (t, e, n) {\n    var r = this.aP({\n      includeMetadataChanges: !0,\n      IE: !0\n    }, {\n      next: function (i) {\n        r(), i.metadata.fromCache && n && \"server\" === n.source ? e(new FirestoreError(Code.UNAVAILABLE, 'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to \"server\" to retrieve the cached documents.)')) : t(i);\n      },\n      error: e\n    });\n  }, t.prototype.AP = function (t) {\n    if (\"string\" == typeof t) {\n      if (\"\" === t) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.\");\n      if (!this.EP.pn() && -1 !== t.indexOf(\"/\")) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '\" + t + \"' contains a '/' character.\");\n      var e = this.EP.path.child(ResourcePath.ut(t));\n      if (!__PRIVATE_DocumentKey.lt(e)) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '\" + e + \"' is not because it has an odd number of segments (\" + e.length + \").\");\n      return new __PRIVATE_RefValue(this.firestore.KE, new __PRIVATE_DocumentKey(e));\n    }\n\n    if (t instanceof DocumentReference) {\n      var n = t;\n      return new __PRIVATE_RefValue(this.firestore.KE, n.ZE);\n    }\n\n    throw new FirestoreError(Code.INVALID_ARGUMENT, \"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: \" + __PRIVATE_valueDescription(t) + \".\");\n  }, t.prototype.PP = function (t, e) {\n    if (!Array.isArray(t) || 0 === t.length) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Invalid Query. A non-empty array is required for '\" + e.toString() + \"' filters.\");\n    if (t.length > 10) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Invalid Query. '\" + e.toString() + \"' filters support a maximum of 10 elements in the value array.\");\n    if (t.indexOf(null) >= 0) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Invalid Query. '\" + e.toString() + \"' filters cannot contain 'null' in the value array.\");\n    if (t.filter(function (t) {\n      return Number.isNaN(t);\n    }).length > 0) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Invalid Query. '\" + e.toString() + \"' filters cannot contain 'NaN' in the value array.\");\n  }, t.prototype.RP = function (t) {\n    if (t instanceof FieldFilter) {\n      var e = [__PRIVATE_Operator.ARRAY_CONTAINS, __PRIVATE_Operator.ARRAY_CONTAINS_ANY],\n          n = [__PRIVATE_Operator.IN, __PRIVATE_Operator.ARRAY_CONTAINS_ANY],\n          r = e.indexOf(t.op) >= 0,\n          i = n.indexOf(t.op) >= 0;\n\n      if (t.un()) {\n        var s = this.EP.in();\n        if (null !== s && !s.isEqual(t.field)) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '\" + s.toString() + \"' and '\" + t.field.toString() + \"'\");\n        var o = this.EP.sn();\n        null !== o && this.bP(t.field, o);\n      } else if (i || r) {\n        var u = null;\n        if (i && (u = this.EP.vn(n)), null === u && r && (u = this.EP.vn(e)), null != u) throw u === t.op ? new FirestoreError(Code.INVALID_ARGUMENT, \"Invalid query. You cannot use more than one '\" + t.op.toString() + \"' filter.\") : new FirestoreError(Code.INVALID_ARGUMENT, \"Invalid query. You cannot use '\" + t.op.toString() + \"' filters with '\" + u.toString() + \"' filters.\");\n      }\n    }\n  }, t.prototype.IP = function (t) {\n    if (null === this.EP.sn()) {\n      var e = this.EP.in();\n      null !== e && this.bP(e, t.field);\n    }\n  }, t.prototype.bP = function (t, e) {\n    if (!e.isEqual(t)) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '\" + t.toString() + \"' and so you must also use '\" + t.toString() + \"' as your first Query.orderBy(), but your first Query.orderBy() is on field '\" + e.toString() + \"' instead.\");\n  }, t;\n}(),\n    QuerySnapshot = function () {\n  function t(t, e, n, r) {\n    this.nP = t, this.gP = e, this.wP = n, this.iP = r, this.yP = null, this.SP = null, this.metadata = new SnapshotMetadata(n.hasPendingWrites, n.fromCache);\n  }\n\n  return Object.defineProperty(t.prototype, \"docs\", {\n    get: function () {\n      var t = [];\n      return this.forEach(function (e) {\n        return t.push(e);\n      }), t;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"empty\", {\n    get: function () {\n      return this.wP.docs.tt();\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"size\", {\n    get: function () {\n      return this.wP.docs.size;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.forEach = function (t, e) {\n    var n = this;\n    __PRIVATE_validateBetweenNumberOfArgs(\"QuerySnapshot.forEach\", arguments, 1, 2), __PRIVATE_validateArgType(\"QuerySnapshot.forEach\", \"function\", 1, t), this.wP.docs.forEach(function (r) {\n      t.call(e, n.DP(r));\n    });\n  }, Object.defineProperty(t.prototype, \"query\", {\n    get: function () {\n      return new Query$1(this.gP, this.nP, this.iP);\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.docChanges = function (t) {\n    t && (__PRIVATE_validateOptionNames(\"QuerySnapshot.docChanges\", t, [\"includeMetadataChanges\"]), __PRIVATE_validateNamedOptionalType(\"QuerySnapshot.docChanges\", \"boolean\", \"includeMetadataChanges\", t.includeMetadataChanges));\n    var e = !(!t || !t.includeMetadataChanges);\n    if (e && this.wP.Xn) throw new FirestoreError(Code.INVALID_ARGUMENT, \"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().\");\n    return this.yP && this.SP === e || (this.yP = __PRIVATE_changesFromSnapshot(this.nP, e, this.wP, this.iP), this.SP = e), this.yP;\n  }, t.prototype.isEqual = function (e) {\n    if (!(e instanceof t)) throw __PRIVATE_invalidClassError(\"isEqual\", \"QuerySnapshot\", 1, e);\n    return this.nP === e.nP && this.gP.isEqual(e.gP) && this.wP.isEqual(e.wP) && this.iP === e.iP;\n  }, t.prototype.DP = function (t) {\n    return new QueryDocumentSnapshot(this.nP, t.key, t, this.metadata.fromCache, this.wP.Yn.has(t.key), this.iP);\n  }, t;\n}();\n\nfunction __PRIVATE_throwDocChangesMethodError() {\n  throw new FirestoreError(Code.INVALID_ARGUMENT, 'QuerySnapshot.docChanges has been changed from a property into a method, so usages like \"querySnapshot.docChanges\" should become \"querySnapshot.docChanges()\"');\n}\n\nvar __PRIVATE_docChangesPropertiesToOverride = tslib.__spreadArrays([\"length\", \"forEach\", \"map\"], \"undefined\" != typeof Symbol ? [Symbol.iterator] : []);\n\n__PRIVATE_docChangesPropertiesToOverride.forEach(function (t) {\n  try {\n    Object.defineProperty(QuerySnapshot.prototype.docChanges, t, {\n      get: function () {\n        return __PRIVATE_throwDocChangesMethodError();\n      }\n    });\n  } catch (t) {}\n});\n\nvar CollectionReference = function (t) {\n  function e(e, n, r) {\n    var i = t.call(this, Query.rn(e), n, r) || this;\n    if (i.CP = e, e.length % 2 != 1) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Invalid collection reference. Collection references must have an odd number of segments, but \" + e.ot() + \" has \" + e.length);\n    return i;\n  }\n\n  return tslib.__extends(e, t), Object.defineProperty(e.prototype, \"id\", {\n    get: function () {\n      return this.EP.path.nt();\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(e.prototype, \"parent\", {\n    get: function () {\n      var t = this.EP.path.Z();\n      return t.tt() ? null : new DocumentReference(new __PRIVATE_DocumentKey(t), this.firestore);\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(e.prototype, \"path\", {\n    get: function () {\n      return this.EP.path.ot();\n    },\n    enumerable: !0,\n    configurable: !0\n  }), e.prototype.doc = function (t) {\n    if (__PRIVATE_validateBetweenNumberOfArgs(\"CollectionReference.doc\", arguments, 0, 1), 0 === arguments.length && (t = __PRIVATE_AutoId.s()), __PRIVATE_validateArgType(\"CollectionReference.doc\", \"non-empty string\", 1, t), \"\" === t) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Document path must be a non-empty string\");\n    var e = ResourcePath.ut(t);\n    return DocumentReference.tP(this.EP.path.child(e), this.firestore, this.iP);\n  }, e.prototype.add = function (t) {\n    __PRIVATE_validateExactNumberOfArgs(\"CollectionReference.add\", arguments, 1);\n\n    var e = this.iP ? this.iP.toFirestore(t) : t;\n\n    __PRIVATE_validateArgType(\"CollectionReference.add\", \"object\", 1, e);\n\n    var n = this.doc();\n    return n.set(t).then(function () {\n      return n;\n    });\n  }, e.prototype.withConverter = function (t) {\n    return new e(this.CP, this.firestore, t);\n  }, e;\n}(Query$1);\n\nfunction __PRIVATE_validateSetOptions(t, e) {\n  if (void 0 === e) return {\n    merge: !1\n  };\n  if (__PRIVATE_validateOptionNames(t, e, [\"merge\", \"mergeFields\"]), __PRIVATE_validateNamedOptionalType(t, \"boolean\", \"merge\", e.merge), __PRIVATE_validateOptionalArrayElements(t, \"mergeFields\", \"a string or a FieldPath\", e.mergeFields, function (t) {\n    return \"string\" == typeof t || t instanceof FieldPath$1;\n  }), void 0 !== e.mergeFields && void 0 !== e.merge) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Invalid options passed to function \" + t + '(): You cannot specify both \"merge\" and \"mergeFields\".');\n  return e;\n}\n\nfunction __PRIVATE_validateSnapshotOptions(t, e) {\n  return void 0 === e ? {} : (__PRIVATE_validateOptionNames(t, e, [\"serverTimestamps\"]), __PRIVATE_validateNamedOptionalPropertyEquals(t, \"options\", \"serverTimestamps\", e.serverTimestamps, [\"estimate\", \"previous\", \"none\"]), e);\n}\n\nfunction __PRIVATE_validateGetOptions(t, e) {\n  __PRIVATE_validateOptionalArgType(t, \"object\", 1, e), e && (__PRIVATE_validateOptionNames(t, e, [\"source\"]), __PRIVATE_validateNamedOptionalPropertyEquals(t, \"options\", \"source\", e.source, [\"default\", \"server\", \"cache\"]));\n}\n\nfunction __PRIVATE_validateReference(t, e, n) {\n  if (e instanceof DocumentReference) {\n    if (e.firestore !== n) throw new FirestoreError(Code.INVALID_ARGUMENT, \"Provided document reference is from a different Firestore instance.\");\n    return e;\n  }\n\n  throw __PRIVATE_invalidClassError(t, \"DocumentReference\", 1, e);\n}\n\nfunction __PRIVATE_changesFromSnapshot(t, e, n, r) {\n  if (n.$n.tt()) {\n    var i,\n        s = 0;\n    return n.docChanges.map(function (e) {\n      var o = new QueryDocumentSnapshot(t, e.doc.key, e.doc, n.fromCache, n.Yn.has(e.doc.key), r);\n      return assert(e.type === __PRIVATE_ChangeType.Un, \"Invalid event type for first snapshot\"), assert(!i || n.query.En(i, e.doc) < 0, \"Got added events in wrong order\"), i = e.doc, {\n        type: \"added\",\n        doc: o,\n        oldIndex: -1,\n        newIndex: s++\n      };\n    });\n  }\n\n  var o = n.$n;\n  return n.docChanges.filter(function (t) {\n    return e || t.type !== __PRIVATE_ChangeType.Kn;\n  }).map(function (e) {\n    var i = new QueryDocumentSnapshot(t, e.doc.key, e.doc, n.fromCache, n.Yn.has(e.doc.key), r),\n        s = -1,\n        u = -1;\n    return e.type !== __PRIVATE_ChangeType.Un && (assert((s = o.indexOf(e.doc.key)) >= 0, \"Index for document not found\"), o = o.delete(e.doc.key)), e.type !== __PRIVATE_ChangeType.kn && (u = (o = o.add(e.doc)).indexOf(e.doc.key)), {\n      type: __PRIVATE_resultChangeType(e.type),\n      doc: i,\n      oldIndex: s,\n      newIndex: u\n    };\n  });\n}\n\nfunction __PRIVATE_resultChangeType(t) {\n  switch (t) {\n    case __PRIVATE_ChangeType.Un:\n      return \"added\";\n\n    case __PRIVATE_ChangeType.xn:\n    case __PRIVATE_ChangeType.Kn:\n      return \"modified\";\n\n    case __PRIVATE_ChangeType.kn:\n      return \"removed\";\n\n    default:\n      return fail(\"Unknown change type: \" + t);\n  }\n}\n\nfunction __PRIVATE_applyFirestoreDataConverter(t, e, n) {\n  var r;\n  return t ? (r = t.toFirestore(e), n = \"toFirestore() in \" + n) : r = e, [r, n];\n}\n\nvar __PRIVATE_PublicFirestore = __PRIVATE_makeConstructorPrivate(Firestore, \"Use firebase.firestore() instead.\"),\n    __PRIVATE_PublicTransaction = __PRIVATE_makeConstructorPrivate(Transaction$1, \"Use firebase.firestore().runTransaction() instead.\"),\n    __PRIVATE_PublicWriteBatch = __PRIVATE_makeConstructorPrivate(WriteBatch, \"Use firebase.firestore().batch() instead.\"),\n    __PRIVATE_PublicDocumentReference = __PRIVATE_makeConstructorPrivate(DocumentReference, \"Use firebase.firestore().doc() instead.\"),\n    __PRIVATE_PublicDocumentSnapshot = __PRIVATE_makeConstructorPrivate(DocumentSnapshot),\n    __PRIVATE_PublicQueryDocumentSnapshot = __PRIVATE_makeConstructorPrivate(QueryDocumentSnapshot),\n    __PRIVATE_PublicQuery = __PRIVATE_makeConstructorPrivate(Query$1),\n    __PRIVATE_PublicQuerySnapshot = __PRIVATE_makeConstructorPrivate(QuerySnapshot),\n    __PRIVATE_PublicCollectionReference = __PRIVATE_makeConstructorPrivate(CollectionReference, \"Use firebase.firestore().collection() instead.\"),\n    __PRIVATE_firestoreNamespace = {\n  Firestore: __PRIVATE_PublicFirestore,\n  GeoPoint: GeoPoint,\n  Timestamp: Timestamp,\n  Blob: __PRIVATE_PublicBlob,\n  Transaction: __PRIVATE_PublicTransaction,\n  WriteBatch: __PRIVATE_PublicWriteBatch,\n  DocumentReference: __PRIVATE_PublicDocumentReference,\n  DocumentSnapshot: __PRIVATE_PublicDocumentSnapshot,\n  Query: __PRIVATE_PublicQuery,\n  QueryDocumentSnapshot: __PRIVATE_PublicQueryDocumentSnapshot,\n  QuerySnapshot: __PRIVATE_PublicQuerySnapshot,\n  CollectionReference: __PRIVATE_PublicCollectionReference,\n  FieldPath: FieldPath$1,\n  FieldValue: __PRIVATE_PublicFieldValue,\n  setLogLevel: Firestore.setLogLevel,\n  CACHE_SIZE_UNLIMITED: CACHE_SIZE_UNLIMITED\n};\n\nfunction __PRIVATE_configureForFirebase(t) {\n  t.INTERNAL.registerComponent(new component.Component(\"firestore\", function (t) {\n    var e = t.getProvider(\"app\").getImmediate();\n    return new Firestore(e, t.getProvider(\"auth-internal\"));\n  }, \"PUBLIC\").setServiceProps(__PRIVATE_shallowCopy(__PRIVATE_firestoreNamespace)));\n}\n\nvar __PRIVATE_NoopConnectivityMonitor = function () {\n  function t() {}\n\n  return t.prototype.Nl = function (t) {}, t.prototype.shutdown = function () {}, t;\n}(),\n    __PRIVATE_LOG_TAG$c = \"ConnectivityMonitor\",\n    __PRIVATE_BrowserConnectivityMonitor = function () {\n  function t() {\n    var t = this;\n    this.OP = function () {\n      return t.FP();\n    }, this.NP = function () {\n      return t.MP();\n    }, this.LP = [], this.GP();\n  }\n\n  return t.prototype.Nl = function (t) {\n    this.LP.push(t);\n  }, t.prototype.shutdown = function () {\n    window.removeEventListener(\"online\", this.OP), window.removeEventListener(\"offline\", this.NP);\n  }, t.prototype.GP = function () {\n    window.addEventListener(\"online\", this.OP), window.addEventListener(\"offline\", this.NP);\n  }, t.prototype.FP = function () {\n    debug(__PRIVATE_LOG_TAG$c, \"Network connectivity changed: AVAILABLE\");\n\n    for (var t = 0, e = this.LP; t < e.length; t++) {\n      (0, e[t])(0);\n    }\n  }, t.prototype.MP = function () {\n    debug(__PRIVATE_LOG_TAG$c, \"Network connectivity changed: UNAVAILABLE\");\n\n    for (var t = 0, e = this.LP; t < e.length; t++) {\n      (0, e[t])(1);\n    }\n  }, t.Xo = function () {\n    return \"undefined\" != typeof window && void 0 !== window.addEventListener && void 0 !== window.removeEventListener;\n  }, t;\n}(),\n    __PRIVATE_StreamBridge = function () {\n  function t(t) {\n    this.BP = t.BP, this.UP = t.UP;\n  }\n\n  return t.prototype.mf = function (t) {\n    assert(!this.kP, \"Called onOpen on stream twice!\"), this.kP = t;\n  }, t.prototype.Pf = function (t) {\n    assert(!this.xP, \"Called onClose on stream twice!\"), this.xP = t;\n  }, t.prototype.onMessage = function (t) {\n    assert(!this.KP, \"Called onMessage on stream twice!\"), this.KP = t;\n  }, t.prototype.close = function () {\n    this.UP();\n  }, t.prototype.send = function (t) {\n    this.BP(t);\n  }, t.prototype.jP = function () {\n    assert(void 0 !== this.kP, \"Cannot call onOpen because no callback was set\"), this.kP();\n  }, t.prototype.qP = function (t) {\n    assert(void 0 !== this.xP, \"Cannot call onClose because no callback was set\"), this.xP(t);\n  }, t.prototype.QP = function (t) {\n    assert(void 0 !== this.KP, \"Cannot call onMessage because no callback was set\"), this.KP(t);\n  }, t;\n}(),\n    __PRIVATE_LOG_TAG$d = \"Connection\",\n    __PRIVATE_RPC_STREAM_SERVICE = \"google.firestore.v1.Firestore\",\n    __PRIVATE_RPC_URL_VERSION = \"v1\",\n    __PRIVATE_RPC_NAME_REST_MAPPING = {\n  BatchGetDocuments: \"batchGet\",\n  Commit: \"commit\"\n},\n    __PRIVATE_X_GOOG_API_CLIENT_VALUE = \"gl-js/ fire/\" + SDK_VERSION,\n    __PRIVATE_XHR_TIMEOUT_SECS = 15,\n    __PRIVATE_WebChannelConnection = function () {\n  function t(t) {\n    this.o = t.o;\n    var e = t.ssl ? \"https\" : \"http\";\n    this.WP = e + \"://\" + t.host, this.forceLongPolling = t.forceLongPolling;\n  }\n\n  return t.prototype.$P = function (t, e) {\n    if (e) for (var n in e.v) e.v.hasOwnProperty(n) && (t[n] = e.v[n]);\n    t[\"X-Goog-Api-Client\"] = __PRIVATE_X_GOOG_API_CLIENT_VALUE;\n  }, t.prototype.Nf = function (t, e, n) {\n    var r = this,\n        i = this.YP(t);\n    return new Promise(function (s, o) {\n      var u = new webchannelWrapper.XhrIo();\n      u.listenOnce(webchannelWrapper.EventType.COMPLETE, function () {\n        try {\n          switch (u.getLastErrorCode()) {\n            case webchannelWrapper.ErrorCode.NO_ERROR:\n              var e = u.getResponseJson();\n              debug(__PRIVATE_LOG_TAG$d, \"XHR received:\", JSON.stringify(e)), s(e);\n              break;\n\n            case webchannelWrapper.ErrorCode.TIMEOUT:\n              debug(__PRIVATE_LOG_TAG$d, 'RPC \"' + t + '\" timed out'), o(new FirestoreError(Code.DEADLINE_EXCEEDED, \"Request time out\"));\n              break;\n\n            case webchannelWrapper.ErrorCode.HTTP_ERROR:\n              var n = u.getStatus();\n\n              if (debug(__PRIVATE_LOG_TAG$d, 'RPC \"' + t + '\" failed with status:', n, \"response text:\", u.getResponseText()), n > 0) {\n                var r = u.getResponseJson().error;\n\n                if (r && r.status && r.message) {\n                  var i = __PRIVATE_mapCodeFromHttpResponseErrorStatus(r.status);\n\n                  o(new FirestoreError(i, r.message));\n                } else o(new FirestoreError(Code.UNKNOWN, \"Server responded with status \" + u.getStatus()));\n              } else debug(__PRIVATE_LOG_TAG$d, 'RPC \"' + t + '\" failed'), o(new FirestoreError(Code.UNAVAILABLE, \"Connection failed.\"));\n\n              break;\n\n            default:\n              fail('RPC \"' + t + '\" failed with unanticipated webchannel error ' + u.getLastErrorCode() + \": \" + u.getLastError() + \", giving up.\");\n          }\n        } finally {\n          debug(__PRIVATE_LOG_TAG$d, 'RPC \"' + t + '\" completed.');\n        }\n      });\n\n      var a = tslib.__assign({}, e);\n\n      delete a.database;\n\n      var _ = JSON.stringify(a);\n\n      debug(__PRIVATE_LOG_TAG$d, \"XHR sending: \", i + \" \" + _);\n      var c = {\n        \"Content-Type\": \"text/plain\"\n      };\n      r.$P(c, n), u.send(i, \"POST\", _, c, __PRIVATE_XHR_TIMEOUT_SECS);\n    });\n  }, t.prototype.Mf = function (t, e, n) {\n    return this.Nf(t, e, n);\n  }, t.prototype.vf = function (t, e) {\n    var n = [this.WP, \"/\", __PRIVATE_RPC_STREAM_SERVICE, \"/\", t, \"/channel\"],\n        r = webchannelWrapper.createWebChannelTransport(),\n        i = {\n      backgroundChannelTest: !0,\n      httpSessionIdParam: \"gsessionid\",\n      initMessageHeaders: {},\n      messageUrlParams: {\n        database: \"projects/\" + this.o.projectId + \"/databases/\" + this.o.database\n      },\n      sendRawJson: !0,\n      supportsCrossDomainXhr: !0,\n      internalChannelParams: {\n        forwardChannelRequestTimeoutMs: 6e5\n      },\n      forceLongPolling: this.forceLongPolling\n    };\n    this.$P(i.initMessageHeaders, e), util.isMobileCordova() || util.isReactNative() || util.isElectron() || util.isIE() || util.isUWP() || util.isBrowserExtension() || (i.httpHeadersOverwriteParam = \"$httpHeaders\");\n    var s = n.join(\"\");\n    debug(__PRIVATE_LOG_TAG$d, \"Creating WebChannel: \" + s + \" \" + i);\n\n    var o = r.createWebChannel(s, i),\n        u = !1,\n        a = !1,\n        _ = new __PRIVATE_StreamBridge({\n      BP: function (t) {\n        a ? debug(__PRIVATE_LOG_TAG$d, \"Not sending because WebChannel is closed:\", t) : (u || (debug(__PRIVATE_LOG_TAG$d, \"Opening WebChannel transport.\"), o.open(), u = !0), debug(__PRIVATE_LOG_TAG$d, \"WebChannel sending:\", t), o.send(t));\n      },\n      UP: function () {\n        return o.close();\n      }\n    }),\n        c = function (t, e) {\n      o.listen(t, function (t) {\n        try {\n          e(t);\n        } catch (t) {\n          setTimeout(function () {\n            throw t;\n          }, 0);\n        }\n      });\n    };\n\n    return c(webchannelWrapper.WebChannel.EventType.OPEN, function () {\n      a || debug(__PRIVATE_LOG_TAG$d, \"WebChannel transport opened.\");\n    }), c(webchannelWrapper.WebChannel.EventType.CLOSE, function () {\n      a || (a = !0, debug(__PRIVATE_LOG_TAG$d, \"WebChannel transport closed\"), _.qP());\n    }), c(webchannelWrapper.WebChannel.EventType.ERROR, function (t) {\n      a || (a = !0, debug(__PRIVATE_LOG_TAG$d, \"WebChannel transport errored:\", t), _.qP(new FirestoreError(Code.UNAVAILABLE, \"The operation could not be completed\")));\n    }), c(webchannelWrapper.WebChannel.EventType.MESSAGE, function (t) {\n      var e;\n\n      if (!a) {\n        var n = t.data[0];\n        assert(!!n, \"Got a webchannel message without data.\");\n        var r = n,\n            i = r.error || (null === (e = r[0]) || void 0 === e ? void 0 : e.error);\n\n        if (i) {\n          debug(__PRIVATE_LOG_TAG$d, \"WebChannel received error:\", i);\n\n          var s = i.status,\n              u = __PRIVATE_mapCodeFromRpcStatus(s),\n              c = i.message;\n\n          void 0 === u && (u = Code.INTERNAL, c = \"Unknown error status: \" + s + \" with message \" + i.message), a = !0, _.qP(new FirestoreError(u, c)), o.close();\n        } else debug(__PRIVATE_LOG_TAG$d, \"WebChannel received:\", n), _.QP(n);\n      }\n    }), setTimeout(function () {\n      _.jP();\n    }, 0), _;\n  }, t.prototype.YP = function (t) {\n    var e = __PRIVATE_RPC_NAME_REST_MAPPING[t];\n    return assert(void 0 !== e, \"Unknown REST mapping for: \" + t), this.WP + \"/\" + __PRIVATE_RPC_URL_VERSION + \"/projects/\" + this.o.projectId + \"/databases/\" + this.o.database + \"/documents:\" + e;\n  }, t;\n}(),\n    __PRIVATE_BrowserPlatform = function () {\n  function t() {\n    this.zr = \"\", this.ds = \"undefined\" != typeof atob;\n  }\n\n  return Object.defineProperty(t.prototype, \"document\", {\n    get: function () {\n      return \"undefined\" != typeof document ? document : null;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), Object.defineProperty(t.prototype, \"window\", {\n    get: function () {\n      return \"undefined\" != typeof window ? window : null;\n    },\n    enumerable: !0,\n    configurable: !0\n  }), t.prototype.yE = function (t) {\n    return Promise.resolve(new __PRIVATE_WebChannelConnection(t));\n  }, t.prototype.DE = function () {\n    return __PRIVATE_BrowserConnectivityMonitor.Xo() ? new __PRIVATE_BrowserConnectivityMonitor() : new __PRIVATE_NoopConnectivityMonitor();\n  }, t.prototype.CE = function (t) {\n    return new __PRIVATE_JsonProtoSerializer(t, {\n      Jr: !0\n    });\n  }, t.prototype.i = function (t) {\n    return JSON.stringify(t);\n  }, t.prototype.atob = function (t) {\n    return atob(t);\n  }, t.prototype.btoa = function (t) {\n    return btoa(t);\n  }, t;\n}();\n\n__PRIVATE_PlatformSupport.ls(new __PRIVATE_BrowserPlatform());\n\nvar name = \"@firebase/firestore\",\n    version = \"1.11.0\";\n\nfunction __PRIVATE_registerFirestore(t) {\n  __PRIVATE_configureForFirebase(t), t.registerVersion(name, version);\n}\n\n__PRIVATE_registerFirestore(firebase), exports.__PRIVATE_registerFirestore = __PRIVATE_registerFirestore;","map":{"version":3,"sources":["/Users/nicolegibson/TrainingRepos/clothing-ecomm/node_modules/@firebase/firestore/dist/index.cjs.js"],"names":["_interopDefault","t","default","Object","defineProperty","exports","value","LogLevel","firebase","require","tslib","logger","util","component","webchannelWrapper","SDK_VERSION","__PRIVATE_logClient","Logger","__PRIVATE_getLogLevel","logLevel","DEBUG","SILENT","ERROR","setLogLevel","error","debug","e","n","r","arguments","length","i","map","__PRIVATE_argToString","apply","__spreadArrays","__PRIVATE_PlatformSupport","fail","Error","assert","__PRIVATE_AutoId","s","charAt","Math","floor","random","__PRIVATE_primitiveComparator","equals","isEqual","__PRIVATE_arrayEquals","__PRIVATE_immediateSuccessor","__PRIVATE_OnlineState","__PRIVATE_OnlineStateSource","__PRIVATE_DatabaseInfo","o","persistenceKey","host","ssl","forceLongPolling","__PRIVATE_DEFAULT_DATABASE_NAME","__PRIVATE_DatabaseId","projectId","database","prototype","get","enumerable","configurable","_","h","l","T","P","A","User","uid","R","I","UNAUTHENTICATED","V","m","Code","OK","CANCELLED","UNKNOWN","INVALID_ARGUMENT","DEADLINE_EXCEEDED","NOT_FOUND","ALREADY_EXISTS","PERMISSION_DENIED","RESOURCE_EXHAUSTED","FAILED_PRECONDITION","ABORTED","OUT_OF_RANGE","UNIMPLEMENTED","INTERNAL","UNAVAILABLE","DATA_LOSS","FirestoreError","call","code","message","name","toString","__extends","__PRIVATE_OAuthToken","user","type","v","Authorization","__PRIVATE_EmptyCredentialsProvider","p","getToken","Promise","resolve","g","S","D","__PRIVATE_FirebaseCredentialsProvider","C","currentUser","O","F","forceRefresh","N","auth","getImmediate","optional","addAuthTokenListener","then","accessToken","removeAuthTokenListener","getUid","__PRIVATE_FirstPartyToken","M","L","G","__PRIVATE_FirstPartyCredentialsProvider","__PRIVATE_makeCredentialsProvider","B","getAuthHeaderValueForFirstParty","contains","hasOwnProperty","__PRIVATE_defaulted","__PRIVATE_forEachNumber","Number","isNaN","values","forEach","push","__PRIVATE_isEmpty","__PRIVATE_shallowCopy","__PRIVATE_validateNoArgs","__PRIVATE_formatPlural","__PRIVATE_validateExactNumberOfArgs","__PRIVATE_validateAtLeastNumberOfArgs","__PRIVATE_validateBetweenNumberOfArgs","__PRIVATE_validateNamedArrayAtLeastNumberOfElements","Array","__PRIVATE_validateArgType","__PRIVATE_validateType","__PRIVATE_ordinal","__PRIVATE_validateOptionalArgType","__PRIVATE_validateNamedType","__PRIVATE_validateNamedOptionalType","__PRIVATE_validateArrayElements","__PRIVATE_valueDescription","__PRIVATE_validateOptionalArrayElements","__PRIVATE_validateNamedPropertyEquals","u","a","join","__PRIVATE_validateNamedOptionalPropertyEquals","__PRIVATE_validateStringEnum","some","__PRIVATE_isPlainObject","getPrototypeOf","substring","JSON","stringify","__PRIVATE_tryGetCustomObjectType","constructor","exec","__PRIVATE_validateDefined","__PRIVATE_validateOptionNames","indexOf","__PRIVATE_invalidClassError","__PRIVATE_validatePositiveNumber","GeoPoint","isFinite","U","k","K","Timestamp","seconds","nanoseconds","now","fromMillis","Date","fromDate","getTime","toDate","toMillis","__PRIVATE_SnapshotVersion","timestamp","j","q","W","MIN","$","Y","__PRIVATE_DOCUMENT_KEY_NAME","__PRIVATE_BasePath","segments","offset","len","H","child","slice","limit","X","J","Z","tt","et","nt","rt","it","st","min","ResourcePath","ot","ut","split","filter","at","__PRIVATE_identifierRegExp","FieldPath","_t","test","replace","ct","ht","ft","__PRIVATE_DocumentKey","path","lt","dt","Tt","Et","EMPTY","__PRIVATE_SortedMap","root","__PRIVATE_LLRBNode","Pt","copy","At","remove","key","left","right","size","Rt","It","Vt","vt","pt","__PRIVATE_SortedMapIterator","bt","gt","wt","yt","St","Dt","pop","Ct","Ot","color","RED","Ft","Nt","Mt","Lt","Gt","Bt","Ut","kt","xt","Kt","pow","__PRIVATE_LLRBEmptyNode","__PRIVATE_SortedSet","data","jt","add","has","first","last","qt","Qt","Wt","__PRIVATE_SortedSetIterator","delete","$t","Yt","__PRIVATE_ServerTimestampTransform","Ht","__PRIVATE_ServerTimestampValue","Xt","zt","instance","__PRIVATE_ArrayUnionTransformOperation","elements","__PRIVATE_coercedFieldValuesArray","find","ArrayValue","__PRIVATE_ArrayRemoveTransformOperation","__PRIVATE_NumericIncrementTransformOperation","Jt","__PRIVATE_IntegerValue","Zt","__PRIVATE_DoubleValue","__PRIVATE_NumberValue","__PRIVATE_MutationType","__PRIVATE_FieldMask","fields","te","ee","ne","FieldTransform","field","transform","__PRIVATE_MutationResult","version","transformResults","Set","re","Transform","ie","Verify","__PRIVATE_TypeOrder","__PRIVATE_ServerTimestampBehavior","Precondition","updateTime","exists","oe","Document","se","NONE","__PRIVATE_Mutation","ue","ae","__PRIVATE_SetMutation","_e","hasCommittedMutations","ce","he","__PRIVATE_PatchMutation","fe","__PRIVATE_UnknownDocument","le","__PRIVATE_ObjectValue","de","set","__PRIVATE_TransformMutation","fieldTransforms","Te","Ee","Pe","Ae","__PRIVATE_DeleteMutation","__PRIVATE_NoDocument","__PRIVATE_VerifyMutation","Re","Ie","Ve","me","ve","pe","be","ge","we","ye","Se","De","__PRIVATE_FieldValueOptions","Ce","timestampsInSnapshots","Oe","serverTimestamps","FieldValue","Fe","Ne","__PRIVATE_NullValue","Me","Le","__PRIVATE_BooleanValue","of","Ge","Be","__PRIVATE_numericComparator","__PRIVATE_numericEquals","Ue","NaN","POSITIVE_INFINITY","NEGATIVE_INFINITY","__PRIVATE_StringValue","__PRIVATE_TimestampValue","ke","previousValue","__PRIVATE_BlobValue","xe","__PRIVATE_RefValue","__PRIVATE_GeoPointValue","Ke","reduce","__PRIVATE_MaybeDocument","je","qe","proto","converter","Qe","Map","We","mapValue","$e","__PRIVATE_NumberAsAny","MIN_SAFE_INTEGER","MAX_SAFE_INTEGER","isInteger","isNullOrUndefined","isSafeInteger","__PRIVATE_LimitType","Target","collectionGroup","orderBy","filters","startAt","endAt","Ye","canonicalId","He","Xe","ze","__PRIVATE_TargetPurpose","Query","Je","Ze","tn","en","nn","rn","in","sn","__PRIVATE_KEY_ORDERING_ASC","__PRIVATE_OrderBy","dir","__PRIVATE_Direction","ASCENDING","__PRIVATE_KEY_ORDERING_DESC","on","FieldFilter","un","concat","an","_n","cn","hn","fn","ln","dn","Tn","En","compare","matches","Pn","An","Rn","In","Vn","mn","vn","op","pn","DESCENDING","__PRIVATE_Bound","position","before","bn","Filter","__PRIVATE_Operator","LESS_THAN","LESS_THAN_OR_EQUAL","EQUAL","GREATER_THAN_OR_EQUAL","GREATER_THAN","ARRAY_CONTAINS","IN","ARRAY_CONTAINS_ANY","create","every","__PRIVATE_KeyFieldInFilter","__PRIVATE_KeyFieldFilter","__PRIVATE_ArrayContainsFilter","__PRIVATE_InFilter","__PRIVATE_ArrayContainsAnyFilter","gn","wn","yn","Sn","Dn","__PRIVATE_RpcCode","__PRIVATE_TargetData","__PRIVATE_emptyByteString","target","targetId","Cn","sequenceNumber","On","lastLimboFreeSnapshotVersion","resumeToken","Fn","Nn","Mn","ExistenceFilter","count","__PRIVATE_isPermanentError","__PRIVATE_isPermanentWriteError","__PRIVATE_mapCodeFromRpcStatus","__PRIVATE_mapCodeFromRpcCode","__PRIVATE_mapRpcCodeFromCode","__PRIVATE_mapCodeFromHttpResponseErrorStatus","toLowerCase","__PRIVATE_EMPTY_MAYBE_DOCUMENT_MAP","__PRIVATE_maybeDocumentMap","__PRIVATE_nullableMaybeDocumentMap","__PRIVATE_EMPTY_DOCUMENT_MAP","__PRIVATE_documentMap","__PRIVATE_EMPTY_DOCUMENT_VERSION_MAP","__PRIVATE_documentVersionMap","__PRIVATE_EMPTY_DOCUMENT_KEY_SET","__PRIVATE_documentKeySet","__PRIVATE_EMPTY_TARGET_ID_SET","__PRIVATE_targetIdSet","__PRIVATE_ChangeType","__PRIVATE_SyncState","__PRIVATE_DocumentSet","Ln","Gn","Bn","Un","kn","xn","Kn","jn","qn","__PRIVATE_WatchTargetChangeState","__PRIVATE_DocumentChangeSet","Qn","track","doc","Wn","__PRIVATE_ViewSnapshot","query","docs","$n","docChanges","Yn","fromCache","Hn","Xn","zn","__PRIVATE_RemoteEvent","Jn","Zn","tr","er","nr","TargetChange","rr","ir","sr","or","ur","__PRIVATE_DocumentWatchChange","ar","removedTargetIds","_r","__PRIVATE_ExistenceFilterChange","cr","hr","lr","dr","__PRIVATE_WatchTargetChange","state","targetIds","cause","__PRIVATE_TargetState","Tr","Er","__PRIVATE_snapshotChangesMap","Pr","Ar","Rr","mr","vr","pr","br","gr","wr","yr","Sr","__PRIVATE_LOG_TAG","__PRIVATE_WatchChangeAggregator","Dr","Cr","Or","Fr","__PRIVATE_documentTargetMap","Nr","Mr","Lr","Gr","Br","Ur","kr","xr","Ir","removeTarget","Kr","jr","qr","Qr","Wr","$r","Vr","Yr","Hr","Xr","__PRIVATE_DIRECTIONS","__PRIVATE_OPERATORS","__PRIVATE_ISO_REG_EXP","RegExp","__PRIVATE_assertPresent","__PRIVATE_parseInt64","__PRIVATE_JsonProtoSerializer","options","zr","Jr","Uint8Array","Zr","ti","ei","ni","toISOString","nanos","ri","substr","ii","toBase64","toUint8Array","si","Blob","fromBase64String","fromUint8Array","toVersion","fromVersion","oi","ui","ai","_i","ci","hi","fi","li","di","Ei","nullValue","booleanValue","integerValue","doubleValue","stringValue","Pi","arrayValue","Ai","timestampValue","geoPointValue","latitude","longitude","bytesValue","referenceValue","Ri","Ii","Vi","mi","vi","pi","bi","found","gi","missing","readTime","wi","yi","Si","documentChange","document","documentDelete","documentRemove","targetChange","targetChangeType","Di","Ci","c","f","d","E","Oi","Fi","update","updateMask","Ni","Mi","verify","currentDocument","Li","Gi","Bi","Ui","ki","xi","Ki","fieldPath","setToServerValue","appendMissingElements","removeAllFromArray","increment","ji","documents","qi","Qi","structuredQuery","parent","from","collectionId","allDescendants","Wi","where","$i","Yi","Hi","Xi","zi","Ji","Zi","ts","es","compositeFilter","unaryFilter","ns","fieldFilter","rs","ss","os","us","as","_s","cs","hs","fs","direction","fieldPaths","ls","platform","__PRIVATE_makeConstructorPrivate","__PRIVATE_assertUint8ArrayAvailable","__PRIVATE_assertBase64Available","ds","__PRIVATE_TimerId","Ts","atob","String","fromCharCode","btoa","charCodeAt","__PRIVATE_PublicBlob","__PRIVATE_ListenSequence","Es","Ps","As","Rs","max","next","Is","__PRIVATE_Deferred","promise","reject","Vs","ms","vs","ps","bs","gs","ws","ys","Ss","__PRIVATE_DelayedOperation","Ds","Cs","Os","Fs","Ns","bind","catch","Ms","start","Ls","setTimeout","Gs","Bs","cancel","clearTimeout","Us","__PRIVATE_AsyncQueue","ks","xs","Ks","js","qs","Qs","enqueue","$s","Ys","Hs","Xs","zs","__awaiter","__generator","label","sent","stack","Js","Zs","to","eo","no","ro","sort","io","splice","__PRIVATE_escapeChar","__PRIVATE_encodedSeparatorChar","__PRIVATE_encodedNul","__PRIVATE_encodedEscape","encode","__PRIVATE_encodeSeparator","__PRIVATE_encodeSegment","decode","__PRIVATE_BATCHID_UNKNOWN","__PRIVATE_MutationBatch","batchId","baseMutations","mutations","so","oo","keys","__PRIVATE_MutationBatchResult","batch","uo","streamToken","ao","__PRIVATE_ReferenceSet","_o","__PRIVATE_DocReference","co","ho","fo","lo","do","To","Eo","Po","Ao","Ro","Io","Vo","__PRIVATE_ObjectMap","mo","vo","PersistencePromise","po","bo","result","wo","yo","So","Do","Co","Oo","Fo","No","__PRIVATE_RemoteDocumentChangeBuffer","Mo","Lo","Go","Bo","Uo","ko","xo","Ko","getEntries","jo","qo","__PRIVATE_PRIMARY_LEASE_LOST_ERROR_MSG","__PRIVATE_PersistenceTransaction","Qo","Wo","$o","__PRIVATE_LOG_TAG$1","__PRIVATE_TRANSACTION_RETRY_COUNT","__PRIVATE_SimpleDb","db","Yo","getUA","Ho","Xo","window","indexedDB","open","onsuccess","onblocked","onerror","onupgradeneeded","oldVersion","createOrUpgrade","transaction","SCHEMA_VERSION","__PRIVATE_wrapRequest","deleteDatabase","zo","navigator","Jo","process","env","Zo","tu","store","match","eu","onversionchange","runTransaction","startsWith","endsWith","__PRIVATE_SimpleDbTransaction","trys","abort","nu","close","__PRIVATE_IterationController","ru","iu","su","done","uu","aborted","au","oncomplete","onabort","__PRIVATE_checkForAndReportiOSError","objectStore","__PRIVATE_SimpleDbStore","put","_u","cursor","cu","hu","fu","lu","du","primaryKey","continue","ou","index","range","reverse","openKeyCursor","openCursor","__PRIVATE_reportedIOSError","__PRIVATE_IndexedDbMutationQueue","userId","serializer","Tu","Eu","Pu","Au","Ru","IDBKeyRange","bound","__PRIVATE_mutationsStore","DbMutationBatch","userMutationsIndex","Iu","Vu","lastStreamToken","__PRIVATE_convertStreamToken","__PRIVATE_mutationQueuesStore","mu","vu","pu","__PRIVATE_documentMutationsStore","bu","DbDocumentMutation","PLACEHOLDER","gu","wu","yu","Su","Du","lowerBound","Cu","upperBound","Ou","Fu","prefixForPath","Nu","Mu","Lu","Gu","__PRIVATE_removeMutationBatch","Bu","Uu","ku","xu","prefixForUser","__PRIVATE_mutationQueueContainsKey","DbMutationQueue","__PRIVATE_mutationQueuesContainKey","only","__PRIVATE_IndexedDbPersistence","__PRIVATE_GeneratorIds","__PRIVATE_RESERVED_BITS","Ku","ju","__PRIVATE_TargetIdGenerator","qu","Qu","Wu","after","$u","Yu","__PRIVATE_LocalDocumentsView","Hu","Xu","zu","Ju","Zu","ta","ea","na","ra","ia","sa","oa","ua","__PRIVATE_LocalViewChanges","aa","_a","ca","__PRIVATE_LOG_TAG$2","__PRIVATE_LocalStore","persistence","ha","fa","la","da","Ta","Ea","Pa","Aa","Ra","Ia","Va","ma","va","pa","ba","ga","wa","ya","Sa","Da","Ca","Oa","Fa","Na","Ma","La","Ga","Ba","Ua","ka","xa","Ka","ja","hasPendingWrites","qa","Qa","Wa","$a","Ya","Ha","Xa","za","Ja","Za","t_","e_","n_","r_","i_","s_","o_","u_","a_","__","c_","h_","f_","l_","__PRIVATE_ignoreIfPrimaryLeaseLoss","__PRIVATE_bufferEntryComparator","__PRIVATE_RollingSequenceNumberBuffer","d_","buffer","T_","E_","P_","__PRIVATE_GC_DID_NOT_RUN","A_","R_","I_","V_","__PRIVATE_LruParams","m_","v_","p_","b_","g_","w_","y_","S_","D_","C_","DISABLED","__PRIVATE_INITIAL_GC_DELAY_MS","__PRIVATE_REGULAR_GC_DELAY_MS","__PRIVATE_LruScheduler","O_","F_","N_","M_","params","L_","stop","__PRIVATE_LruGarbageCollector","G_","B_","U_","k_","x_","maxValue","K_","j_","q_","Q_","__PRIVATE_IndexedDbTargetCache","W_","Y_","highestTargetId","H_","lastRemoteSnapshotVersion","X_","__PRIVATE_getHighestListenSequenceNumber","highestListenSequenceNumber","z_","targetCount","J_","Z_","tc","__PRIVATE_targetsStore","ec","__PRIVATE_retrieveMetadata","__PRIVATE_globalTargetStore","DbTargetGlobal","nc","rc","DbTarget","queryTargetsIndexName","__PRIVATE_documentTargetStore","DbTargetDocument","documentTargetsIndex","__PRIVATE_IndexedDbRemoteDocumentCache","__PRIVATE_remoteDocumentsStore","__PRIVATE_dbKey","updateMetadata","getMetadata","byteSize","ic","sc","oc","uc","__PRIVATE_dbDocumentSize","ac","_c","cc","hc","fc","DbRemoteDocument","collectionReadTimeIndex","lc","readTimeIndex","dc","Tc","Ec","__PRIVATE_documentGlobalStore","DbRemoteDocumentGlobal","Pc","Ac","Rc","unknownDocument","noDocument","__PRIVATE_MemoryIndexManager","Ic","__PRIVATE_MemoryCollectionParentIndex","SchemaConverter","__PRIVATE_createPrimaryClientStore","__PRIVATE_createMutationQueue","__PRIVATE_createQueryCache","__PRIVATE_createRemoteDocumentCache","__PRIVATE_dropQueryCache","__PRIVATE_writeEmptyTargetGlobalEntry","__PRIVATE_upgradeMutationBatchSchemaAndMigrateData","__PRIVATE_createClientMetadataStore","removeAcknowledgedMutations","__PRIVATE_createDocumentGlobalStore","addDocumentGlobal","ensureSequenceNumbers","createCollectionParentIndex","__PRIVATE_dropRemoteDocumentChangesStore","__PRIVATE_createRemoteDocumentReadTimeIndex","lastAcknowledgedBatchId","__PRIVATE_sentinelKey","createObjectStore","DbCollectionParent","keyPath","DbTimestamp","DbPrimaryClient","ownerId","allowTabSynchronization","leaseTimestampMs","localWriteTimeMs","userMutationsKeyPath","autoIncrement","createIndex","unique","deleteObjectStore","DbNoDocument","DbUnknownDocument","parentPath","readTimeIndexPath","collectionReadTimeIndexPath","lastListenSequenceNumber","queryTargetsKeyPath","documentTargetsKeyPath","objectStoreNames","DbClientMetadata","clientId","updateTimeMs","networkEnabled","inForeground","V1_STORES","V3_STORES","V4_STORES","V6_STORES","V8_STORES","ALL_STORES","__PRIVATE_IndexedDbIndexManager","Vc","__PRIVATE_collectionParentsStore","LocalSerializer","mc","vc","pc","bc","gc","__PRIVATE_isDocumentQuery","__PRIVATE_LOG_TAG$3","__PRIVATE_MAX_CLIENT_AGE_MS","__PRIVATE_MAX_PRIMARY_ELIGIBLE_AGE_MS","__PRIVATE_CLIENT_METADATA_REFRESH_INTERVAL_MS","__PRIVATE_PRIMARY_LEASE_EXCLUSIVE_ERROR_MSG","__PRIVATE_UNSUPPORTED_PLATFORM_ERROR_MSG","__PRIVATE_ZOMBIED_CLIENTS_KEY_PREFIX","__PRIVATE_IndexedDbTransaction","wc","yc","Sc","isPrimary","Dc","Cc","Oc","Fc","Nc","__PRIVATE_IndexedDbLruDelegate","Mc","Lc","localStorage","Gc","Bc","Uc","kc","xc","Kc","jc","qc","Qc","Wc","$c","newVersion","__PRIVATE_clientMetadataStore","Yc","Hc","Xc","zc","__PRIVATE_primaryClientStore","Jc","Zc","th","eh","nh","removeItem","rh","ih","shutdown","sh","oh","uh","ah","clearPersistence","_h","hh","addEventListener","visibilityState","removeEventListener","getItem","setItem","fh","lh","dh","__PRIVATE_writeSentinelKey","Th","__PRIVATE_sentinelKey$1","__PRIVATE_sentinelRow","__PRIVATE_IndexFreeQueryEngine","Eh","Ph","Ah","Rh","__PRIVATE_MemoryMutationQueue","Ih","Vh","mh","vh","ph","bh","shift","__PRIVATE_documentEntryMap","__PRIVATE_PersistentStreamState","__PRIVATE_MemoryRemoteDocumentCache","gh","wh","__PRIVATE_MemoryTargetCache","yh","Sh","Dh","__PRIVATE_LOG_TAG$4","__PRIVATE_MemoryPersistence","Ch","Oh","Fh","__PRIVATE_MemoryLruDelegate","Nh","__PRIVATE_MemoryEagerDelegate","__PRIVATE_MemoryTransaction","Mh","Lh","Gh","Bh","Uh","kh","xh","Kh","__PRIVATE_LOG_TAG$5","__PRIVATE_DEFAULT_BACKOFF_INITIAL_DELAY_MS","__PRIVATE_DEFAULT_BACKOFF_FACTOR","__PRIVATE_DEFAULT_BACKOFF_MAX_DELAY_MS","__PRIVATE_ExponentialBackoff","jh","qh","Qh","Wh","$h","Yh","reset","Hh","Xh","zh","__PRIVATE_LOG_TAG$6","Jh","Zh","tf","ef","__PRIVATE_IDLE_TIMEOUT_MS","__PRIVATE_PersistentStream","nf","connection","rf","listener","if","sf","stream","uf","af","_f","cf","hf","ff","lf","df","Tf","send","Ef","Pf","Af","Rf","If","Vf","mf","onMessage","__PRIVATE_PersistentListenStream","vf","pf","watch","Ti","addTarget","labels","bf","__PRIVATE_PersistentWriteStream","gf","yf","writeResults","commitTime","Sf","Df","Cf","writes","__PRIVATE_Datastore","credentials","Of","Ff","commit","Nf","lookup","Mf","FieldPath$1","Lf","documentId","Gf","__PRIVATE_RESERVED","__PRIVATE_fromDotSeparatedString","search","__PRIVATE_UserDataSource","__PRIVATE_FieldValueImpl","Bf","__PRIVATE_DeleteFieldValueImpl","serverTimestamp","__PRIVATE_ServerTimestampFieldValueImpl","arrayUnion","__PRIVATE_ArrayUnionFieldValueImpl","arrayRemove","__PRIVATE_ArrayRemoveFieldValueImpl","__PRIVATE_NumericIncrementFieldValueImpl","Uf","kf","__PRIVATE_PublicFieldValue","__PRIVATE_RESERVED_FIELD_REGEX","__PRIVATE_ParsedSetData","xf","__PRIVATE_ParsedUpdateData","__PRIVATE_isWrite","Kf","jf","qf","Qf","__PRIVATE_ParseContext","Wf","methodName","$f","Yf","Hf","Xf","zf","Jf","Zf","__PRIVATE_DocumentKeyReference","__PRIVATE_UserDataConverter","tl","el","__PRIVATE_validatePlainObject","nl","rl","__PRIVATE_fieldPathFromDotSeparatedString","il","sl","ol","__PRIVATE_fieldPathFromArgument","ul","__PRIVATE_errorMessage","__PRIVATE_looksLikeJsonObject","al","_l","cl","hl","fl","Transaction","ll","dl","Tl","El","Pl","Al","Rl","write","Il","__PRIVATE_LOG_TAG$7","__PRIVATE_MAX_WATCH_STREAM_FAILURES","__PRIVATE_ONLINE_STATE_TIMEOUT_MS","__PRIVATE_OnlineStateTracker","Vl","ml","vl","pl","bl","gl","wl","yl","Sl","__PRIVATE_LOG_TAG$8","__PRIVATE_MAX_PENDING_WRITES","__PRIVATE_RemoteStore","Dl","Cl","Ol","Fl","Nl","Ml","Ll","Gl","Bl","Ul","kl","xl","Kl","jl","ql","Ql","enableNetwork","Wl","$l","Yl","disableNetwork","Hl","Xl","listen","zl","Jl","Zl","td","ed","nd","rd","sd","od","ud","ad","_d","wf","hd","fd","ld","dd","Td","Ed","Pd","CLIENT_STATE_KEY_PREFIX","createWebStorageClientStateKey","MUTATION_BATCH_KEY_PREFIX","createWebStorageMutationBatchKey","QUERY_TARGET_KEY_PREFIX","createWebStorageQueryTargetMetadataKey","ONLINE_STATE_KEY_PREFIX","createWebStorageOnlineStateKey","SEQUENCE_NUMBER_KEY_PREFIX","createWebStorageSequenceNumberKey","__PRIVATE_LOG_TAG$9","__PRIVATE_MutationMetadata","Ad","parse","Rd","__PRIVATE_QueryTargetMetadata","__PRIVATE_RemoteClientState","activeTargetIds","__PRIVATE_SharedOnlineState","onlineState","__PRIVATE_LocalClientState","Id","Vd","__PRIVATE_WebStorageSharedClientState","md","vd","pd","bd","gd","storage","wd","yd","Sd","Dd","Cd","Od","Fd","Nd","Md","Ld","Gd","Bd","Ud","kd","xd","Kd","jd","qd","Qd","Wd","$d","Yd","Hd","Xd","storageArea","newValue","zd","Jd","Zd","tT","eT","nT","rT","__PRIVATE_fromWebStorageSequenceNumber","iT","sT","oT","__PRIVATE_MemorySharedClientState","uT","aT","__PRIVATE_AddedLimboDocument","__PRIVATE_RemovedLimboDocument","__PRIVATE_View","_T","cT","hT","fT","dT","TT","ET","__PRIVATE_compareChangeType","PT","AT","snapshot","RT","IT","VT","mT","vT","__PRIVATE_RETRY_COUNT","__PRIVATE_TransactionRunner","pT","updateFunction","bT","run","gT","wT","yT","ST","__PRIVATE_LOG_TAG$a","__PRIVATE_QueryView","view","__PRIVATE_LimboResolution","DT","__PRIVATE_SyncEngine","CT","OT","FT","NT","MT","LT","GT","BT","UT","kT","subscribe","KT","jT","qT","QT","WT","$T","YT","HT","XT","zT","JT","ZT","clear","tE","eE","nE","rE","all","iE","sE","oE","lT","__PRIVATE_QueryListenersInfo","uE","listeners","__PRIVATE_EventManager","aE","_E","cE","hE","onError","fE","lE","__PRIVATE_QueryListener","dE","TE","EE","includeMetadataChanges","PE","AE","RE","IE","__PRIVATE_LOG_TAG$b","__PRIVATE_DOM_EXCEPTION_INVALID_STATE","__PRIVATE_DOM_EXCEPTION_ABORTED","__PRIVATE_DOM_EXCEPTION_QUOTA_EXCEEDED","__PRIVATE_IndexedDbPersistenceSettings","cacheSizeBytes","synchronizeTabs","__PRIVATE_MemoryPersistenceSettings","__PRIVATE_FirestoreClient","VE","mE","vE","pE","bE","gE","console","warn","wE","DOMException","Ws","yE","SE","DE","CE","OE","terminate","waitForPendingWrites","FE","NE","ME","__PRIVATE_AsyncObserver","observer","muted","LE","GE","__PRIVATE_isPartialObserver","__PRIVATE_implementsAnyMethods","__PRIVATE_DEFAULT_HOST","__PRIVATE_DEFAULT_SSL","__PRIVATE_DEFAULT_TIMESTAMPS_IN_SNAPSHOTS","__PRIVATE_DEFAULT_FORCE_LONG_POLLING","CACHE_SIZE_UNLIMITED","__PRIVATE_DEFAULT_SYNCHRONIZE_TABS","__PRIVATE_FirestoreSettings","experimentalForceLongPolling","Firestore","BE","UE","kE","xE","KE","jE","qE","QE","WE","$E","YE","settings","enablePersistence","experimentalTabSynchronization","HE","XE","app","_removeServiceInstance","onSnapshotsInSync","JE","DocumentReference","firestore","ZE","collection","CollectionReference","tP","Query$1","Transaction$1","WriteBatch","eP","nP","rP","__PRIVATE_validateReference","DocumentSnapshot","iP","__PRIVATE_validateSetOptions","__PRIVATE_applyFirestoreDataConverter","merge","mergeFields","sP","oP","uP","onSnapshot","complete","aP","__PRIVATE_validateGetOptions","source","_P","metadata","withConverter","SnapshotMetadata","cP","hP","fP","__PRIVATE_validateSnapshotOptions","QueryDocumentSnapshot","fromFirestore","lP","dP","TP","EP","PP","AP","RP","IP","limitToLast","VP","startAfter","endBefore","mP","vP","pP","QuerySnapshot","isArray","bP","gP","wP","yP","SP","DP","__PRIVATE_changesFromSnapshot","__PRIVATE_throwDocChangesMethodError","__PRIVATE_docChangesPropertiesToOverride","Symbol","iterator","CP","toFirestore","oldIndex","newIndex","__PRIVATE_resultChangeType","__PRIVATE_PublicFirestore","__PRIVATE_PublicTransaction","__PRIVATE_PublicWriteBatch","__PRIVATE_PublicDocumentReference","__PRIVATE_PublicDocumentSnapshot","__PRIVATE_PublicQueryDocumentSnapshot","__PRIVATE_PublicQuery","__PRIVATE_PublicQuerySnapshot","__PRIVATE_PublicCollectionReference","__PRIVATE_firestoreNamespace","__PRIVATE_configureForFirebase","registerComponent","Component","getProvider","setServiceProps","__PRIVATE_NoopConnectivityMonitor","__PRIVATE_LOG_TAG$c","__PRIVATE_BrowserConnectivityMonitor","OP","FP","NP","MP","LP","GP","__PRIVATE_StreamBridge","BP","UP","kP","xP","KP","jP","qP","QP","__PRIVATE_LOG_TAG$d","__PRIVATE_RPC_STREAM_SERVICE","__PRIVATE_RPC_URL_VERSION","__PRIVATE_RPC_NAME_REST_MAPPING","BatchGetDocuments","Commit","__PRIVATE_X_GOOG_API_CLIENT_VALUE","__PRIVATE_XHR_TIMEOUT_SECS","__PRIVATE_WebChannelConnection","WP","$P","YP","XhrIo","listenOnce","EventType","COMPLETE","getLastErrorCode","ErrorCode","NO_ERROR","getResponseJson","TIMEOUT","HTTP_ERROR","getStatus","getResponseText","status","getLastError","__assign","createWebChannelTransport","backgroundChannelTest","httpSessionIdParam","initMessageHeaders","messageUrlParams","sendRawJson","supportsCrossDomainXhr","internalChannelParams","forwardChannelRequestTimeoutMs","isMobileCordova","isReactNative","isElectron","isIE","isUWP","isBrowserExtension","httpHeadersOverwriteParam","createWebChannel","WebChannel","OPEN","CLOSE","MESSAGE","__PRIVATE_BrowserPlatform","__PRIVATE_registerFirestore","registerVersion"],"mappings":"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","sourcesContent":["\"use strict\";function _interopDefault(t){return t&&\"object\"==typeof t&&\"default\"in t?t.default:t}Object.defineProperty(exports,\"__esModule\",{value:!0});var LogLevel,firebase=_interopDefault(require(\"@firebase/app\")),tslib=require(\"tslib\"),logger=require(\"@firebase/logger\"),util=require(\"@firebase/util\"),component=require(\"@firebase/component\"),webchannelWrapper=require(\"@firebase/webchannel-wrapper\"),SDK_VERSION=firebase.SDK_VERSION,__PRIVATE_logClient=new logger.Logger(\"@firebase/firestore\");function __PRIVATE_getLogLevel(){return __PRIVATE_logClient.logLevel===logger.LogLevel.DEBUG?LogLevel.DEBUG:__PRIVATE_logClient.logLevel===logger.LogLevel.SILENT?LogLevel.SILENT:LogLevel.ERROR}function setLogLevel(t){switch(t){case LogLevel.DEBUG:__PRIVATE_logClient.logLevel=logger.LogLevel.DEBUG;break;case LogLevel.ERROR:__PRIVATE_logClient.logLevel=logger.LogLevel.ERROR;break;case LogLevel.SILENT:__PRIVATE_logClient.logLevel=logger.LogLevel.SILENT;break;default:__PRIVATE_logClient.error(\"Firestore (\"+SDK_VERSION+\"): Invalid value passed to `setLogLevel`\")}}function debug(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(__PRIVATE_logClient.logLevel<=logger.LogLevel.DEBUG){var i=n.map(__PRIVATE_argToString);__PRIVATE_logClient.debug.apply(__PRIVATE_logClient,tslib.__spreadArrays([\"Firestore (\"+SDK_VERSION+\") [\"+t+\"]: \"+e],i))}}function error(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(__PRIVATE_logClient.logLevel<=logger.LogLevel.ERROR){var r=e.map(__PRIVATE_argToString);__PRIVATE_logClient.error.apply(__PRIVATE_logClient,tslib.__spreadArrays([\"Firestore (\"+SDK_VERSION+\"): \"+t],r))}}function __PRIVATE_argToString(t){if(\"string\"==typeof t)return t;var e=__PRIVATE_PlatformSupport.t();try{return e.i(t)}catch(e){return t}}function fail(t){var e=\"FIRESTORE (\"+SDK_VERSION+\") INTERNAL ASSERTION FAILED: \"+t;throw error(e),new Error(e)}function assert(t,e){t||fail(e)}!function(t){t[t.DEBUG=0]=\"DEBUG\",t[t.ERROR=1]=\"ERROR\",t[t.SILENT=2]=\"SILENT\"}(LogLevel||(LogLevel={}));var __PRIVATE_AutoId=function(){function t(){}return t.s=function(){for(var t=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\",e=\"\",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return assert(20===e.length,\"Invalid auto ID: \"+e),e},t}();function __PRIVATE_primitiveComparator(t,e){return t<e?-1:t>e?1:0}function equals(t,e){return null!=t?!(!e||!t.isEqual(e)):t===e}function __PRIVATE_arrayEquals(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function __PRIVATE_immediateSuccessor(t){return t+\"\\0\"}var __PRIVATE_OnlineState,__PRIVATE_OnlineStateSource,__PRIVATE_DatabaseInfo=function(t,e,n,r,i){this.o=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},__PRIVATE_DEFAULT_DATABASE_NAME=\"(default)\",__PRIVATE_DatabaseId=function(){function t(t,e){this.projectId=t,this.database=e||__PRIVATE_DEFAULT_DATABASE_NAME}return Object.defineProperty(t.prototype,\"u\",{get:function(){return this.database===__PRIVATE_DEFAULT_DATABASE_NAME},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype._=function(t){return __PRIVATE_primitiveComparator(this.projectId,t.projectId)||__PRIVATE_primitiveComparator(this.database,t.database)},t}();!function(t){t[t.h=0]=\"__PRIVATE_Unknown\",t[t.l=1]=\"__PRIVATE_Online\",t[t.T=2]=\"__PRIVATE_Offline\"}(__PRIVATE_OnlineState||(__PRIVATE_OnlineState={})),function(t){t[t.P=0]=\"__PRIVATE_RemoteStore\",t[t.A=1]=\"__PRIVATE_SharedClientState\"}(__PRIVATE_OnlineStateSource||(__PRIVATE_OnlineStateSource={}));var User=function(){function t(t){this.uid=t}return t.prototype.R=function(){return null!=this.uid},t.prototype.I=function(){return this.R()?\"uid:\"+this.uid:\"anonymous-user\"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.V=new t(\"google-credentials-uid\"),t.m=new t(\"first-party-uid\"),t}(),Code={OK:\"ok\",CANCELLED:\"cancelled\",UNKNOWN:\"unknown\",INVALID_ARGUMENT:\"invalid-argument\",DEADLINE_EXCEEDED:\"deadline-exceeded\",NOT_FOUND:\"not-found\",ALREADY_EXISTS:\"already-exists\",PERMISSION_DENIED:\"permission-denied\",UNAUTHENTICATED:\"unauthenticated\",RESOURCE_EXHAUSTED:\"resource-exhausted\",FAILED_PRECONDITION:\"failed-precondition\",ABORTED:\"aborted\",OUT_OF_RANGE:\"out-of-range\",UNIMPLEMENTED:\"unimplemented\",INTERNAL:\"internal\",UNAVAILABLE:\"unavailable\",DATA_LOSS:\"data-loss\"},FirestoreError=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name=\"FirebaseError\",r.toString=function(){return r.name+\": [code=\"+r.code+\"]: \"+r.message},r}return tslib.__extends(e,t),e}(Error),__PRIVATE_OAuthToken=function(t,e){this.user=e,this.type=\"OAuth\",this.v={},this.v.Authorization=\"Bearer \"+t},__PRIVATE_EmptyCredentialsProvider=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.g=function(){},t.prototype.S=function(t){assert(!this.p,\"Can only call setChangeListener() once.\"),this.p=t,t(User.UNAUTHENTICATED)},t.prototype.D=function(){assert(null!==this.p,\"removeChangeListener() when no listener registered\"),this.p=null},t}(),__PRIVATE_FirebaseCredentialsProvider=function(){function t(t){var e=this;this.C=null,this.currentUser=User.UNAUTHENTICATED,this.O=!1,this.F=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.F++,e.currentUser=e.N(),e.O=!0,e.p&&e.p(e.currentUser)},this.F=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then((function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)}),(function(){})))}return t.prototype.getToken=function(){var t=this;assert(null!=this.C,\"getToken cannot be called after listener removed.\");var e=this.F,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){if(t.F!==e)throw new FirestoreError(Code.ABORTED,\"getToken aborted due to token change.\");return n?(assert(\"string\"==typeof n.accessToken,\"Invalid tokenData returned from getToken():\"+n),new __PRIVATE_OAuthToken(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.g=function(){this.forceRefresh=!0},t.prototype.S=function(t){assert(!this.p,\"Can only call setChangeListener() once.\"),this.p=t,this.O&&t(this.currentUser)},t.prototype.D=function(){assert(null!=this.C,\"removeChangeListener() called twice\"),assert(null!==this.p,\"removeChangeListener() called when no listener registered\"),this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.N=function(){var t=this.auth&&this.auth.getUid();return assert(null===t||\"string\"==typeof t,\"Received invalid UID: \"+t),new User(t)},t}(),__PRIVATE_FirstPartyToken=function(){function t(t,e){this.M=t,this.L=e,this.type=\"FirstParty\",this.user=User.m}return Object.defineProperty(t.prototype,\"v\",{get:function(){var t={\"X-Goog-AuthUser\":this.L},e=this.M.auth.G([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),__PRIVATE_FirstPartyCredentialsProvider=function(){function t(t,e){this.M=t,this.L=e}return t.prototype.getToken=function(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.M,this.L))},t.prototype.S=function(t){t(User.m)},t.prototype.D=function(){},t.prototype.g=function(){},t}();function __PRIVATE_makeCredentialsProvider(t){if(!t)return new __PRIVATE_EmptyCredentialsProvider;switch(t.type){case\"gapi\":var e=t.B;return assert(!(\"object\"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),\"unexpected gapi interface\"),new __PRIVATE_FirstPartyCredentialsProvider(e,t.L||\"0\");case\"provider\":return t.B;default:throw new FirestoreError(Code.INVALID_ARGUMENT,\"makeCredentialsProvider failed due to invalid credential type\")}}function contains(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function __PRIVATE_defaulted(t,e){return void 0!==t?t:e}function __PRIVATE_forEachNumber(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function values(t){var e=[];return forEach(t,(function(t,n){return e.push(n)})),e}function forEach(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function __PRIVATE_isEmpty(t){for(var e in assert(null!=t&&\"object\"==typeof t,\"isEmpty() expects object parameter.\"),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function __PRIVATE_shallowCopy(t){assert(t&&\"object\"==typeof t,\"shallowCopy() expects object parameter.\");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function __PRIVATE_validateNoArgs(t,e){if(0!==e.length)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Function \"+t+\"() does not support arguments, but was called with \"+__PRIVATE_formatPlural(e.length,\"argument\")+\".\")}function __PRIVATE_validateExactNumberOfArgs(t,e,n){if(e.length!==n)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Function \"+t+\"() requires \"+__PRIVATE_formatPlural(n,\"argument\")+\", but was called with \"+__PRIVATE_formatPlural(e.length,\"argument\")+\".\")}function __PRIVATE_validateAtLeastNumberOfArgs(t,e,n){if(e.length<n)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Function \"+t+\"() requires at least \"+__PRIVATE_formatPlural(n,\"argument\")+\", but was called with \"+__PRIVATE_formatPlural(e.length,\"argument\")+\".\")}function __PRIVATE_validateBetweenNumberOfArgs(t,e,n,r){if(e.length<n||e.length>r)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Function \"+t+\"() requires between \"+n+\" and \"+r+\" arguments, but was called with \"+__PRIVATE_formatPlural(e.length,\"argument\")+\".\")}function __PRIVATE_validateNamedArrayAtLeastNumberOfElements(t,e,n,r){if(!(e instanceof Array)||e.length<r)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Function \"+t+\"() requires its \"+n+\" argument to be an array with at least \"+__PRIVATE_formatPlural(r,\"element\")+\".\")}function __PRIVATE_validateArgType(t,e,n,r){__PRIVATE_validateType(t,e,__PRIVATE_ordinal(n)+\" argument\",r)}function __PRIVATE_validateOptionalArgType(t,e,n,r){void 0!==r&&__PRIVATE_validateArgType(t,e,n,r)}function __PRIVATE_validateNamedType(t,e,n,r){__PRIVATE_validateType(t,e,n+\" option\",r)}function __PRIVATE_validateNamedOptionalType(t,e,n,r){void 0!==r&&__PRIVATE_validateNamedType(t,e,n,r)}function __PRIVATE_validateArrayElements(t,e,n,r,i){if(!(r instanceof Array))throw new FirestoreError(Code.INVALID_ARGUMENT,\"Function \"+t+\"() requires its \"+e+\" option to be an array, but it was: \"+__PRIVATE_valueDescription(r));for(var s=0;s<r.length;++s)if(!i(r[s]))throw new FirestoreError(Code.INVALID_ARGUMENT,\"Function \"+t+\"() requires all \"+e+\" elements to be \"+n+\", but the value at index \"+s+\" was: \"+__PRIVATE_valueDescription(r[s]))}function __PRIVATE_validateOptionalArrayElements(t,e,n,r,i){void 0!==r&&__PRIVATE_validateArrayElements(t,e,n,r,i)}function __PRIVATE_validateNamedPropertyEquals(t,e,n,r,i){for(var s=[],o=0,u=i;o<u.length;o++){var a=u[o];if(a===r)return;s.push(__PRIVATE_valueDescription(a))}var _=__PRIVATE_valueDescription(r);throw new FirestoreError(Code.INVALID_ARGUMENT,\"Invalid value \"+_+\" provided to function \"+t+'() for option \"'+n+'\". Acceptable values: '+s.join(\", \"))}function __PRIVATE_validateNamedOptionalPropertyEquals(t,e,n,r,i){void 0!==r&&__PRIVATE_validateNamedPropertyEquals(t,e,n,r,i)}function __PRIVATE_validateStringEnum(t,e,n,r){if(!e.some((function(t){return t===r})))throw new FirestoreError(Code.INVALID_ARGUMENT,\"Invalid value \"+__PRIVATE_valueDescription(r)+\" provided to function \"+t+\"() for its \"+__PRIVATE_ordinal(n)+\" argument. Acceptable values: \"+e.join(\", \"))}function __PRIVATE_validateType(t,e,n,r){if(!(\"object\"===e?__PRIVATE_isPlainObject(r):\"non-empty string\"===e?\"string\"==typeof r&&\"\"!==r:typeof r===e)){var i=__PRIVATE_valueDescription(r);throw new FirestoreError(Code.INVALID_ARGUMENT,\"Function \"+t+\"() requires its \"+n+\" to be of type \"+e+\", but it was: \"+i)}}function __PRIVATE_isPlainObject(t){return\"object\"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function __PRIVATE_valueDescription(t){if(void 0===t)return\"undefined\";if(null===t)return\"null\";if(\"string\"==typeof t)return t.length>20&&(t=t.substring(0,20)+\"...\"),JSON.stringify(t);if(\"number\"==typeof t||\"boolean\"==typeof t)return\"\"+t;if(\"object\"==typeof t){if(t instanceof Array)return\"an array\";var e=__PRIVATE_tryGetCustomObjectType(t);return e?\"a custom \"+e+\" object\":\"an object\"}return\"function\"==typeof t?\"a function\":fail(\"Unknown wrong type: \"+typeof t)}function __PRIVATE_tryGetCustomObjectType(t){if(t.constructor){var e=/function\\s+([^\\s(]+)\\s*\\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}function __PRIVATE_validateDefined(t,e,n){if(void 0===n)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Function \"+t+\"() requires a valid \"+__PRIVATE_ordinal(e)+\" argument, but it was undefined.\")}function __PRIVATE_validateOptionNames(t,e,n){forEach(e,(function(e,r){if(n.indexOf(e)<0)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Unknown option '\"+e+\"' passed to function \"+t+\"(). Available options: \"+n.join(\", \"))}))}function __PRIVATE_invalidClassError(t,e,n,r){var i=__PRIVATE_valueDescription(r);return new FirestoreError(Code.INVALID_ARGUMENT,\"Function \"+t+\"() requires its \"+__PRIVATE_ordinal(n)+\" argument to be a \"+e+\", but it was: \"+i)}function __PRIVATE_validatePositiveNumber(t,e,n){if(n<=0)throw new FirestoreError(Code.INVALID_ARGUMENT,'Function \"'+t+'()\" requires its '+__PRIVATE_ordinal(e)+\" argument to be a positive number, but it was: \"+n+\".\")}function __PRIVATE_ordinal(t){switch(t){case 1:return\"first\";case 2:return\"second\";case 3:return\"third\";default:return t+\"th\"}}function __PRIVATE_formatPlural(t,e){return t+\" \"+e+(1===t?\"\":\"s\")}var GeoPoint=function(){function t(t,e){if(__PRIVATE_validateExactNumberOfArgs(\"GeoPoint\",arguments,2),__PRIVATE_validateArgType(\"GeoPoint\",\"number\",1,t),__PRIVATE_validateArgType(\"GeoPoint\",\"number\",2,e),!isFinite(t)||t<-90||t>90)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Latitude must be a number between -90 and 90, but was: \"+t);if(!isFinite(e)||e<-180||e>180)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Longitude must be a number between -180 and 180, but was: \"+e);this.U=t,this.k=e}return Object.defineProperty(t.prototype,\"latitude\",{get:function(){return this.U},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"longitude\",{get:function(){return this.k},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.U===t.U&&this.k===t.k},t.prototype.K=function(t){return __PRIVATE_primitiveComparator(this.U,t.U)||__PRIVATE_primitiveComparator(this.k,t.k)},t}(),Timestamp=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Timestamp nanoseconds out of range: \"+e);if(e>=1e9)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Timestamp nanoseconds out of range: \"+e);if(t<-62135596800)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Timestamp seconds out of range: \"+t);if(t>=253402300800)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Timestamp seconds out of range: \"+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?__PRIVATE_primitiveComparator(this.nanoseconds,t.nanoseconds):__PRIVATE_primitiveComparator(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return\"Timestamp(seconds=\"+this.seconds+\", nanoseconds=\"+this.nanoseconds+\")\"},t}(),__PRIVATE_SnapshotVersion=function(){function t(t){this.timestamp=t}return t.j=function(e){var n=Math.floor(e/1e6);return new t(new Timestamp(n,e%1e6*1e3))},t.q=function(e){return new t(e)},t.W=function(){return t.MIN},t.prototype._=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.$=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return\"SnapshotVersion(\"+this.timestamp.toString()+\")\"},t.prototype.Y=function(){return this.timestamp},t.MIN=new t(new Timestamp(0,0)),t}(),__PRIVATE_DOCUMENT_KEY_NAME=\"__name__\",__PRIVATE_BasePath=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&fail(\"offset \"+e+\" out of range \"+t.length),void 0===n?n=t.length-e:n>t.length-e&&fail(\"length \"+n+\" out of range \"+(t.length-e)),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,\"length\",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.H(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.X(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.J=function(t){return t=void 0===t?1:t,assert(this.length>=t,\"Can't call popFirst() with less segments\"),this.X(this.segments,this.offset+t,this.length-t)},t.prototype.Z=function(){return assert(!this.tt(),\"Can't call popLast() on empty path\"),this.X(this.segments,this.offset,this.length-1)},t.prototype.et=function(){return assert(!this.tt(),\"Can't call firstSegment() on empty path\"),this.segments[this.offset]},t.prototype.nt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return assert(t<this.length,\"Index out of range\"),this.segments[this.offset+t]},t.prototype.tt=function(){return 0===this.length},t.prototype.rt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.st=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ResourcePath=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tslib.__extends(e,t),e.prototype.X=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.st().join(\"/\")},e.prototype.toString=function(){return this.ot()},e.ut=function(t){if(t.indexOf(\"//\")>=0)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Invalid path (\"+t+\"). Paths must not contain // in them.\");return new e(t.split(\"/\").filter((function(t){return t.length>0})))},e.at=new e([]),e}(__PRIVATE_BasePath),__PRIVATE_identifierRegExp=/^[_a-zA-Z][_a-zA-Z0-9]*$/,FieldPath=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tslib.__extends(e,t),e.prototype.X=function(t,n,r){return new e(t,n,r)},e._t=function(t){return __PRIVATE_identifierRegExp.test(t)},e.prototype.ot=function(){return this.st().map((function(t){return t=t.replace(\"\\\\\",\"\\\\\\\\\").replace(\"`\",\"\\\\`\"),e._t(t)||(t=\"`\"+t+\"`\"),t})).join(\".\")},e.prototype.toString=function(){return this.ot()},e.prototype.ct=function(){return 1===this.length&&this.get(0)===__PRIVATE_DOCUMENT_KEY_NAME},e.ht=function(){return new e([__PRIVATE_DOCUMENT_KEY_NAME])},e.ft=function(t){for(var n=[],r=\"\",i=0,s=function(){if(0===r.length)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Invalid field path (\"+t+\"). Paths must not be empty, begin with '.', end with '.', or contain '..'\");n.push(r),r=\"\"},o=!1;i<t.length;){var u=t[i];if(\"\\\\\"===u){if(i+1===t.length)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Path has trailing escape character: \"+t);var a=t[i+1];if(\"\\\\\"!==a&&\".\"!==a&&\"`\"!==a)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Path has invalid escape sequence: \"+t);r+=a,i+=2}else\"`\"===u?(o=!o,i++):\".\"!==u||o?(r+=u,i++):(s(),i++)}if(s(),o)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Unterminated ` in path: \"+t);return new e(n)},e.at=new e([]),e}(__PRIVATE_BasePath),__PRIVATE_DocumentKey=function(){function t(e){this.path=e,assert(t.lt(e),\"Invalid DocumentKey with an odd number of segments: \"+e.st().join(\"/\"))}return t.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ResourcePath.H(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.H=function(t,e){return ResourcePath.H(t.path,e.path)},t.lt=function(t){return t.length%2==0},t.Tt=function(e){return new t(new ResourcePath(e.slice()))},t.Et=function(e){return new t(ResourcePath.ut(e))},t.EMPTY=new t(new ResourcePath([])),t}(),__PRIVATE_SortedMap=function(){function t(t,e){this.H=t,this.root=e||__PRIVATE_LLRBNode.EMPTY}return t.prototype.Pt=function(e,n){return new t(this.H,this.root.Pt(e,n,this.H).copy(null,null,__PRIVATE_LLRBNode.At,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,__PRIVATE_LLRBNode.At,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.tt();){var n=this.H(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.tt();){var r=this.H(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.tt=function(){return this.root.tt()},Object.defineProperty(t.prototype,\"size\",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.Rt=function(){return this.root.Rt()},t.prototype.It=function(){return this.root.It()},t.prototype.Vt=function(t){return this.root.Vt(t)},t.prototype.forEach=function(t){this.Vt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Vt((function(e,n){return t.push(e+\":\"+n),!1})),\"{\"+t.join(\", \")+\"}\"},t.prototype.vt=function(t){return this.root.vt(t)},t.prototype.pt=function(){return new __PRIVATE_SortedMapIterator(this.root,null,this.H,!1)},t.prototype.bt=function(t){return new __PRIVATE_SortedMapIterator(this.root,t,this.H,!1)},t.prototype.gt=function(){return new __PRIVATE_SortedMapIterator(this.root,null,this.H,!0)},t.prototype.wt=function(t){return new __PRIVATE_SortedMapIterator(this.root,t,this.H,!0)},t}(),__PRIVATE_SortedMapIterator=function(){function t(t,e,n,r){this.yt=r,this.St=[];for(var i=1;!t.tt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.yt?t.left:t.right;else{if(0===i){this.St.push(t);break}this.St.push(t),t=this.yt?t.right:t.left}}return t.prototype.Dt=function(){assert(this.St.length>0,\"getNext() called on iterator when hasNext() is false.\");var t=this.St.pop(),e={key:t.key,value:t.value};if(this.yt)for(t=t.left;!t.tt();)this.St.push(t),t=t.right;else for(t=t.right;!t.tt();)this.St.push(t),t=t.left;return e},t.prototype.Ct=function(){return this.St.length>0},t.prototype.Ot=function(){if(0===this.St.length)return null;var t=this.St[this.St.length-1];return{key:t.key,value:t.value}},t}(),__PRIVATE_LLRBNode=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.tt=function(){return!1},t.prototype.Vt=function(t){return this.left.Vt(t)||t(this.key,this.value)||this.right.Vt(t)},t.prototype.vt=function(t){return this.right.vt(t)||t(this.key,this.value)||this.left.vt(t)},t.prototype.min=function(){return this.left.tt()?this:this.left.min()},t.prototype.Rt=function(){return this.min().key},t.prototype.It=function(){return this.right.tt()?this.key:this.right.It()},t.prototype.Pt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Pt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Pt(t,e,n))).Ft()},t.prototype.Nt=function(){if(this.left.tt())return t.EMPTY;var e=this;return e.left.Mt()||e.left.left.Mt()||(e=e.Lt()),(e=e.copy(null,null,null,e.left.Nt(),null)).Ft()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.tt()||i.left.Mt()||i.left.left.Mt()||(i=i.Lt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Mt()&&(i=i.Gt()),i.right.tt()||i.right.Mt()||i.right.left.Mt()||(i=i.Bt()),0===n(e,i.key)){if(i.right.tt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Nt())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Ft()},t.prototype.Mt=function(){return this.color},t.prototype.Ft=function(){var t=this;return t.right.Mt()&&!t.left.Mt()&&(t=t.Ut()),t.left.Mt()&&t.left.left.Mt()&&(t=t.Gt()),t.left.Mt()&&t.right.Mt()&&(t=t.kt()),t},t.prototype.Lt=function(){var t=this.kt();return t.right.left.Mt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.Gt())).Ut()).kt()),t},t.prototype.Bt=function(){var t=this.kt();return t.left.left.Mt()&&(t=(t=t.Gt()).kt()),t},t.prototype.Ut=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.Gt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.kt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.xt=function(){var t=this.Kt();return Math.pow(2,t)<=this.size+1},t.prototype.Kt=function(){if(this.Mt()&&this.left.Mt())throw fail(\"Red node has red child(\"+this.key+\",\"+this.value+\")\");if(this.right.Mt())throw fail(\"Right child of (\"+this.key+\",\"+this.value+\") is red\");var t=this.left.Kt();if(t!==this.right.Kt())throw fail(\"Black depths differ\");return t+(this.Mt()?0:1)},t.EMPTY=null,t.RED=!0,t.At=!1,t}(),__PRIVATE_LLRBEmptyNode=function(){function t(){this.size=0}return Object.defineProperty(t.prototype,\"key\",{get:function(){throw fail(\"LLRBEmptyNode has no key.\")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"value\",{get:function(){throw fail(\"LLRBEmptyNode has no value.\")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"color\",{get:function(){throw fail(\"LLRBEmptyNode has no color.\")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"left\",{get:function(){throw fail(\"LLRBEmptyNode has no left child.\")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"right\",{get:function(){throw fail(\"LLRBEmptyNode has no right child.\")},enumerable:!0,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Pt=function(t,e,n){return new __PRIVATE_LLRBNode(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.tt=function(){return!0},t.prototype.Vt=function(t){return!1},t.prototype.vt=function(t){return!1},t.prototype.Rt=function(){return null},t.prototype.It=function(){return null},t.prototype.Mt=function(){return!1},t.prototype.xt=function(){return!0},t.prototype.Kt=function(){return 0},t}();__PRIVATE_LLRBNode.EMPTY=new __PRIVATE_LLRBEmptyNode;var __PRIVATE_SortedSet=function(){function t(t){this.H=t,this.data=new __PRIVATE_SortedMap(this.H)}return t.jt=function(e){var n=new t(e.H);return e.forEach((function(t){n=n.add(t)})),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Rt()},t.prototype.last=function(){return this.data.It()},Object.defineProperty(t.prototype,\"size\",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Vt((function(e,n){return t(e),!1}))},t.prototype.qt=function(t,e){for(var n=this.data.bt(t[0]);n.Ct();){var r=n.Dt();if(this.H(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Qt=function(t,e){var n;for(n=void 0!==e?this.data.bt(e):this.data.pt();n.Ct();){if(!t(n.Dt().key))return}},t.prototype.Wt=function(t){var e=this.data.bt(t);return e.Ct()?e.Dt().key:null},t.prototype.pt=function(){return new __PRIVATE_SortedSetIterator(this.data.pt())},t.prototype.bt=function(t){return new __PRIVATE_SortedSetIterator(this.data.bt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Pt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.tt=function(){return this.data.tt()},t.prototype.$t=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.pt(),r=e.data.pt();n.Ct();){var i=n.Dt().key,s=r.Dt().key;if(0!==this.H(i,s))return!1}return!0},t.prototype.st=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),\"SortedSet(\"+t.toString()+\")\"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),__PRIVATE_SortedSetIterator=function(){function t(t){this.Yt=t}return t.prototype.Dt=function(){return this.Yt.Dt().key},t.prototype.Ct=function(){return this.Yt.Ct()},t}(),__PRIVATE_ServerTimestampTransform=function(){function t(){}return t.prototype.Ht=function(t,e){return new __PRIVATE_ServerTimestampValue(e,t)},t.prototype.Xt=function(t,e){return e},t.prototype.zt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),__PRIVATE_ArrayUnionTransformOperation=function(){function t(t){this.elements=t}return t.prototype.Ht=function(t,e){return this.apply(t)},t.prototype.Xt=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=__PRIVATE_coercedFieldValuesArray(t),n=function(t){e.find((function(e){return e.isEqual(t)}))||e.push(t)},r=0,i=this.elements;r<i.length;r++){n(i[r])}return new ArrayValue(e)},t.prototype.zt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&__PRIVATE_arrayEquals(e.elements,this.elements)},t}(),__PRIVATE_ArrayRemoveTransformOperation=function(){function t(t){this.elements=t}return t.prototype.Ht=function(t,e){return this.apply(t)},t.prototype.Xt=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=__PRIVATE_coercedFieldValuesArray(t),n=function(t){e=e.filter((function(e){return!e.isEqual(t)}))},r=0,i=this.elements;r<i.length;r++){n(i[r])}return new ArrayValue(e)},t.prototype.zt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&__PRIVATE_arrayEquals(e.elements,this.elements)},t}(),__PRIVATE_NumericIncrementTransformOperation=function(){function t(t){this.Jt=t}return t.prototype.Ht=function(t,e){var n=this.zt(t);if(n instanceof __PRIVATE_IntegerValue&&this.Jt instanceof __PRIVATE_IntegerValue){var r=n.Zt+this.Jt.Zt;return new __PRIVATE_IntegerValue(r)}r=n.Zt+this.Jt.Zt;return new __PRIVATE_DoubleValue(r)},t.prototype.Xt=function(t,e){return assert(null!==e,\"Didn't receive transformResult for NUMERIC_ADD transform\"),e},t.prototype.zt=function(t){return t instanceof __PRIVATE_NumberValue?t:new __PRIVATE_IntegerValue(0)},t.prototype.isEqual=function(e){return e instanceof t&&this.Jt.isEqual(e.Jt)},t}();function __PRIVATE_coercedFieldValuesArray(t){return t instanceof ArrayValue?t.Zt.slice():[]}var __PRIVATE_MutationType,__PRIVATE_FieldMask=function(){function t(t){this.fields=t}return t.te=function(e){return new t(e)},t.ee=function(e){var n=new __PRIVATE_SortedSet(FieldPath.H);return e.forEach((function(t){return n=n.add(t)})),new t(n)},t.prototype.ne=function(t){var e=!1;return this.fields.forEach((function(n){n.rt(t)&&(e=!0)})),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),FieldTransform=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),__PRIVATE_MutationResult=function(t,e){this.version=t,this.transformResults=e};!function(t){t[t.Set=0]=\"Set\",t[t.re=1]=\"__PRIVATE_Patch\",t[t.Transform=2]=\"Transform\",t[t.ie=3]=\"__PRIVATE_Delete\",t[t.Verify=4]=\"Verify\"}(__PRIVATE_MutationType||(__PRIVATE_MutationType={}));var __PRIVATE_TypeOrder,__PRIVATE_ServerTimestampBehavior,Precondition=function(){function t(t,e){this.updateTime=t,this.exists=e,assert(void 0===t||void 0===e,'Precondition can specify \"exists\" or \"updateTime\" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,\"se\",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.oe=function(t){return void 0!==this.updateTime?t instanceof Document&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof Document:(assert(this.se,\"Precondition should be empty\"),!0)},t.prototype.isEqual=function(t){return equals(this.updateTime,t.updateTime)&&this.exists===t.exists},t.NONE=new t,t}(),__PRIVATE_Mutation=function(){function t(){}return t.prototype.ue=function(t){null!=t&&assert(t.key.isEqual(this.key),\"Can only apply a mutation to a document with the same key\")},t.ae=function(t){return t instanceof Document?t.version:__PRIVATE_SnapshotVersion.MIN},t}(),__PRIVATE_SetMutation=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i._e=r,i.type=__PRIVATE_MutationType.Set,i}return tslib.__extends(e,t),e.prototype.Xt=function(t,e){this.ue(t),assert(null==e.transformResults,\"Transform results received by SetMutation.\");var n=e.version;return new Document(this.key,n,{hasCommittedMutations:!0},this.value)},e.prototype.Ht=function(t,e,n){if(this.ue(t),!this._e.oe(t))return t;var r=__PRIVATE_Mutation.ae(t);return new Document(this.key,r,{ce:!0},this.value)},e.prototype.he=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this._e.isEqual(t._e)},e}(__PRIVATE_Mutation),__PRIVATE_PatchMutation=function(t){function e(e,n,r,i){var s=t.call(this)||this;return s.key=e,s.data=n,s.fe=r,s._e=i,s.type=__PRIVATE_MutationType.re,s}return tslib.__extends(e,t),e.prototype.Xt=function(t,e){if(this.ue(t),assert(null==e.transformResults,\"Transform results received by PatchMutation.\"),!this._e.oe(t))return new __PRIVATE_UnknownDocument(this.key,e.version);var n=this.le(t);return new Document(this.key,e.version,{hasCommittedMutations:!0},n)},e.prototype.Ht=function(t,e,n){if(this.ue(t),!this._e.oe(t))return t;var r=__PRIVATE_Mutation.ae(t),i=this.le(t);return new Document(this.key,r,{ce:!0},i)},e.prototype.he=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fe.isEqual(t.fe)&&this._e.isEqual(t._e)},e.prototype.le=function(t){var e;return e=t instanceof Document?t.data():__PRIVATE_ObjectValue.EMPTY,this.de(e)},e.prototype.de=function(t){var e=this;return this.fe.fields.forEach((function(n){if(!n.tt()){var r=e.data.field(n);t=null!==r?t.set(n,r):t.delete(n)}})),t},e}(__PRIVATE_Mutation),__PRIVATE_TransformMutation=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=__PRIVATE_MutationType.Transform,r._e=Precondition.exists(!0),r}return tslib.__extends(e,t),e.prototype.Xt=function(t,e){if(this.ue(t),assert(null!=e.transformResults,\"Transform results missing for TransformMutation.\"),!this._e.oe(t))return new __PRIVATE_UnknownDocument(this.key,e.version);var n=this.Te(t),r=this.Ee(t,e.transformResults),i=e.version,s=this.Pe(n.data(),r);return new Document(this.key,i,{hasCommittedMutations:!0},s)},e.prototype.Ht=function(t,e,n){if(this.ue(t),!this._e.oe(t))return t;var r=this.Te(t),i=this.Ae(n,t,e),s=this.Pe(r.data(),i);return new Document(this.key,r.version,{ce:!0},s)},e.prototype.he=function(t){for(var e=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],s=t instanceof Document?t.field(i.field):void 0,o=i.transform.zt(s||null);null!=o&&(e=null==e?__PRIVATE_ObjectValue.EMPTY.set(i.field,o):e.set(i.field,o))}return e},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&__PRIVATE_arrayEquals(this.fieldTransforms,t.fieldTransforms)&&this._e.isEqual(t._e)},e.prototype.Te=function(t){return assert(t instanceof Document,\"Unknown MaybeDocument type \"+t),assert(t.key.isEqual(this.key),\"Can only transform a document with the same key\"),t},e.prototype.Ee=function(t,e){var n=[];assert(this.fieldTransforms.length===e.length,\"server transform result count (\"+e.length+\") should match field transform count (\"+this.fieldTransforms.length+\")\");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],s=i.transform,o=null;t instanceof Document&&(o=t.field(i.field)),n.push(s.Xt(o,e[r]))}return n},e.prototype.Ae=function(t,e,n){for(var r=[],i=0,s=this.fieldTransforms;i<s.length;i++){var o=s[i],u=o.transform,a=null;e instanceof Document&&(a=e.field(o.field)),null===a&&n instanceof Document&&(a=n.field(o.field)),r.push(u.Ht(a,t))}return r},e.prototype.Pe=function(t,e){assert(e.length===this.fieldTransforms.length,\"TransformResults length mismatch.\");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n].field;t=t.set(r,e[n])}return t},e}(__PRIVATE_Mutation),__PRIVATE_DeleteMutation=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r._e=n,r.type=__PRIVATE_MutationType.ie,r}return tslib.__extends(e,t),e.prototype.Xt=function(t,e){return this.ue(t),assert(null==e.transformResults,\"Transform results received by DeleteMutation.\"),new __PRIVATE_NoDocument(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.Ht=function(t,e,n){return this.ue(t),this._e.oe(t)?(t&&assert(t.key.isEqual(this.key),\"Can only apply mutation to document with same key\"),new __PRIVATE_NoDocument(this.key,__PRIVATE_SnapshotVersion.W())):t},e.prototype.he=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this._e.isEqual(t._e)},e}(__PRIVATE_Mutation),__PRIVATE_VerifyMutation=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r._e=n,r.type=__PRIVATE_MutationType.Verify,r}return tslib.__extends(e,t),e.prototype.Xt=function(t,e){fail(\"VerifyMutation should only be used in Transactions.\")},e.prototype.Ht=function(t,e,n){fail(\"VerifyMutation should only be used in Transactions.\")},e.prototype.he=function(t){fail(\"VerifyMutation should only be used in Transactions.\")},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this._e.isEqual(t._e)},e}(__PRIVATE_Mutation);!function(t){t[t.Re=0]=\"__PRIVATE_NullValue\",t[t.Ie=1]=\"__PRIVATE_BooleanValue\",t[t.Ve=2]=\"__PRIVATE_NumberValue\",t[t.me=3]=\"__PRIVATE_TimestampValue\",t[t.ve=4]=\"__PRIVATE_StringValue\",t[t.pe=5]=\"__PRIVATE_BlobValue\",t[t.be=6]=\"__PRIVATE_RefValue\",t[t.ge=7]=\"__PRIVATE_GeoPointValue\",t[t.ArrayValue=8]=\"ArrayValue\",t[t.we=9]=\"__PRIVATE_ObjectValue\"}(__PRIVATE_TypeOrder||(__PRIVATE_TypeOrder={})),function(t){t[t.ye=0]=\"__PRIVATE_Default\",t[t.Se=1]=\"__PRIVATE_Estimate\",t[t.De=2]=\"__PRIVATE_Previous\"}(__PRIVATE_ServerTimestampBehavior||(__PRIVATE_ServerTimestampBehavior={}));var __PRIVATE_FieldValueOptions=function(){function t(t,e){this.Ce=t,this.timestampsInSnapshots=e}return t.Oe=function(e,n){switch(e.serverTimestamps){case\"estimate\":return new t(__PRIVATE_ServerTimestampBehavior.Se,n);case\"previous\":return new t(__PRIVATE_ServerTimestampBehavior.De,n);case\"none\":case void 0:return new t(__PRIVATE_ServerTimestampBehavior.ye,n);default:return fail(\"fromSnapshotOptions() called with invalid options.\")}},t}(),FieldValue=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?\"null\":t.toString()},t.prototype.Fe=function(t){return assert(this.Ne!==t.Ne,\"Default compareTo should not be used for values of same type.\"),__PRIVATE_primitiveComparator(this.Ne,t.Ne)},t}(),__PRIVATE_NullValue=function(t){function e(){var e=t.call(this)||this;return e.Ne=__PRIVATE_TypeOrder.Re,e.Zt=null,e}return tslib.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype._=function(t){return t instanceof e?0:this.Fe(t)},e.prototype.Me=function(){return 4},e.Le=new e,e}(FieldValue),__PRIVATE_BooleanValue=function(t){function e(e){var n=t.call(this)||this;return n.Zt=e,n.Ne=__PRIVATE_TypeOrder.Ie,n}return tslib.__extends(e,t),e.prototype.value=function(t){return this.Zt},e.prototype.isEqual=function(t){return t instanceof e&&this.Zt===t.Zt},e.prototype._=function(t){return t instanceof e?__PRIVATE_primitiveComparator(this,t):this.Fe(t)},e.prototype.Me=function(){return 4},e.of=function(t){return t?e.Ge:e.Be},e.Ge=new e(!0),e.Be=new e(!1),e}(FieldValue),__PRIVATE_NumberValue=function(t){function e(e){var n=t.call(this)||this;return n.Zt=e,n.Ne=__PRIVATE_TypeOrder.Ve,n}return tslib.__extends(e,t),e.prototype.value=function(t){return this.Zt},e.prototype._=function(t){return t instanceof e?__PRIVATE_numericComparator(this.Zt,t.Zt):this.Fe(t)},e.prototype.Me=function(){return 8},e}(FieldValue);function __PRIVATE_numericComparator(t,e){return t<e?-1:t>e?1:t===e?0:isNaN(t)?isNaN(e)?0:-1:1}function __PRIVATE_numericEquals(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var __PRIVATE_IntegerValue=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tslib.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&__PRIVATE_numericEquals(this.Zt,t.Zt)},e}(__PRIVATE_NumberValue),__PRIVATE_DoubleValue=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tslib.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&__PRIVATE_numericEquals(this.Zt,t.Zt)},e.Ue=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(__PRIVATE_NumberValue),__PRIVATE_StringValue=function(t){function e(e){var n=t.call(this)||this;return n.Zt=e,n.Ne=__PRIVATE_TypeOrder.ve,n}return tslib.__extends(e,t),e.prototype.value=function(t){return this.Zt},e.prototype.isEqual=function(t){return t instanceof e&&this.Zt===t.Zt},e.prototype._=function(t){return t instanceof e?__PRIVATE_primitiveComparator(this.Zt,t.Zt):this.Fe(t)},e.prototype.Me=function(){return 2*this.Zt.length},e}(FieldValue),__PRIVATE_TimestampValue=function(t){function e(e){var n=t.call(this)||this;return n.Zt=e,n.Ne=__PRIVATE_TypeOrder.me,n}return tslib.__extends(e,t),e.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.Zt:this.Zt.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.Zt.isEqual(t.Zt)},e.prototype._=function(t){return t instanceof e?this.Zt.K(t.Zt):t instanceof __PRIVATE_ServerTimestampValue?-1:this.Fe(t)},e.prototype.Me=function(){return 16},e}(FieldValue),__PRIVATE_ServerTimestampValue=function(t){function e(e,n){var r=t.call(this)||this;return r.ke=e,r.previousValue=n,r.Ne=__PRIVATE_TypeOrder.me,r}return tslib.__extends(e,t),e.prototype.value=function(t){return t&&t.Ce===__PRIVATE_ServerTimestampBehavior.Se?new __PRIVATE_TimestampValue(this.ke).value(t):t&&t.Ce===__PRIVATE_ServerTimestampBehavior.De&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.ke.isEqual(t.ke)},e.prototype._=function(t){return t instanceof e?this.ke.K(t.ke):t instanceof __PRIVATE_TimestampValue?1:this.Fe(t)},e.prototype.toString=function(){return\"<ServerTimestamp localTime=\"+this.ke.toString()+\">\"},e.prototype.Me=function(){return 16+(this.previousValue?this.previousValue.Me():0)},e}(FieldValue),__PRIVATE_BlobValue=function(t){function e(e){var n=t.call(this)||this;return n.Zt=e,n.Ne=__PRIVATE_TypeOrder.pe,n}return tslib.__extends(e,t),e.prototype.value=function(t){return this.Zt},e.prototype.isEqual=function(t){return t instanceof e&&this.Zt.isEqual(t.Zt)},e.prototype._=function(t){return t instanceof e?this.Zt.K(t.Zt):this.Fe(t)},e.prototype.Me=function(){return this.Zt.xe()},e}(FieldValue),__PRIVATE_RefValue=function(t){function e(e,n){var r=t.call(this)||this;return r.o=e,r.key=n,r.Ne=__PRIVATE_TypeOrder.be,r}return tslib.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&(this.key.isEqual(t.key)&&this.o.isEqual(t.o))},e.prototype._=function(t){if(t instanceof e){var n=this.o._(t.o);return 0!==n?n:__PRIVATE_DocumentKey.H(this.key,t.key)}return this.Fe(t)},e.prototype.Me=function(){return this.o.projectId.length+this.o.database.length+this.key.toString().length},e}(FieldValue),__PRIVATE_GeoPointValue=function(t){function e(e){var n=t.call(this)||this;return n.Zt=e,n.Ne=__PRIVATE_TypeOrder.ge,n}return tslib.__extends(e,t),e.prototype.value=function(t){return this.Zt},e.prototype.isEqual=function(t){return t instanceof e&&this.Zt.isEqual(t.Zt)},e.prototype._=function(t){return t instanceof e?this.Zt.K(t.Zt):this.Fe(t)},e.prototype.Me=function(){return 16},e}(FieldValue),__PRIVATE_ObjectValue=function(t){function e(e){var n=t.call(this)||this;return n.Zt=e,n.Ne=__PRIVATE_TypeOrder.we,n}return tslib.__extends(e,t),e.prototype.value=function(t){var e={};return this.Zt.Vt((function(n,r){e[n]=r.value(t)})),e},e.prototype.forEach=function(t){this.Zt.Vt(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.Zt.pt(),r=t.Zt.pt();n.Ct()&&r.Ct();){var i=n.Dt(),s=r.Dt();if(i.key!==s.key||!i.value.isEqual(s.value))return!1}return!n.Ct()&&!r.Ct()}return!1},e.prototype._=function(t){if(t instanceof e){for(var n=this.Zt.pt(),r=t.Zt.pt();n.Ct()&&r.Ct();){var i=n.Dt(),s=r.Dt(),o=__PRIVATE_primitiveComparator(i.key,s.key)||i.value._(s.value);if(o)return o}return __PRIVATE_primitiveComparator(n.Ct(),r.Ct())}return this.Fe(t)},e.prototype.set=function(t,n){if(assert(!t.tt(),\"Cannot set field for empty path on ObjectValue\"),1===t.length)return this.Ke(t.et(),n);var r=this.child(t.et());r instanceof e||(r=e.EMPTY);var i=r.set(t.J(),n);return this.Ke(t.et(),i)},e.prototype.delete=function(t){if(assert(!t.tt(),\"Cannot delete field for empty path on ObjectValue\"),1===t.length)return new e(this.Zt.remove(t.et()));var n=this.child(t.et());if(n instanceof e){var r=n.delete(t.J());return new e(this.Zt.Pt(t.et(),r))}return this},e.prototype.contains=function(t){return null!==this.field(t)},e.prototype.field=function(t){assert(!t.tt(),\"Can't get field of empty path\");var n=this;return t.forEach((function(t){n=n instanceof e?n.Zt.get(t):null})),n},e.prototype.fe=function(){var t=new __PRIVATE_SortedSet(FieldPath.H);return this.Zt.forEach((function(n,r){var i=new FieldPath([n]);if(r instanceof e){var s=r.fe().fields;s.tt()?t=t.add(i):s.forEach((function(e){t=t.add(i.child(e))}))}else t=t.add(i)})),__PRIVATE_FieldMask.te(t)},e.prototype.Me=function(){var t=0;return this.Zt.Vt((function(e,n){t+=e.length+n.Me()})),t},e.prototype.toString=function(){return this.Zt.toString()},e.prototype.child=function(t){return this.Zt.get(t)||void 0},e.prototype.Ke=function(t,n){return new e(this.Zt.Pt(t,n))},e.EMPTY=new e(new __PRIVATE_SortedMap(__PRIVATE_primitiveComparator)),e}(FieldValue),ArrayValue=function(t){function e(e){var n=t.call(this)||this;return n.Zt=e,n.Ne=__PRIVATE_TypeOrder.ArrayValue,n}return tslib.__extends(e,t),e.prototype.value=function(t){return this.Zt.map((function(e){return e.value(t)}))},e.prototype.contains=function(t){for(var e=0,n=this.Zt;e<n.length;e++){if(n[e].isEqual(t))return!0}return!1},e.prototype.forEach=function(t){this.Zt.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.Zt.length!==t.Zt.length)return!1;for(var n=0;n<this.Zt.length;n++)if(!this.Zt[n].isEqual(t.Zt[n]))return!1;return!0}return!1},e.prototype._=function(t){if(t instanceof e){for(var n=Math.min(this.Zt.length,t.Zt.length),r=0;r<n;r++){var i=this.Zt[r]._(t.Zt[r]);if(i)return i}return __PRIVATE_primitiveComparator(this.Zt.length,t.Zt.length)}return this.Fe(t)},e.prototype.Me=function(){return this.Zt.reduce((function(t,e){return t+e.Me()}),0)},e.prototype.toString=function(){return\"[\"+this.Zt.map((function(t){return t.toString()})).join(\",\")+\"]\"},e}(FieldValue),__PRIVATE_MaybeDocument=function(){function t(t,e){this.key=t,this.version=e}return t.je=function(t,e){return __PRIVATE_DocumentKey.H(t.key,e.key)},t}(),Document=function(t){function e(e,n,r,i,s,o){var u=t.call(this,e,n)||this;return u.qe=i,u.proto=s,u.converter=o,assert(void 0!==u.qe||void 0!==u.proto&&void 0!==u.converter,\"If objectValue is not defined, proto and converter need to be set.\"),u.ce=!!r.ce,u.hasCommittedMutations=!!r.hasCommittedMutations,u}return tslib.__extends(e,t),e.prototype.field=function(t){if(this.qe)return this.qe.field(t);this.Qe||(this.Qe=new Map);var e=t.ot(),n=this.Qe.get(e);if(void 0===n){var r=this.We(t);n=void 0===r?null:this.converter(r),this.Qe.set(e,n)}return n},e.prototype.data=function(){var t=this;if(!this.qe){var e=__PRIVATE_ObjectValue.EMPTY;forEach(this.proto.fields||{},(function(n,r){e=e.set(new FieldPath([n]),t.converter(r))})),this.qe=e,this.Qe=void 0}return this.qe},e.prototype.value=function(){return this.data().value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.ce===t.ce&&this.hasCommittedMutations===t.hasCommittedMutations&&this.data().isEqual(t.data())},e.prototype.toString=function(){return\"Document(\"+this.key+\", \"+this.version+\", \"+this.data().toString()+\", {hasLocalMutations: \"+this.ce+\"}), {hasCommittedMutations: \"+this.hasCommittedMutations+\"})\"},Object.defineProperty(e.prototype,\"hasPendingWrites\",{get:function(){return this.ce||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.We=function(t){assert(void 0!==this.proto,\"Can only call getProtoField() when proto is defined\");for(var e=this.proto.fields?this.proto.fields[t.et()]:void 0,n=1;n<t.length;++n){if(!e||!e.mapValue||!e.mapValue.fields)return;e=e.mapValue.fields[t.get(n)]}return e},e.$e=function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?r._(i):fail(\"Trying to compare documents on fields that don't exist\")},e}(__PRIVATE_MaybeDocument),__PRIVATE_NoDocument=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return tslib.__extends(e,t),e.prototype.toString=function(){return\"NoDocument(\"+this.key+\", \"+this.version+\")\"},Object.defineProperty(e.prototype,\"hasPendingWrites\",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(__PRIVATE_MaybeDocument),__PRIVATE_UnknownDocument=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tslib.__extends(e,t),e.prototype.toString=function(){return\"UnknownDocument(\"+this.key+\", \"+this.version+\")\"},Object.defineProperty(e.prototype,\"hasPendingWrites\",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(__PRIVATE_MaybeDocument),__PRIVATE_NumberAsAny=Number,MIN_SAFE_INTEGER=__PRIVATE_NumberAsAny.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),MAX_SAFE_INTEGER=__PRIVATE_NumberAsAny.MAX_SAFE_INTEGER||Math.pow(2,53)-1,isInteger=__PRIVATE_NumberAsAny.isInteger||function(t){return\"number\"==typeof t&&isFinite(t)&&Math.floor(t)===t};function isNullOrUndefined(t){return null==t}function isSafeInteger(t){return isInteger(t)&&t<=MAX_SAFE_INTEGER&&t>=MIN_SAFE_INTEGER}var __PRIVATE_LimitType,Target=function(){function t(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.Ye=null}return t.prototype.canonicalId=function(){if(null===this.Ye){var t=this.path.ot();null!==this.collectionGroup&&(t+=\"|cg:\"+this.collectionGroup),t+=\"|f:\";for(var e=0,n=this.filters;e<n.length;e++){t+=n[e].canonicalId(),t+=\",\"}t+=\"|ob:\";for(var r=0,i=this.orderBy;r<i.length;r++){t+=i[r].canonicalId(),t+=\",\"}isNullOrUndefined(this.limit)||(t+=\"|l:\",t+=this.limit),this.startAt&&(t+=\"|lb:\",t+=this.startAt.canonicalId()),this.endAt&&(t+=\"|ub:\",t+=this.endAt.canonicalId()),this.Ye=t}return this.Ye},t.prototype.toString=function(){var t=this.path.ot();return null!==this.collectionGroup&&(t+=\" collectionGroup=\"+this.collectionGroup),this.filters.length>0&&(t+=\", filters: [\"+this.filters.join(\", \")+\"]\"),isNullOrUndefined(this.limit)||(t+=\", limit: \"+this.limit),this.orderBy.length>0&&(t+=\", orderBy: [\"+this.orderBy.join(\", \")+\"]\"),this.startAt&&(t+=\", startAt: \"+this.startAt.canonicalId()),this.endAt&&(t+=\", endAt: \"+this.endAt.canonicalId()),\"Target(\"+t+\")\"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&(!!this.path.isEqual(t.path)&&(!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)))},t.prototype.He=function(){return __PRIVATE_DocumentKey.lt(this.path)&&null===this.collectionGroup&&0===this.filters.length},t}();!function(t){t.Xe=\"F\",t.ze=\"L\"}(__PRIVATE_LimitType||(__PRIVATE_LimitType={}));var __PRIVATE_TargetPurpose,Query=function(){function t(t,e,n,r,i,s,o,u){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=__PRIVATE_LimitType.Xe),void 0===o&&(o=null),void 0===u&&(u=null),this.path=t,this.collectionGroup=e,this.Je=n,this.filters=r,this.limit=i,this.Ze=s,this.startAt=o,this.endAt=u,this.tn=null,this.en=null,this.startAt&&this.nn(this.startAt),this.endAt&&this.nn(this.endAt)}return t.rn=function(e){return new t(e)},Object.defineProperty(t.prototype,\"orderBy\",{get:function(){if(null===this.tn){var t=this.in(),e=this.sn();if(null!==t&&null===e)t.ct()?this.tn=[__PRIVATE_KEY_ORDERING_ASC]:this.tn=[new __PRIVATE_OrderBy(t),__PRIVATE_KEY_ORDERING_ASC];else{assert(null===t||null!==e&&t.isEqual(e),\"First orderBy should match inequality field.\"),this.tn=[];for(var n=!1,r=0,i=this.Je;r<i.length;r++){var s=i[r];this.tn.push(s),s.field.ct()&&(n=!0)}if(!n){var o=this.Je.length>0?this.Je[this.Je.length-1].dir:__PRIVATE_Direction.ASCENDING;this.tn.push(o===__PRIVATE_Direction.ASCENDING?__PRIVATE_KEY_ORDERING_ASC:__PRIVATE_KEY_ORDERING_DESC)}}}return this.tn},enumerable:!0,configurable:!0}),t.prototype.on=function(e){assert(null==this.in()||!(e instanceof FieldFilter)||!e.un()||e.field.isEqual(this.in()),\"Query must only have one inequality field.\"),assert(!this.He(),\"No filtering allowed for document query\");var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.Je.slice(),n,this.limit,this.Ze,this.startAt,this.endAt)},t.prototype.an=function(e){assert(!this.startAt&&!this.endAt,\"Bounds must be set after orderBy\");var n=this.Je.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.Ze,this.startAt,this.endAt)},t.prototype._n=function(e){return new t(this.path,this.collectionGroup,this.Je.slice(),this.filters.slice(),e,__PRIVATE_LimitType.Xe,this.startAt,this.endAt)},t.prototype.cn=function(e){return new t(this.path,this.collectionGroup,this.Je.slice(),this.filters.slice(),e,__PRIVATE_LimitType.ze,this.startAt,this.endAt)},t.prototype.hn=function(e){return new t(this.path,this.collectionGroup,this.Je.slice(),this.filters.slice(),this.limit,this.Ze,e,this.endAt)},t.prototype.fn=function(e){return new t(this.path,this.collectionGroup,this.Je.slice(),this.filters.slice(),this.limit,this.Ze,this.startAt,e)},t.prototype.ln=function(e){return new t(e,null,this.Je.slice(),this.filters.slice(),this.limit,this.Ze,this.startAt,this.endAt)},t.prototype.dn=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.Je.length||1===this.Je.length&&this.Je[0].field.ct())},t.prototype.canonicalId=function(){return this.Tn().canonicalId()+\"|lt:\"+this.Ze},t.prototype.toString=function(){return\"Query(target=\"+this.Tn().toString()+\"; limitType=\"+this.Ze+\")\"},t.prototype.isEqual=function(t){return this.Tn().isEqual(t.Tn())&&this.Ze===t.Ze},t.prototype.En=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var s=i[r],o=s.compare(t,e);if(0!==o)return o;n=n||s.field.ct()}return assert(n,\"orderBy used that doesn't compare on key field\"),0},t.prototype.matches=function(t){return this.Pn(t)&&this.An(t)&&this.Rn(t)&&this.In(t)},t.prototype.Vn=function(){return!isNullOrUndefined(this.limit)&&this.Ze===__PRIVATE_LimitType.Xe},t.prototype.mn=function(){return!isNullOrUndefined(this.limit)&&this.Ze===__PRIVATE_LimitType.ze},t.prototype.sn=function(){return this.Je.length>0?this.Je[0].field:null},t.prototype.in=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof FieldFilter&&n.un())return n.field}return null},t.prototype.vn=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof FieldFilter&&t.indexOf(r.op)>=0)return r.op}return null},t.prototype.He=function(){return this.Tn().He()},t.prototype.pn=function(){return null!==this.collectionGroup},t.prototype.Tn=function(){if(!this.en)if(this.Ze===__PRIVATE_LimitType.Xe)this.en=new Target(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var r=n[e],i=r.dir===__PRIVATE_Direction.DESCENDING?__PRIVATE_Direction.ASCENDING:__PRIVATE_Direction.DESCENDING;t.push(new __PRIVATE_OrderBy(r.field,i))}var s=this.endAt?new __PRIVATE_Bound(this.endAt.position,!this.endAt.before):null,o=this.startAt?new __PRIVATE_Bound(this.startAt.position,!this.startAt.before):null;this.en=new Target(this.path,this.collectionGroup,t,this.filters,this.limit,s,o)}return this.en},t.prototype.Pn=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.dt(this.collectionGroup)&&this.path.rt(e):__PRIVATE_DocumentKey.lt(this.path)?this.path.isEqual(e):this.path.it(e)},t.prototype.An=function(t){for(var e=0,n=this.Je;e<n.length;e++){var r=n[e];if(!r.field.ct()&&null===t.field(r.field))return!1}return!0},t.prototype.Rn=function(t){for(var e=0,n=this.filters;e<n.length;e++){if(!n[e].matches(t))return!1}return!0},t.prototype.In=function(t){return!(this.startAt&&!this.startAt.bn(this.orderBy,t))&&(!this.endAt||!this.endAt.bn(this.orderBy,t))},t.prototype.nn=function(t){assert(t.position.length<=this.orderBy.length,\"Bound is longer than orderBy\")},t}(),Filter=function(){},__PRIVATE_Operator=function(){function t(t){this.name=t}return t.ut=function(e){switch(e){case\"<\":return t.LESS_THAN;case\"<=\":return t.LESS_THAN_OR_EQUAL;case\"==\":return t.EQUAL;case\">=\":return t.GREATER_THAN_OR_EQUAL;case\">\":return t.GREATER_THAN;case\"array-contains\":return t.ARRAY_CONTAINS;case\"in\":return t.IN;case\"array-contains-any\":return t.ARRAY_CONTAINS_ANY;default:return fail(\"Unknown FieldFilter operator: \"+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t(\"<\"),t.LESS_THAN_OR_EQUAL=new t(\"<=\"),t.EQUAL=new t(\"==\"),t.GREATER_THAN=new t(\">\"),t.GREATER_THAN_OR_EQUAL=new t(\">=\"),t.ARRAY_CONTAINS=new t(\"array-contains\"),t.IN=new t(\"in\"),t.ARRAY_CONTAINS_ANY=new t(\"array-contains-any\"),t}(),FieldFilter=function(t){function e(e,n,r){var i=t.call(this)||this;return i.field=e,i.op=n,i.value=r,i}return tslib.__extends(e,t),e.create=function(t,n,r){if(t.ct())return n===__PRIVATE_Operator.IN?(assert(r instanceof ArrayValue,\"Comparing on key with IN, but filter value not an ArrayValue\"),assert(r.Zt.every((function(t){return t instanceof __PRIVATE_RefValue})),\"Comparing on key with IN, but an array value was not a RefValue\"),new __PRIVATE_KeyFieldInFilter(t,r)):(assert(r instanceof __PRIVATE_RefValue,\"Comparing on key, but filter value not a RefValue\"),assert(n!==__PRIVATE_Operator.ARRAY_CONTAINS&&n!==__PRIVATE_Operator.ARRAY_CONTAINS_ANY,\"'\"+n.toString()+\"' queries don't make sense on document keys.\"),new __PRIVATE_KeyFieldFilter(t,n,r));if(r.isEqual(__PRIVATE_NullValue.Le)){if(n!==__PRIVATE_Operator.EQUAL)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Invalid query. Null supports only equality comparisons.\");return new e(t,n,r)}if(r.isEqual(__PRIVATE_DoubleValue.Ue)){if(n!==__PRIVATE_Operator.EQUAL)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Invalid query. NaN supports only equality comparisons.\");return new e(t,n,r)}return n===__PRIVATE_Operator.ARRAY_CONTAINS?new __PRIVATE_ArrayContainsFilter(t,r):n===__PRIVATE_Operator.IN?(assert(r instanceof ArrayValue,\"IN filter has invalid value: \"+r.toString()),new __PRIVATE_InFilter(t,r)):n===__PRIVATE_Operator.ARRAY_CONTAINS_ANY?(assert(r instanceof ArrayValue,\"ARRAY_CONTAINS_ANY filter has invalid value: \"+r.toString()),new __PRIVATE_ArrayContainsAnyFilter(t,r)):new e(t,n,r)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&this.value.Ne===e.Ne&&this.gn(e._(this.value))},e.prototype.gn=function(t){switch(this.op){case __PRIVATE_Operator.LESS_THAN:return t<0;case __PRIVATE_Operator.LESS_THAN_OR_EQUAL:return t<=0;case __PRIVATE_Operator.EQUAL:return 0===t;case __PRIVATE_Operator.GREATER_THAN:return t>0;case __PRIVATE_Operator.GREATER_THAN_OR_EQUAL:return t>=0;default:return fail(\"Unknown FieldFilter operator: \"+this.op)}},e.prototype.un=function(){return[__PRIVATE_Operator.LESS_THAN,__PRIVATE_Operator.LESS_THAN_OR_EQUAL,__PRIVATE_Operator.GREATER_THAN,__PRIVATE_Operator.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.ot()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&(this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value))},e.prototype.toString=function(){return this.field.ot()+\" \"+this.op+\" \"+this.value.value()},e}(Filter),__PRIVATE_KeyFieldFilter=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tslib.__extends(e,t),e.prototype.matches=function(t){var e=this.value,n=__PRIVATE_DocumentKey.H(t.key,e.key);return this.gn(n)},e}(FieldFilter),__PRIVATE_KeyFieldInFilter=function(t){function e(e,n){var r=t.call(this,e,__PRIVATE_Operator.IN,n)||this;return r.value=n,r}return tslib.__extends(e,t),e.prototype.matches=function(t){return this.value.Zt.some((function(e){return t.key.isEqual(e.key)}))},e}(FieldFilter),__PRIVATE_ArrayContainsFilter=function(t){function e(e,n){return t.call(this,e,__PRIVATE_Operator.ARRAY_CONTAINS,n)||this}return tslib.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return e instanceof ArrayValue&&e.contains(this.value)},e}(FieldFilter),__PRIVATE_InFilter=function(t){function e(e,n){var r=t.call(this,e,__PRIVATE_Operator.IN,n)||this;return r.value=n,r}return tslib.__extends(e,t),e.prototype.matches=function(t){var e=this.value,n=t.field(this.field);return null!==n&&e.contains(n)},e}(FieldFilter),__PRIVATE_ArrayContainsAnyFilter=function(t){function e(e,n){var r=t.call(this,e,__PRIVATE_Operator.ARRAY_CONTAINS_ANY,n)||this;return r.value=n,r}return tslib.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return n instanceof ArrayValue&&n.Zt.some((function(t){return e.value.contains(t)}))},e}(FieldFilter),__PRIVATE_Direction=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t(\"asc\"),t.DESCENDING=new t(\"desc\"),t}(),__PRIVATE_Bound=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?\"b:\":\"a:\",e=0,n=this.position;e<n.length;e++){t+=n[e].toString()}return t},t.prototype.bn=function(t,e){assert(this.position.length<=t.length,\"Bound has more components than query's orderBy\");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],s=this.position[r];if(i.field.ct())assert(s instanceof __PRIVATE_RefValue,\"Bound has a non-key value where the key path is being used.\"),n=__PRIVATE_DocumentKey.H(s.key,e.key);else{var o=e.field(i.field);assert(null!==o,\"Field should exist since document matched the orderBy already.\"),n=s._(o)}if(i.dir===__PRIVATE_Direction.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++){var n=this.position[e],r=t.position[e];if(!n.isEqual(r))return!1}return!0},t}(),__PRIVATE_OrderBy=function(){function t(t,e){this.field=t,void 0===e&&(e=__PRIVATE_Direction.ASCENDING),this.dir=e,this.wn=t.ct()}return t.prototype.compare=function(t,e){var n=this.wn?Document.je(t,e):Document.$e(this.field,t,e);switch(this.dir){case __PRIVATE_Direction.ASCENDING:return n;case __PRIVATE_Direction.DESCENDING:return-1*n;default:return fail(\"Unknown direction: \"+this.dir)}},t.prototype.canonicalId=function(){return this.field.ot()+this.dir.toString()},t.prototype.toString=function(){return this.field.ot()+\" (\"+this.dir+\")\"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),__PRIVATE_KEY_ORDERING_ASC=new __PRIVATE_OrderBy(FieldPath.ht(),__PRIVATE_Direction.ASCENDING),__PRIVATE_KEY_ORDERING_DESC=new __PRIVATE_OrderBy(FieldPath.ht(),__PRIVATE_Direction.DESCENDING);!function(t){t[t.yn=0]=\"__PRIVATE_Listen\",t[t.Sn=1]=\"__PRIVATE_ExistenceFilterMismatch\",t[t.Dn=2]=\"__PRIVATE_LimboResolution\"}(__PRIVATE_TargetPurpose||(__PRIVATE_TargetPurpose={}));var __PRIVATE_RpcCode,__PRIVATE_TargetData=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=__PRIVATE_SnapshotVersion.MIN),void 0===s&&(s=__PRIVATE_SnapshotVersion.MIN),void 0===o&&(o=__PRIVATE_emptyByteString()),this.target=t,this.targetId=e,this.Cn=n,this.sequenceNumber=r,this.On=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.Fn=function(e){return new t(this.target,this.targetId,this.Cn,e,this.On,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Nn=function(e,n){return new t(this.target,this.targetId,this.Cn,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Mn=function(e){return new t(this.target,this.targetId,this.Cn,this.sequenceNumber,this.On,e,this.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.Cn===t.Cn&&this.sequenceNumber===t.sequenceNumber&&this.On.isEqual(t.On)&&this.lastLimboFreeSnapshotVersion.isEqual(t.lastLimboFreeSnapshotVersion)&&this.resumeToken===t.resumeToken&&this.target.isEqual(t.target)},t}(),ExistenceFilter=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}();function __PRIVATE_isPermanentError(t){switch(t){case Code.OK:return fail(\"Treated status OK as error\");case Code.CANCELLED:case Code.UNKNOWN:case Code.DEADLINE_EXCEEDED:case Code.RESOURCE_EXHAUSTED:case Code.INTERNAL:case Code.UNAVAILABLE:case Code.UNAUTHENTICATED:return!1;case Code.INVALID_ARGUMENT:case Code.NOT_FOUND:case Code.ALREADY_EXISTS:case Code.PERMISSION_DENIED:case Code.FAILED_PRECONDITION:case Code.ABORTED:case Code.OUT_OF_RANGE:case Code.UNIMPLEMENTED:case Code.DATA_LOSS:return!0;default:return fail(\"Unknown status code: \"+t)}}function __PRIVATE_isPermanentWriteError(t){return __PRIVATE_isPermanentError(t)&&t!==Code.ABORTED}function __PRIVATE_mapCodeFromRpcStatus(t){var e=__PRIVATE_RpcCode[t];if(void 0!==e)return __PRIVATE_mapCodeFromRpcCode(e)}function __PRIVATE_mapCodeFromRpcCode(t){if(void 0===t)return error(\"GRPC error has no .code\"),Code.UNKNOWN;switch(t){case __PRIVATE_RpcCode.OK:return Code.OK;case __PRIVATE_RpcCode.CANCELLED:return Code.CANCELLED;case __PRIVATE_RpcCode.UNKNOWN:return Code.UNKNOWN;case __PRIVATE_RpcCode.DEADLINE_EXCEEDED:return Code.DEADLINE_EXCEEDED;case __PRIVATE_RpcCode.RESOURCE_EXHAUSTED:return Code.RESOURCE_EXHAUSTED;case __PRIVATE_RpcCode.INTERNAL:return Code.INTERNAL;case __PRIVATE_RpcCode.UNAVAILABLE:return Code.UNAVAILABLE;case __PRIVATE_RpcCode.UNAUTHENTICATED:return Code.UNAUTHENTICATED;case __PRIVATE_RpcCode.INVALID_ARGUMENT:return Code.INVALID_ARGUMENT;case __PRIVATE_RpcCode.NOT_FOUND:return Code.NOT_FOUND;case __PRIVATE_RpcCode.ALREADY_EXISTS:return Code.ALREADY_EXISTS;case __PRIVATE_RpcCode.PERMISSION_DENIED:return Code.PERMISSION_DENIED;case __PRIVATE_RpcCode.FAILED_PRECONDITION:return Code.FAILED_PRECONDITION;case __PRIVATE_RpcCode.ABORTED:return Code.ABORTED;case __PRIVATE_RpcCode.OUT_OF_RANGE:return Code.OUT_OF_RANGE;case __PRIVATE_RpcCode.UNIMPLEMENTED:return Code.UNIMPLEMENTED;case __PRIVATE_RpcCode.DATA_LOSS:return Code.DATA_LOSS;default:return fail(\"Unknown status code: \"+t)}}function __PRIVATE_mapRpcCodeFromCode(t){if(void 0===t)return __PRIVATE_RpcCode.OK;switch(t){case Code.OK:return __PRIVATE_RpcCode.OK;case Code.CANCELLED:return __PRIVATE_RpcCode.CANCELLED;case Code.UNKNOWN:return __PRIVATE_RpcCode.UNKNOWN;case Code.DEADLINE_EXCEEDED:return __PRIVATE_RpcCode.DEADLINE_EXCEEDED;case Code.RESOURCE_EXHAUSTED:return __PRIVATE_RpcCode.RESOURCE_EXHAUSTED;case Code.INTERNAL:return __PRIVATE_RpcCode.INTERNAL;case Code.UNAVAILABLE:return __PRIVATE_RpcCode.UNAVAILABLE;case Code.UNAUTHENTICATED:return __PRIVATE_RpcCode.UNAUTHENTICATED;case Code.INVALID_ARGUMENT:return __PRIVATE_RpcCode.INVALID_ARGUMENT;case Code.NOT_FOUND:return __PRIVATE_RpcCode.NOT_FOUND;case Code.ALREADY_EXISTS:return __PRIVATE_RpcCode.ALREADY_EXISTS;case Code.PERMISSION_DENIED:return __PRIVATE_RpcCode.PERMISSION_DENIED;case Code.FAILED_PRECONDITION:return __PRIVATE_RpcCode.FAILED_PRECONDITION;case Code.ABORTED:return __PRIVATE_RpcCode.ABORTED;case Code.OUT_OF_RANGE:return __PRIVATE_RpcCode.OUT_OF_RANGE;case Code.UNIMPLEMENTED:return __PRIVATE_RpcCode.UNIMPLEMENTED;case Code.DATA_LOSS:return __PRIVATE_RpcCode.DATA_LOSS;default:return fail(\"Unknown status code: \"+t)}}function __PRIVATE_mapCodeFromHttpResponseErrorStatus(t){var e=t.toLowerCase().replace(\"_\",\"-\");return Object.values(Code).indexOf(e)>=0?e:Code.UNKNOWN}!function(t){t[t.OK=0]=\"OK\",t[t.CANCELLED=1]=\"CANCELLED\",t[t.UNKNOWN=2]=\"UNKNOWN\",t[t.INVALID_ARGUMENT=3]=\"INVALID_ARGUMENT\",t[t.DEADLINE_EXCEEDED=4]=\"DEADLINE_EXCEEDED\",t[t.NOT_FOUND=5]=\"NOT_FOUND\",t[t.ALREADY_EXISTS=6]=\"ALREADY_EXISTS\",t[t.PERMISSION_DENIED=7]=\"PERMISSION_DENIED\",t[t.UNAUTHENTICATED=16]=\"UNAUTHENTICATED\",t[t.RESOURCE_EXHAUSTED=8]=\"RESOURCE_EXHAUSTED\",t[t.FAILED_PRECONDITION=9]=\"FAILED_PRECONDITION\",t[t.ABORTED=10]=\"ABORTED\",t[t.OUT_OF_RANGE=11]=\"OUT_OF_RANGE\",t[t.UNIMPLEMENTED=12]=\"UNIMPLEMENTED\",t[t.INTERNAL=13]=\"INTERNAL\",t[t.UNAVAILABLE=14]=\"UNAVAILABLE\",t[t.DATA_LOSS=15]=\"DATA_LOSS\"}(__PRIVATE_RpcCode||(__PRIVATE_RpcCode={}));var __PRIVATE_EMPTY_MAYBE_DOCUMENT_MAP=new __PRIVATE_SortedMap(__PRIVATE_DocumentKey.H);function __PRIVATE_maybeDocumentMap(){return __PRIVATE_EMPTY_MAYBE_DOCUMENT_MAP}function __PRIVATE_nullableMaybeDocumentMap(){return __PRIVATE_maybeDocumentMap()}var __PRIVATE_EMPTY_DOCUMENT_MAP=new __PRIVATE_SortedMap(__PRIVATE_DocumentKey.H);function __PRIVATE_documentMap(){return __PRIVATE_EMPTY_DOCUMENT_MAP}var __PRIVATE_EMPTY_DOCUMENT_VERSION_MAP=new __PRIVATE_SortedMap(__PRIVATE_DocumentKey.H);function __PRIVATE_documentVersionMap(){return __PRIVATE_EMPTY_DOCUMENT_VERSION_MAP}var __PRIVATE_EMPTY_DOCUMENT_KEY_SET=new __PRIVATE_SortedSet(__PRIVATE_DocumentKey.H);function __PRIVATE_documentKeySet(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=__PRIVATE_EMPTY_DOCUMENT_KEY_SET,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var __PRIVATE_EMPTY_TARGET_ID_SET=new __PRIVATE_SortedSet(__PRIVATE_primitiveComparator);function __PRIVATE_targetIdSet(){return __PRIVATE_EMPTY_TARGET_ID_SET}var __PRIVATE_ChangeType,__PRIVATE_SyncState,__PRIVATE_DocumentSet=function(){function t(t){this.H=t?function(e,n){return t(e,n)||__PRIVATE_DocumentKey.H(e.key,n.key)}:function(t,e){return __PRIVATE_DocumentKey.H(t.key,e.key)},this.Ln=__PRIVATE_documentMap(),this.Gn=new __PRIVATE_SortedMap(this.H)}return t.Bn=function(e){return new t(e.H)},t.prototype.has=function(t){return null!=this.Ln.get(t)},t.prototype.get=function(t){return this.Ln.get(t)},t.prototype.first=function(){return this.Gn.Rt()},t.prototype.last=function(){return this.Gn.It()},t.prototype.tt=function(){return this.Gn.tt()},t.prototype.indexOf=function(t){var e=this.Ln.get(t);return e?this.Gn.indexOf(e):-1},Object.defineProperty(t.prototype,\"size\",{get:function(){return this.Gn.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.Gn.Vt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ln.Pt(t.key,t),e.Gn.Pt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ln.remove(t),this.Gn.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Gn.pt(),r=e.Gn.pt();n.Ct();){var i=n.Dt().key,s=r.Dt().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?\"DocumentSet ()\":\"DocumentSet (\\n  \"+t.join(\"  \\n\")+\"\\n)\"},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.Ln=e,r.Gn=n,r},t}();!function(t){t[t.Un=0]=\"__PRIVATE_Added\",t[t.kn=1]=\"__PRIVATE_Removed\",t[t.xn=2]=\"__PRIVATE_Modified\",t[t.Kn=3]=\"__PRIVATE_Metadata\"}(__PRIVATE_ChangeType||(__PRIVATE_ChangeType={})),function(t){t[t.jn=0]=\"__PRIVATE_Local\",t[t.qn=1]=\"__PRIVATE_Synced\"}(__PRIVATE_SyncState||(__PRIVATE_SyncState={}));var __PRIVATE_WatchTargetChangeState,__PRIVATE_DocumentChangeSet=function(){function t(){this.Qn=new __PRIVATE_SortedMap(__PRIVATE_DocumentKey.H)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qn.get(e);n?t.type!==__PRIVATE_ChangeType.Un&&n.type===__PRIVATE_ChangeType.Kn?this.Qn=this.Qn.Pt(e,t):t.type===__PRIVATE_ChangeType.Kn&&n.type!==__PRIVATE_ChangeType.kn?this.Qn=this.Qn.Pt(e,{type:n.type,doc:t.doc}):t.type===__PRIVATE_ChangeType.xn&&n.type===__PRIVATE_ChangeType.xn?this.Qn=this.Qn.Pt(e,{type:__PRIVATE_ChangeType.xn,doc:t.doc}):t.type===__PRIVATE_ChangeType.xn&&n.type===__PRIVATE_ChangeType.Un?this.Qn=this.Qn.Pt(e,{type:__PRIVATE_ChangeType.Un,doc:t.doc}):t.type===__PRIVATE_ChangeType.kn&&n.type===__PRIVATE_ChangeType.Un?this.Qn=this.Qn.remove(e):t.type===__PRIVATE_ChangeType.kn&&n.type===__PRIVATE_ChangeType.xn?this.Qn=this.Qn.Pt(e,{type:__PRIVATE_ChangeType.kn,doc:n.doc}):t.type===__PRIVATE_ChangeType.Un&&n.type===__PRIVATE_ChangeType.kn?this.Qn=this.Qn.Pt(e,{type:__PRIVATE_ChangeType.xn,doc:t.doc}):fail(\"unsupported combination of changes: \"+JSON.stringify(t)+\" after \"+JSON.stringify(n)):this.Qn=this.Qn.Pt(e,t)},t.prototype.Wn=function(){var t=[];return this.Qn.Vt((function(e,n){t.push(n)})),t},t}(),__PRIVATE_ViewSnapshot=function(){function t(t,e,n,r,i,s,o,u){this.query=t,this.docs=e,this.$n=n,this.docChanges=r,this.Yn=i,this.fromCache=s,this.Hn=o,this.Xn=u}return t.zn=function(e,n,r,i){var s=[];return n.forEach((function(t){s.push({type:__PRIVATE_ChangeType.Un,doc:t})})),new t(e,n,__PRIVATE_DocumentSet.Bn(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,\"hasPendingWrites\",{get:function(){return!this.Yn.tt()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Hn===t.Hn&&this.Yn.isEqual(t.Yn)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.$n.isEqual(t.$n)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),__PRIVATE_RemoteEvent=function(){function t(t,e,n,r,i){this.On=t,this.Jn=e,this.Zn=n,this.tr=r,this.er=i}return t.nr=function(e,n){var r,i=((r={})[e]=TargetChange.rr(e,n),r);return new t(__PRIVATE_SnapshotVersion.MIN,i,__PRIVATE_targetIdSet(),__PRIVATE_maybeDocumentMap(),__PRIVATE_documentKeySet())},t}(),TargetChange=function(){function t(t,e,n,r,i){this.resumeToken=t,this.ir=e,this.sr=n,this.or=r,this.ur=i}return t.rr=function(e,n){return new t(__PRIVATE_emptyByteString(),n,__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet())},t}(),__PRIVATE_DocumentWatchChange=function(t,e,n,r){this.ar=t,this.removedTargetIds=e,this.key=n,this._r=r},__PRIVATE_ExistenceFilterChange=function(t,e){this.targetId=t,this.cr=e};!function(t){t[t.hr=0]=\"__PRIVATE_NoChange\",t[t.Un=1]=\"__PRIVATE_Added\",t[t.kn=2]=\"__PRIVATE_Removed\",t[t.lr=3]=\"__PRIVATE_Current\",t[t.dr=4]=\"__PRIVATE_Reset\"}(__PRIVATE_WatchTargetChangeState||(__PRIVATE_WatchTargetChangeState={}));var __PRIVATE_WatchTargetChange=function(t,e,n,r){void 0===n&&(n=__PRIVATE_emptyByteString()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},__PRIVATE_TargetState=function(){function t(){this.Tr=0,this.Er=__PRIVATE_snapshotChangesMap(),this.Pr=__PRIVATE_emptyByteString(),this.Ar=!1,this.Rr=!0}return Object.defineProperty(t.prototype,\"ir\",{get:function(){return this.Ar},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"resumeToken\",{get:function(){return this.Pr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"Ir\",{get:function(){return 0!==this.Tr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"Vr\",{get:function(){return this.Rr},enumerable:!0,configurable:!0}),t.prototype.mr=function(t){t.length>0&&(this.Rr=!0,this.Pr=t)},t.prototype.vr=function(){var t=__PRIVATE_documentKeySet(),e=__PRIVATE_documentKeySet(),n=__PRIVATE_documentKeySet();return this.Er.forEach((function(r,i){switch(i){case __PRIVATE_ChangeType.Un:t=t.add(r);break;case __PRIVATE_ChangeType.xn:e=e.add(r);break;case __PRIVATE_ChangeType.kn:n=n.add(r);break;default:fail(\"Encountered invalid change type: \"+i)}})),new TargetChange(this.Pr,this.Ar,t,e,n)},t.prototype.pr=function(){this.Rr=!1,this.Er=__PRIVATE_snapshotChangesMap()},t.prototype.br=function(t,e){this.Rr=!0,this.Er=this.Er.Pt(t,e)},t.prototype.gr=function(t){this.Rr=!0,this.Er=this.Er.remove(t)},t.prototype.wr=function(){this.Tr+=1},t.prototype.yr=function(){this.Tr-=1},t.prototype.Sr=function(){this.Rr=!0,this.Ar=!0},t}(),__PRIVATE_LOG_TAG=\"WatchChangeAggregator\",__PRIVATE_WatchChangeAggregator=function(){function t(t){this.Dr=t,this.Cr={},this.Or=__PRIVATE_maybeDocumentMap(),this.Fr=__PRIVATE_documentTargetMap(),this.Nr=new __PRIVATE_SortedSet(__PRIVATE_primitiveComparator)}return t.prototype.Mr=function(t){for(var e=0,n=t.ar;e<n.length;e++){var r=n[e];t._r instanceof Document?this.Lr(r,t._r):t._r instanceof __PRIVATE_NoDocument&&this.Gr(r,t.key,t._r)}for(var i=0,s=t.removedTargetIds;i<s.length;i++){r=s[i];this.Gr(r,t.key,t._r)}},t.prototype.Br=function(t){var e=this;this.Ur(t,(function(n){var r=e.kr(n);switch(t.state){case __PRIVATE_WatchTargetChangeState.hr:e.xr(n)&&r.mr(t.resumeToken);break;case __PRIVATE_WatchTargetChangeState.Un:r.yr(),r.Ir||r.pr(),r.mr(t.resumeToken);break;case __PRIVATE_WatchTargetChangeState.kn:r.yr(),r.Ir||e.removeTarget(n),assert(!t.cause,\"WatchChangeAggregator does not handle errored targets\");break;case __PRIVATE_WatchTargetChangeState.lr:e.xr(n)&&(r.Sr(),r.mr(t.resumeToken));break;case __PRIVATE_WatchTargetChangeState.dr:e.xr(n)&&(e.Kr(n),r.mr(t.resumeToken));break;default:fail(\"Unknown target watch change state: \"+t.state)}}))},t.prototype.Ur=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):__PRIVATE_forEachNumber(this.Cr,e)},t.prototype.jr=function(t){var e=t.targetId,n=t.cr.count,r=this.qr(e);if(r){var i=r.target;if(i.He())if(0===n){var s=new __PRIVATE_DocumentKey(i.path);this.Gr(e,s,new __PRIVATE_NoDocument(s,__PRIVATE_SnapshotVersion.W()))}else assert(1===n,\"Single document existence filter with count: \"+n);else this.Qr(e)!==n&&(this.Kr(e),this.Nr=this.Nr.add(e))}},t.prototype.Wr=function(t){var e=this,n={};__PRIVATE_forEachNumber(this.Cr,(function(r,i){var s=e.qr(r);if(s){if(i.ir&&s.target.He()){var o=new __PRIVATE_DocumentKey(s.target.path);null!==e.Or.get(o)||e.$r(r,o)||e.Gr(r,o,new __PRIVATE_NoDocument(o,t))}i.Vr&&(n[r]=i.vr(),i.pr())}}));var r=__PRIVATE_documentKeySet();this.Fr.forEach((function(t,n){var i=!0;n.Qt((function(t){var n=e.qr(t);return!n||n.Cn===__PRIVATE_TargetPurpose.Dn||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new __PRIVATE_RemoteEvent(t,n,this.Nr,this.Or,r);return this.Or=__PRIVATE_maybeDocumentMap(),this.Fr=__PRIVATE_documentTargetMap(),this.Nr=new __PRIVATE_SortedSet(__PRIVATE_primitiveComparator),i},t.prototype.Lr=function(t,e){if(this.xr(t)){var n=this.$r(t,e.key)?__PRIVATE_ChangeType.xn:__PRIVATE_ChangeType.Un;this.kr(t).br(e.key,n),this.Or=this.Or.Pt(e.key,e),this.Fr=this.Fr.Pt(e.key,this.Yr(e.key).add(t))}},t.prototype.Gr=function(t,e,n){if(this.xr(t)){var r=this.kr(t);this.$r(t,e)?r.br(e,__PRIVATE_ChangeType.kn):r.gr(e),this.Fr=this.Fr.Pt(e,this.Yr(e).delete(t)),n&&(this.Or=this.Or.Pt(e,n))}},t.prototype.removeTarget=function(t){delete this.Cr[t]},t.prototype.Qr=function(t){var e=this.kr(t).vr();return this.Dr.Hr(t).size+e.sr.size-e.ur.size},t.prototype.wr=function(t){this.kr(t).wr()},t.prototype.kr=function(t){return this.Cr[t]||(this.Cr[t]=new __PRIVATE_TargetState),this.Cr[t]},t.prototype.Yr=function(t){var e=this.Fr.get(t);return e||(e=new __PRIVATE_SortedSet(__PRIVATE_primitiveComparator),this.Fr=this.Fr.Pt(t,e)),e},t.prototype.xr=function(t){var e=null!==this.qr(t);return e||debug(__PRIVATE_LOG_TAG,\"Detected inactive target\",t),e},t.prototype.qr=function(t){var e=this.Cr[t];return e&&e.Ir?null:this.Dr.Xr(t)},t.prototype.Kr=function(t){var e=this;assert(!this.Cr[t].Ir,\"Should only reset active targets\"),this.Cr[t]=new __PRIVATE_TargetState,this.Dr.Hr(t).forEach((function(n){e.Gr(t,n,null)}))},t.prototype.$r=function(t,e){return this.Dr.Hr(t).has(e)},t}();function __PRIVATE_documentTargetMap(){return new __PRIVATE_SortedMap(__PRIVATE_DocumentKey.H)}function __PRIVATE_snapshotChangesMap(){return new __PRIVATE_SortedMap(__PRIVATE_DocumentKey.H)}var __PRIVATE_DIRECTIONS=function(){var t={};return t[__PRIVATE_Direction.ASCENDING.name]=\"ASCENDING\",t[__PRIVATE_Direction.DESCENDING.name]=\"DESCENDING\",t}(),__PRIVATE_OPERATORS=function(){var t={};return t[__PRIVATE_Operator.LESS_THAN.name]=\"LESS_THAN\",t[__PRIVATE_Operator.LESS_THAN_OR_EQUAL.name]=\"LESS_THAN_OR_EQUAL\",t[__PRIVATE_Operator.GREATER_THAN.name]=\"GREATER_THAN\",t[__PRIVATE_Operator.GREATER_THAN_OR_EQUAL.name]=\"GREATER_THAN_OR_EQUAL\",t[__PRIVATE_Operator.EQUAL.name]=\"EQUAL\",t[__PRIVATE_Operator.ARRAY_CONTAINS.name]=\"ARRAY_CONTAINS\",t[__PRIVATE_Operator.IN.name]=\"IN\",t[__PRIVATE_Operator.ARRAY_CONTAINS_ANY.name]=\"ARRAY_CONTAINS_ANY\",t}(),__PRIVATE_ISO_REG_EXP=new RegExp(/^\\d{4}-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d(?:\\.(\\d+))?Z$/);function __PRIVATE_assertPresent(t,e){assert(!isNullOrUndefined(t),e+\" is missing\")}function __PRIVATE_parseInt64(t){return\"number\"==typeof t?t:\"string\"==typeof t?Number(t):fail(\"can't parse \"+t)}var __PRIVATE_JsonProtoSerializer=function(){function t(t,e){this.o=t,this.options=e}return t.prototype.zr=function(){return this.options.Jr?\"\":new Uint8Array(0)},t.prototype.Zr=function(t){return t},t.prototype.ti=function(t){var e=void 0===t.code?Code.UNKNOWN:__PRIVATE_mapCodeFromRpcCode(t.code);return new FirestoreError(e,t.message||\"\")},t.prototype.ei=function(t){return this.options.Jr||isNullOrUndefined(t)?t:{value:t}},t.prototype.ni=function(t){var e;return isNullOrUndefined(e=\"object\"==typeof t?t.value:t)?null:e},t.prototype.Y=function(t){return this.options.Jr?new Date(1e3*t.seconds).toISOString().replace(/\\.\\d*/,\"\").replace(\"Z\",\"\")+\".\"+(\"000000000\"+t.nanoseconds).slice(-9)+\"Z\":{seconds:\"\"+t.seconds,nanos:t.nanoseconds}},t.prototype.q=function(t){if(\"string\"==typeof t)return this.ri(t);assert(!!t,\"Cannot deserialize null or undefined timestamp.\");var e=__PRIVATE_parseInt64(t.seconds||\"0\"),n=t.nanos||0;return new Timestamp(e,n)},t.prototype.ri=function(t){var e=0,n=__PRIVATE_ISO_REG_EXP.exec(t);if(assert(!!n,\"invalid timestamp: \"+t),n[1]){var r=n[1];r=(r+\"000000000\").substr(0,9),e=Number(r)}var i=new Date(t),s=Math.floor(i.getTime()/1e3);return new Timestamp(s,e)},t.prototype.ii=function(t){return this.options.Jr?t.toBase64():this.Zr(t.toUint8Array())},t.prototype.si=function(t){return\"string\"==typeof t?(assert(this.options.Jr,\"Expected bytes to be passed in as Uint8Array, but got a string instead.\"),Blob.fromBase64String(t)):(assert(!this.options.Jr,\"Expected bytes to be passed in as Uint8Array, but got a string instead.\"),Blob.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.Y(t.Y())},t.prototype.fromVersion=function(t){return assert(!!t,\"Trying to deserialize version that isn't set\"),__PRIVATE_SnapshotVersion.q(this.q(t))},t.prototype.oi=function(t,e){return this.ui(t).child(\"documents\").child(e).ot()},t.prototype.ai=function(t){var e=ResourcePath.ut(t);return assert(this._i(e),\"Tried to deserialize invalid key \"+e.toString()),e},t.prototype.ci=function(t){return this.oi(this.o,t.path)},t.prototype.hi=function(t){var e=this.ai(t);return assert(e.get(1)===this.o.projectId,\"Tried to deserialize key from different project: \"+e.get(1)+\" vs \"+this.o.projectId),assert(!e.get(3)&&!this.o.database||e.get(3)===this.o.database,\"Tried to deserialize key from different database: \"+e.get(3)+\" vs \"+this.o.database),new __PRIVATE_DocumentKey(this.fi(e))},t.prototype.li=function(t){return this.oi(this.o,t)},t.prototype.di=function(t){var e=this.ai(t);return 4===e.length?ResourcePath.at:this.fi(e)},Object.defineProperty(t.prototype,\"Ti\",{get:function(){return new ResourcePath([\"projects\",this.o.projectId,\"databases\",this.o.database]).ot()},enumerable:!0,configurable:!0}),t.prototype.ui=function(t){return new ResourcePath([\"projects\",t.projectId,\"databases\",t.database])},t.prototype.fi=function(t){return assert(t.length>4&&\"documents\"===t.get(4),\"tried to deserialize invalid key \"+t.toString()),t.J(5)},t.prototype._i=function(t){return t.length>=4&&\"projects\"===t.get(0)&&\"databases\"===t.get(2)},t.prototype.Ei=function(t){if(t instanceof __PRIVATE_NullValue)return{nullValue:\"NULL_VALUE\"};if(t instanceof __PRIVATE_BooleanValue)return{booleanValue:t.value()};if(t instanceof __PRIVATE_IntegerValue)return{integerValue:\"\"+t.value()};if(t instanceof __PRIVATE_DoubleValue){var e=t.value();if(this.options.Jr){if(isNaN(e))return{doubleValue:\"NaN\"};if(e===1/0)return{doubleValue:\"Infinity\"};if(e===-1/0)return{doubleValue:\"-Infinity\"}}return{doubleValue:t.value()}}return t instanceof __PRIVATE_StringValue?{stringValue:t.value()}:t instanceof __PRIVATE_ObjectValue?{mapValue:this.Pi(t)}:t instanceof ArrayValue?{arrayValue:this.Ai(t)}:t instanceof __PRIVATE_TimestampValue?{timestampValue:this.Y(t.Zt)}:t instanceof __PRIVATE_GeoPointValue?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof __PRIVATE_BlobValue?{bytesValue:this.ii(t.value())}:t instanceof __PRIVATE_RefValue?{referenceValue:this.oi(t.o,t.key.path)}:fail(\"Unknown FieldValue \"+JSON.stringify(t))},t.prototype.Ri=function(t){var e=this;if(\"nullValue\"in t)return __PRIVATE_NullValue.Le;if(\"booleanValue\"in t)return __PRIVATE_BooleanValue.of(t.booleanValue);if(\"integerValue\"in t)return new __PRIVATE_IntegerValue(__PRIVATE_parseInt64(t.integerValue));if(\"doubleValue\"in t){if(this.options.Jr){if(\"NaN\"===t.doubleValue)return __PRIVATE_DoubleValue.Ue;if(\"Infinity\"===t.doubleValue)return __PRIVATE_DoubleValue.POSITIVE_INFINITY;if(\"-Infinity\"===t.doubleValue)return __PRIVATE_DoubleValue.NEGATIVE_INFINITY}return new __PRIVATE_DoubleValue(t.doubleValue)}if(\"stringValue\"in t)return new __PRIVATE_StringValue(t.stringValue);if(\"mapValue\"in t)return this.Ii(t.mapValue.fields||{});if(\"arrayValue\"in t){__PRIVATE_assertPresent(t.arrayValue,\"arrayValue\");var n=t.arrayValue.values||[];return new ArrayValue(n.map((function(t){return e.Ri(t)})))}if(\"timestampValue\"in t)return __PRIVATE_assertPresent(t.timestampValue,\"timestampValue\"),new __PRIVATE_TimestampValue(this.q(t.timestampValue));if(\"geoPointValue\"in t){__PRIVATE_assertPresent(t.geoPointValue,\"geoPointValue\");var r=t.geoPointValue.latitude||0,i=t.geoPointValue.longitude||0;return new __PRIVATE_GeoPointValue(new GeoPoint(r,i))}if(\"bytesValue\"in t){__PRIVATE_assertPresent(t.bytesValue,\"bytesValue\");var s=this.si(t.bytesValue);return new __PRIVATE_BlobValue(s)}if(\"referenceValue\"in t){__PRIVATE_assertPresent(t.referenceValue,\"referenceValue\");var o=this.ai(t.referenceValue),u=new __PRIVATE_DatabaseId(o.get(1),o.get(3)),a=new __PRIVATE_DocumentKey(this.fi(o));return new __PRIVATE_RefValue(u,a)}return fail(\"Unknown Value proto \"+JSON.stringify(t))},t.prototype.Vi=function(t,e){return{name:this.ci(t),fields:this.mi(e)}},t.prototype.vi=function(t){return assert(!t.ce,\"Can't serialize documents with mutations.\"),{name:this.ci(t.key),fields:this.mi(t.data()),updateTime:this.Y(t.version.Y())}},t.prototype.pi=function(t,e){var n=this,r=this.hi(t.name),i=this.fromVersion(t.updateTime);return new Document(r,i,{hasCommittedMutations:!!e},void 0,t,(function(t){return n.Ri(t)}))},t.prototype.mi=function(t){var e=this,n={};return t.forEach((function(t,r){n[t]=e.Ei(r)})),n},t.prototype.Ii=function(t){var e=this,n=t,r=__PRIVATE_ObjectValue.EMPTY;return forEach(n,(function(t,n){r=r.set(new FieldPath([t]),e.Ri(n))})),r},t.prototype.Pi=function(t){return{fields:this.mi(t)}},t.prototype.Ai=function(t){var e=this,n=[];return t.forEach((function(t){n.push(e.Ei(t))})),{values:n}},t.prototype.bi=function(t){var e=this;assert(!!t.found,\"Tried to deserialize a found document from a missing document.\"),__PRIVATE_assertPresent(t.found.name,\"doc.found.name\"),__PRIVATE_assertPresent(t.found.updateTime,\"doc.found.updateTime\");var n=this.hi(t.found.name),r=this.fromVersion(t.found.updateTime);return new Document(n,r,{},void 0,t.found,(function(t){return e.Ri(t)}))},t.prototype.gi=function(t){assert(!!t.missing,\"Tried to deserialize a missing document from a found document.\"),assert(!!t.readTime,\"Tried to deserialize a missing document without a read time.\");var e=this.hi(t.missing),n=this.fromVersion(t.readTime);return new __PRIVATE_NoDocument(e,n)},t.prototype.wi=function(t){return\"found\"in t?this.bi(t):\"missing\"in t?this.gi(t):fail(\"invalid batch get response: \"+JSON.stringify(t))},t.prototype.yi=function(t){switch(t){case __PRIVATE_WatchTargetChangeState.Un:return\"ADD\";case __PRIVATE_WatchTargetChangeState.lr:return\"CURRENT\";case __PRIVATE_WatchTargetChangeState.hr:return\"NO_CHANGE\";case __PRIVATE_WatchTargetChangeState.kn:return\"REMOVE\";case __PRIVATE_WatchTargetChangeState.dr:return\"RESET\";default:return fail(\"Unknown WatchTargetChangeState: \"+t)}},t.prototype.Si=function(t){if(t instanceof __PRIVATE_ExistenceFilterChange)return{filter:{count:t.cr.count,targetId:t.targetId}};if(t instanceof __PRIVATE_DocumentWatchChange){if(t._r instanceof Document){var e=t._r;return{documentChange:{document:{name:this.ci(e.key),fields:this.mi(e.data()),updateTime:this.toVersion(e.version)},targetIds:t.ar,removedTargetIds:t.removedTargetIds}}}if(t._r instanceof __PRIVATE_NoDocument){e=t._r;return{documentDelete:{document:this.ci(e.key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}}}if(null===t._r)return{documentRemove:{document:this.ci(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof __PRIVATE_WatchTargetChange){var n=void 0;return t.cause&&(n={code:__PRIVATE_mapRpcCodeFromCode(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.yi(t.state),targetIds:t.targetIds,resumeToken:this.Zr(t.resumeToken),cause:n}}}return fail(\"Unrecognized watch change: \"+JSON.stringify(t))},t.prototype.Di=function(t){var e,n=this;if(\"targetChange\"in t){__PRIVATE_assertPresent(t.targetChange,\"targetChange\");var r=this.Ci(t.targetChange.targetChangeType||\"NO_CHANGE\"),i=t.targetChange.targetIds||[],s=t.targetChange.resumeToken||this.zr(),o=t.targetChange.cause,u=o&&this.ti(o);e=new __PRIVATE_WatchTargetChange(r,i,s,u||null)}else if(\"documentChange\"in t){__PRIVATE_assertPresent(t.documentChange,\"documentChange\");var a=t.documentChange;__PRIVATE_assertPresent(a.document,\"documentChange.name\"),__PRIVATE_assertPresent(a.document.name,\"documentChange.document.name\"),__PRIVATE_assertPresent(a.document.updateTime,\"documentChange.document.updateTime\");var _=this.hi(a.document.name),c=this.fromVersion(a.document.updateTime),h=new Document(_,c,{},void 0,a.document,(function(t){return n.Ri(t)})),f=a.targetIds||[],l=a.removedTargetIds||[];e=new __PRIVATE_DocumentWatchChange(f,l,h.key,h)}else if(\"documentDelete\"in t){__PRIVATE_assertPresent(t.documentDelete,\"documentDelete\");var d=t.documentDelete;__PRIVATE_assertPresent(d.document,\"documentDelete.document\");_=this.hi(d.document),c=d.readTime?this.fromVersion(d.readTime):__PRIVATE_SnapshotVersion.W(),h=new __PRIVATE_NoDocument(_,c),l=d.removedTargetIds||[];e=new __PRIVATE_DocumentWatchChange([],l,h.key,h)}else if(\"documentRemove\"in t){__PRIVATE_assertPresent(t.documentRemove,\"documentRemove\");var T=t.documentRemove;__PRIVATE_assertPresent(T.document,\"documentRemove\");_=this.hi(T.document),l=T.removedTargetIds||[];e=new __PRIVATE_DocumentWatchChange([],l,_,null)}else{if(!(\"filter\"in t))return fail(\"Unknown change type \"+JSON.stringify(t));__PRIVATE_assertPresent(t.filter,\"filter\");var E=t.filter;__PRIVATE_assertPresent(E.targetId,\"filter.targetId\");var P=E.count||0,A=new ExistenceFilter(P),R=E.targetId;e=new __PRIVATE_ExistenceFilterChange(R,A)}return e},t.prototype.Ci=function(t){return\"NO_CHANGE\"===t?__PRIVATE_WatchTargetChangeState.hr:\"ADD\"===t?__PRIVATE_WatchTargetChangeState.Un:\"REMOVE\"===t?__PRIVATE_WatchTargetChangeState.kn:\"CURRENT\"===t?__PRIVATE_WatchTargetChangeState.lr:\"RESET\"===t?__PRIVATE_WatchTargetChangeState.dr:fail(\"Got unexpected TargetChange.state: \"+t)},t.prototype.Oi=function(t){if(!(\"targetChange\"in t))return __PRIVATE_SnapshotVersion.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?__PRIVATE_SnapshotVersion.MIN:e.readTime?this.fromVersion(e.readTime):__PRIVATE_SnapshotVersion.MIN},t.prototype.Fi=function(t){var e,n=this;if(t instanceof __PRIVATE_SetMutation)e={update:this.Vi(t.key,t.value)};else if(t instanceof __PRIVATE_DeleteMutation)e={delete:this.ci(t.key)};else if(t instanceof __PRIVATE_PatchMutation)e={update:this.Vi(t.key,t.data),updateMask:this.Ni(t.fe)};else if(t instanceof __PRIVATE_TransformMutation)e={transform:{document:this.ci(t.key),fieldTransforms:t.fieldTransforms.map((function(t){return n.Mi(t)}))}};else{if(!(t instanceof __PRIVATE_VerifyMutation))return fail(\"Unknown mutation type \"+t.type);e={verify:this.ci(t.key)}}return t._e.se||(e.currentDocument=this.Li(t._e)),e},t.prototype.Gi=function(t){var e=this,n=t.currentDocument?this.Bi(t.currentDocument):Precondition.NONE;if(t.update){__PRIVATE_assertPresent(t.update.name,\"name\");var r=this.hi(t.update.name),i=this.Ii(t.update.fields||{});if(t.updateMask){var s=this.Ui(t.updateMask);return new __PRIVATE_PatchMutation(r,i,s,n)}return new __PRIVATE_SetMutation(r,i,n)}if(t.delete){r=this.hi(t.delete);return new __PRIVATE_DeleteMutation(r,n)}if(t.transform){r=this.hi(t.transform.document);var o=t.transform.fieldTransforms.map((function(t){return e.ki(t)}));return assert(!0===n.exists,'Transforms only support precondition \"exists == true\"'),new __PRIVATE_TransformMutation(r,o)}if(t.verify){r=this.hi(t.verify);return new __PRIVATE_VerifyMutation(r,n)}return fail(\"unknown mutation proto: \"+JSON.stringify(t))},t.prototype.Li=function(t){return assert(!t.se,\"Can't serialize an empty precondition\"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:fail(\"Unknown precondition\")},t.prototype.Bi=function(t){return void 0!==t.updateTime?Precondition.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?Precondition.exists(t.exists):Precondition.NONE},t.prototype.xi=function(t,e){var n=this,r=t.updateTime?this.fromVersion(t.updateTime):this.fromVersion(e);r.isEqual(__PRIVATE_SnapshotVersion.MIN)&&(r=this.fromVersion(e));var i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults.map((function(t){return n.Ri(t)}))),new __PRIVATE_MutationResult(r,i)},t.prototype.Ki=function(t,e){var n=this;return t&&t.length>0?(assert(void 0!==e,\"Received a write result without a commit time\"),t.map((function(t){return n.xi(t,e)}))):[]},t.prototype.Mi=function(t){var e=this,n=t.transform;if(n instanceof __PRIVATE_ServerTimestampTransform)return{fieldPath:t.field.ot(),setToServerValue:\"REQUEST_TIME\"};if(n instanceof __PRIVATE_ArrayUnionTransformOperation)return{fieldPath:t.field.ot(),appendMissingElements:{values:n.elements.map((function(t){return e.Ei(t)}))}};if(n instanceof __PRIVATE_ArrayRemoveTransformOperation)return{fieldPath:t.field.ot(),removeAllFromArray:{values:n.elements.map((function(t){return e.Ei(t)}))}};if(n instanceof __PRIVATE_NumericIncrementTransformOperation)return{fieldPath:t.field.ot(),increment:this.Ei(n.Jt)};throw fail(\"Unknown transform: \"+t.transform)},t.prototype.ki=function(t){var e=this,n=null;if(\"setToServerValue\"in t)assert(\"REQUEST_TIME\"===t.setToServerValue,\"Unknown server value transform proto: \"+JSON.stringify(t)),n=__PRIVATE_ServerTimestampTransform.instance;else if(\"appendMissingElements\"in t){var r=t.appendMissingElements.values||[];n=new __PRIVATE_ArrayUnionTransformOperation(r.map((function(t){return e.Ri(t)})))}else if(\"removeAllFromArray\"in t){r=t.removeAllFromArray.values||[];n=new __PRIVATE_ArrayRemoveTransformOperation(r.map((function(t){return e.Ri(t)})))}else if(\"increment\"in t){var i=this.Ri(t.increment);assert(i instanceof __PRIVATE_NumberValue,\"NUMERIC_ADD transform requires a NumberValue\"),n=new __PRIVATE_NumericIncrementTransformOperation(i)}else fail(\"Unknown transform proto: \"+JSON.stringify(t));var s=FieldPath.ft(t.fieldPath);return new FieldTransform(s,n)},t.prototype.ji=function(t){return{documents:[this.li(t.path)]}},t.prototype.qi=function(t){var e=t.documents.length;assert(1===e,\"DocumentsTarget contained other than 1 document: \"+e);var n=t.documents[0];return Query.rn(this.di(n)).Tn()},t.prototype.Qi=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(assert(n.length%2==0,\"Collection Group queries should be within a document path or root.\"),e.parent=this.li(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(assert(n.length%2!=0,\"Document queries with filters are not supported.\"),e.parent=this.li(n.Z()),e.structuredQuery.from=[{collectionId:n.nt()}]);var r=this.Wi(t.filters);r&&(e.structuredQuery.where=r);var i=this.$i(t.orderBy);i&&(e.structuredQuery.orderBy=i);var s=this.ei(t.limit);return null!==s&&(e.structuredQuery.limit=s),t.startAt&&(e.structuredQuery.startAt=this.Yi(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.Yi(t.endAt)),e},t.prototype.Hi=function(t){var e=this.di(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){assert(1===r,\"StructuredQuery.from with more than one collection is not supported.\");var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=this.Xi(n.where));var u=[];n.orderBy&&(u=this.zi(n.orderBy));var a=null;n.limit&&(a=this.ni(n.limit));var _=null;n.startAt&&(_=this.Ji(n.startAt));var c=null;return n.endAt&&(c=this.Ji(n.endAt)),new Query(e,i,u,o,a,__PRIVATE_LimitType.Xe,_,c).Tn()},t.prototype.Zi=function(t){var e=this.ts(t.Cn);return null==e?null:{\"goog-listen-tags\":e}},t.prototype.ts=function(t){switch(t){case __PRIVATE_TargetPurpose.yn:return null;case __PRIVATE_TargetPurpose.Sn:return\"existence-filter-mismatch\";case __PRIVATE_TargetPurpose.Dn:return\"limbo-document\";default:return fail(\"Unrecognized query purpose: \"+t)}},t.prototype.Tn=function(t){var e,n=t.target;return(e=n.He()?{documents:this.ji(n)}:{query:this.Qi(n)}).targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.Zr(t.resumeToken)),e},t.prototype.Wi=function(t){var e=this;if(0!==t.length){var n=t.map((function(t){return t instanceof FieldFilter?e.es(t):fail(\"Unrecognized filter: \"+JSON.stringify(t))}));return 1===n.length?n[0]:{compositeFilter:{op:\"AND\",filters:n}}}},t.prototype.Xi=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.ns(t)]:void 0!==t.fieldFilter?[this.rs(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e.Xi(t)})).reduce((function(t,e){return t.concat(e)})):fail(\"Unknown filter: \"+JSON.stringify(t)):[]},t.prototype.$i=function(t){var e=this;if(0!==t.length)return t.map((function(t){return e.ss(t)}))},t.prototype.zi=function(t){var e=this;return t.map((function(t){return e.os(t)}))},t.prototype.Yi=function(t){var e=this;return{before:t.before,values:t.position.map((function(t){return e.Ei(t)}))}},t.prototype.Ji=function(t){var e=this,n=!!t.before,r=t.values.map((function(t){return e.Ri(t)}));return new __PRIVATE_Bound(r,n)},t.prototype.us=function(t){return __PRIVATE_DIRECTIONS[t.name]},t.prototype.as=function(t){switch(t){case\"ASCENDING\":return __PRIVATE_Direction.ASCENDING;case\"DESCENDING\":return __PRIVATE_Direction.DESCENDING;default:return}},t.prototype._s=function(t){return __PRIVATE_OPERATORS[t.name]},t.prototype.cs=function(t){switch(t){case\"EQUAL\":return __PRIVATE_Operator.EQUAL;case\"GREATER_THAN\":return __PRIVATE_Operator.GREATER_THAN;case\"GREATER_THAN_OR_EQUAL\":return __PRIVATE_Operator.GREATER_THAN_OR_EQUAL;case\"LESS_THAN\":return __PRIVATE_Operator.LESS_THAN;case\"LESS_THAN_OR_EQUAL\":return __PRIVATE_Operator.LESS_THAN_OR_EQUAL;case\"ARRAY_CONTAINS\":return __PRIVATE_Operator.ARRAY_CONTAINS;case\"IN\":return __PRIVATE_Operator.IN;case\"ARRAY_CONTAINS_ANY\":return __PRIVATE_Operator.ARRAY_CONTAINS_ANY;case\"OPERATOR_UNSPECIFIED\":return fail(\"Unspecified operator\");default:return fail(\"Unknown operator\")}},t.prototype.hs=function(t){return{fieldPath:t.ot()}},t.prototype.fs=function(t){return FieldPath.ft(t.fieldPath)},t.prototype.ss=function(t){return{field:this.hs(t.field),direction:this.us(t.dir)}},t.prototype.os=function(t){return new __PRIVATE_OrderBy(this.fs(t.field),this.as(t.direction))},t.prototype.rs=function(t){return FieldFilter.create(this.fs(t.fieldFilter.field),this.cs(t.fieldFilter.op),this.Ri(t.fieldFilter.value))},t.prototype.es=function(t){if(t.op===__PRIVATE_Operator.EQUAL){if(t.value.isEqual(__PRIVATE_DoubleValue.Ue))return{unaryFilter:{field:this.hs(t.field),op:\"IS_NAN\"}};if(t.value.isEqual(__PRIVATE_NullValue.Le))return{unaryFilter:{field:this.hs(t.field),op:\"IS_NULL\"}}}return{fieldFilter:{field:this.hs(t.field),op:this._s(t.op),value:this.Ei(t.value)}}},t.prototype.ns=function(t){switch(t.unaryFilter.op){case\"IS_NAN\":var e=this.fs(t.unaryFilter.field);return FieldFilter.create(e,__PRIVATE_Operator.EQUAL,__PRIVATE_DoubleValue.Ue);case\"IS_NULL\":var n=this.fs(t.unaryFilter.field);return FieldFilter.create(n,__PRIVATE_Operator.EQUAL,__PRIVATE_NullValue.Le);case\"OPERATOR_UNSPECIFIED\":return fail(\"Unspecified filter\");default:return fail(\"Unknown filter\")}},t.prototype.Ni=function(t){var e=[];return t.fields.forEach((function(t){return e.push(t.ot())})),{fieldPaths:e}},t.prototype.Ui=function(t){var e=(t.fieldPaths||[]).map((function(t){return FieldPath.ft(t)}));return __PRIVATE_FieldMask.ee(e)},t}(),__PRIVATE_PlatformSupport=function(){function t(){}return t.ls=function(e){t.platform&&fail(\"Platform already defined\"),t.platform=e},t.t=function(){return t.platform||fail(\"Platform not set\"),t.platform},t}();function __PRIVATE_emptyByteString(){return __PRIVATE_PlatformSupport.t().zr}function __PRIVATE_makeConstructorPrivate(t,e){function n(){var t=\"This constructor is private.\";throw e&&(t+=\" \",t+=e),new FirestoreError(Code.INVALID_ARGUMENT,t)}for(var r in n.prototype=t.prototype,t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function __PRIVATE_assertUint8ArrayAvailable(){if(\"undefined\"==typeof Uint8Array)throw new FirestoreError(Code.UNIMPLEMENTED,\"Uint8Arrays are not available in this environment.\")}function __PRIVATE_assertBase64Available(){if(!__PRIVATE_PlatformSupport.t().ds)throw new FirestoreError(Code.UNIMPLEMENTED,\"Blobs are unavailable in Firestore in this environment.\")}var __PRIVATE_TimerId,Blob=function(){function t(t){__PRIVATE_assertBase64Available(),this.Ts=t}return t.fromBase64String=function(e){__PRIVATE_validateExactNumberOfArgs(\"Blob.fromBase64String\",arguments,1),__PRIVATE_validateArgType(\"Blob.fromBase64String\",\"string\",1,e),__PRIVATE_assertBase64Available();try{var n=__PRIVATE_PlatformSupport.t().atob(e);return new t(n)}catch(t){throw new FirestoreError(Code.INVALID_ARGUMENT,\"Failed to construct Blob from Base64 string: \"+t)}},t.fromUint8Array=function(e){if(__PRIVATE_validateExactNumberOfArgs(\"Blob.fromUint8Array\",arguments,1),__PRIVATE_assertUint8ArrayAvailable(),!(e instanceof Uint8Array))throw __PRIVATE_invalidClassError(\"Blob.fromUint8Array\",\"Uint8Array\",1,e);var n=Array.prototype.map.call(e,(function(t){return String.fromCharCode(t)})).join(\"\");return new t(n)},t.prototype.toBase64=function(){return __PRIVATE_validateExactNumberOfArgs(\"Blob.toBase64\",arguments,0),__PRIVATE_assertBase64Available(),__PRIVATE_PlatformSupport.t().btoa(this.Ts)},t.prototype.toUint8Array=function(){__PRIVATE_validateExactNumberOfArgs(\"Blob.toUint8Array\",arguments,0),__PRIVATE_assertUint8ArrayAvailable();for(var t=new Uint8Array(this.Ts.length),e=0;e<this.Ts.length;e++)t[e]=this.Ts.charCodeAt(e);return t},t.prototype.toString=function(){return\"Blob(base64: \"+this.toBase64()+\")\"},t.prototype.isEqual=function(t){return this.Ts===t.Ts},t.prototype.xe=function(){return 2*this.Ts.length},t.prototype.K=function(t){return __PRIVATE_primitiveComparator(this.Ts,t.Ts)},t}(),__PRIVATE_PublicBlob=__PRIVATE_makeConstructorPrivate(Blob,\"Use Blob.fromUint8Array() or Blob.fromBase64String() instead.\"),__PRIVATE_ListenSequence=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.Es=function(t){return n.Ps(t)},this.As=function(t){return e.Rs(t)})}return t.prototype.Ps=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.As&&this.As(t),t},t.Is=-1,t}(),__PRIVATE_Deferred=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};!function(t){t.Vs=\"all\",t.ms=\"listen_stream_idle\",t.vs=\"listen_stream_connection_backoff\",t.ps=\"write_stream_idle\",t.bs=\"write_stream_connection_backoff\",t.gs=\"online_state_timeout\",t.ws=\"client_metadata_refresh\",t.ys=\"lru_garbage_collection\",t.Ss=\"retry_transaction\"}(__PRIVATE_TimerId||(__PRIVATE_TimerId={}));var __PRIVATE_DelayedOperation=function(){function t(t,e,n,r,i){this.Ds=t,this.Cs=e,this.Os=n,this.op=r,this.Fs=i,this.Ns=new __PRIVATE_Deferred,this.then=this.Ns.promise.then.bind(this.Ns.promise),this.catch=this.Ns.promise.catch.bind(this.Ns.promise),this.Ns.promise.catch((function(t){}))}return t.Ms=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.Ls=setTimeout((function(){return e.Gs()}),t)},t.prototype.Bs=function(){return this.Gs()},t.prototype.cancel=function(t){null!==this.Ls&&(this.clearTimeout(),this.Ns.reject(new FirestoreError(Code.CANCELLED,\"Operation cancelled\"+(t?\": \"+t:\"\"))))},t.prototype.Gs=function(){var t=this;this.Ds.Us((function(){return null!==t.Ls?(t.clearTimeout(),t.op().then((function(e){return t.Ns.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.Ls&&(this.Fs(this),clearTimeout(this.Ls),this.Ls=null)},t}(),__PRIVATE_AsyncQueue=function(){function t(){this.ks=Promise.resolve(),this.xs=!1,this.Ks=[],this.js=null,this.qs=!1,this.Qs=[]}return Object.defineProperty(t.prototype,\"Ws\",{get:function(){return this.xs},enumerable:!0,configurable:!0}),t.prototype.Us=function(t){this.enqueue(t)},t.prototype.$s=function(t){this.Ys(),this.Hs(t)},t.prototype.Xs=function(t){return this.Ys(),this.Hs(t)},t.prototype.zs=function(t){return tslib.__awaiter(this,void 0,void 0,(function(){return tslib.__generator(this,(function(e){switch(e.label){case 0:return this.Ys(),this.xs?[3,2]:(this.xs=!0,[4,this.Xs(t)]);case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.Ys(),this.xs?new Promise((function(t){})):this.Hs(t)},t.prototype.Hs=function(t){var e=this,n=this.ks.then((function(){return e.qs=!0,t().catch((function(t){e.js=t,e.qs=!1;var n=t.stack||t.message||\"\";throw error(\"INTERNAL UNHANDLED ERROR: \",n),n.indexOf(\"Firestore Test Simulated Error\")<0&&setTimeout((function(){throw t}),0),t})).then((function(t){return e.qs=!1,t}))}));return this.ks=n,n},t.prototype.Js=function(t,e,n){var r=this;this.Ys(),assert(e>=0,\"Attempted to schedule an operation with a negative delay of \"+e),this.Qs.indexOf(t)>-1&&(e=0);var i=__PRIVATE_DelayedOperation.Ms(this,t,e,n,(function(t){return r.Zs(t)}));return this.Ks.push(i),i},t.prototype.Ys=function(){this.js&&fail(\"AsyncQueue is already failed: \"+(this.js.stack||this.js.message))},t.prototype.to=function(){assert(this.qs,\"verifyOpInProgress() called when no op in progress on this queue.\")},t.prototype.eo=function(){return this.Xs((function(){return Promise.resolve()}))},t.prototype.no=function(t){for(var e=0,n=this.Ks;e<n.length;e++){if(n[e].Cs===t)return!0}return!1},t.prototype.ro=function(t){var e=this;return this.eo().then((function(){assert(t===__PRIVATE_TimerId.Vs||e.no(t),\"Attempted to drain to missing operation \"+t),e.Ks.sort((function(t,e){return t.Os-e.Os}));for(var n=0,r=e.Ks;n<r.length;n++){var i=r[n];if(i.Bs(),t!==__PRIVATE_TimerId.Vs&&i.Cs===t)break}return e.eo()}))},t.prototype.io=function(t){this.Qs.push(t)},t.prototype.Zs=function(t){var e=this.Ks.indexOf(t);assert(e>=0,\"Delayed operation not found.\"),this.Ks.splice(e,1)},t}(),__PRIVATE_escapeChar=\"\u0001\",__PRIVATE_encodedSeparatorChar=\"\u0001\",__PRIVATE_encodedNul=\"\u0010\",__PRIVATE_encodedEscape=\"\u0011\";function encode(t){for(var e=\"\",n=0;n<t.length;n++)e.length>0&&(e=__PRIVATE_encodeSeparator(e)),e=__PRIVATE_encodeSegment(t.get(n),e);return __PRIVATE_encodeSeparator(e)}function __PRIVATE_encodeSegment(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case\"\\0\":n+=__PRIVATE_escapeChar+__PRIVATE_encodedNul;break;case __PRIVATE_escapeChar:n+=__PRIVATE_escapeChar+__PRIVATE_encodedEscape;break;default:n+=s}}return n}function __PRIVATE_encodeSeparator(t){return t+__PRIVATE_escapeChar+__PRIVATE_encodedSeparatorChar}function decode(t){var e=t.length;if(assert(e>=2,\"Invalid path \"+t),2===e)return assert(t.charAt(0)===__PRIVATE_escapeChar&&t.charAt(1)===__PRIVATE_encodedSeparatorChar,\"Non-empty path \"+t+\" had length 2\"),ResourcePath.at;for(var n=e-2,r=[],i=\"\",s=0;s<e;){var o=t.indexOf(__PRIVATE_escapeChar,s);switch((o<0||o>n)&&fail('Invalid encoded resource path: \"'+t+'\"'),t.charAt(o+1)){case __PRIVATE_encodedSeparatorChar:var u=t.substring(s,o),a=void 0;0===i.length?a=u:(a=i+=u,i=\"\"),r.push(a);break;case __PRIVATE_encodedNul:i+=t.substring(s,o),i+=\"\\0\";break;case __PRIVATE_encodedEscape:i+=t.substring(s,o+1);break;default:fail('Invalid encoded resource path: \"'+t+'\"')}s=o+2}return new ResourcePath(r)}var __PRIVATE_BATCHID_UNKNOWN=-1,__PRIVATE_MutationBatch=function(){function t(t,e,n,r){this.batchId=t,this.ke=e,this.baseMutations=n,this.mutations=r,assert(r.length>0,\"Cannot create an empty mutation batch\")}return t.prototype.Xt=function(t,e,n){e&&assert(e.key.isEqual(t),\"applyToRemoteDocument: key \"+t+\" should match maybeDoc key\\n        \"+e.key);var r=n.so;assert(r.length===this.mutations.length,\"Mismatch between mutations length\\n      (\"+this.mutations.length+\") and mutation results length\\n      (\"+r.length+\").\");for(var i=0;i<this.mutations.length;i++){var s=this.mutations[i];if(s.key.isEqual(t)){var o=r[i];e=s.Xt(e,o)}}return e},t.prototype.Ht=function(t,e){e&&assert(e.key.isEqual(t),\"applyToLocalDocument: key \"+t+\" should match maybeDoc key\\n        \"+e.key);for(var n=0,r=this.baseMutations;n<r.length;n++){(u=r[n]).key.isEqual(t)&&(e=u.Ht(e,e,this.ke))}for(var i=e,s=0,o=this.mutations;s<o.length;s++){var u;(u=o[s]).key.isEqual(t)&&(e=u.Ht(e,i,this.ke))}return e},t.prototype.oo=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Ht(r.key,t.get(r.key));i&&(n=n.Pt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),__PRIVATE_documentKeySet())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&__PRIVATE_arrayEquals(this.mutations,t.mutations)&&__PRIVATE_arrayEquals(this.baseMutations,t.baseMutations)},t}(),__PRIVATE_MutationBatchResult=function(){function t(t,e,n,r,i){this.batch=t,this.uo=e,this.so=n,this.streamToken=r,this.ao=i}return t.from=function(e,n,r,i){assert(e.mutations.length===r.length,\"Mutations sent \"+e.mutations.length+\" must equal results received \"+r.length);for(var s=__PRIVATE_documentVersionMap(),o=e.mutations,u=0;u<o.length;u++)s=s.Pt(o[u].key,r[u].version);return new t(e,n,r,i,s)},t}(),__PRIVATE_ReferenceSet=function(){function t(){this._o=new __PRIVATE_SortedSet(__PRIVATE_DocReference.je),this.co=new __PRIVATE_SortedSet(__PRIVATE_DocReference.ho)}return t.prototype.tt=function(){return this._o.tt()},t.prototype.fo=function(t,e){var n=new __PRIVATE_DocReference(t,e);this._o=this._o.add(n),this.co=this.co.add(n)},t.prototype.lo=function(t,e){var n=this;t.forEach((function(t){return n.fo(t,e)}))},t.prototype.do=function(t,e){this.To(new __PRIVATE_DocReference(t,e))},t.prototype.Eo=function(t,e){var n=this;t.forEach((function(t){return n.do(t,e)}))},t.prototype.Po=function(t){var e=this,n=__PRIVATE_DocumentKey.EMPTY,r=new __PRIVATE_DocReference(n,t),i=new __PRIVATE_DocReference(n,t+1),s=[];return this.co.qt([r,i],(function(t){e.To(t),s.push(t.key)})),s},t.prototype.Ao=function(){var t=this;this._o.forEach((function(e){return t.To(e)}))},t.prototype.To=function(t){this._o=this._o.delete(t),this.co=this.co.delete(t)},t.prototype.Ro=function(t){var e=__PRIVATE_DocumentKey.EMPTY,n=new __PRIVATE_DocReference(e,t),r=new __PRIVATE_DocReference(e,t+1),i=__PRIVATE_documentKeySet();return this.co.qt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Io=function(t){var e=new __PRIVATE_DocReference(t,0),n=this._o.Wt(e);return null!==n&&t.isEqual(n.key)},t}(),__PRIVATE_DocReference=function(){function t(t,e){this.key=t,this.Vo=e}return t.je=function(t,e){return __PRIVATE_DocumentKey.H(t.key,e.key)||__PRIVATE_primitiveComparator(t.Vo,e.Vo)},t.ho=function(t,e){return __PRIVATE_primitiveComparator(t.Vo,e.Vo)||__PRIVATE_DocumentKey.H(t.key,e.key)},t}(),__PRIVATE_ObjectMap=function(){function t(t){this.mo=t,this.vo={}}return t.prototype.get=function(t){var e=this.mo(t),n=this.vo[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[0],u=s[1];if(o.isEqual(t))return u}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mo(t),r=this.vo[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.vo[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mo(t),n=this.vo[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.vo[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){forEach(this.vo,(function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[0],u=s[1];t(o,u)}}))},t.prototype.tt=function(){return __PRIVATE_isEmpty(this.vo)},t}(),PersistencePromise=function(){function t(t){var e=this;this.po=null,this.bo=null,this.result=void 0,this.error=void 0,this.wo=!1,this.yo=!1,t((function(t){e.wo=!0,e.result=t,e.po&&e.po(t)}),(function(t){e.wo=!0,e.error=t,e.bo&&e.bo(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.yo&&fail(\"Called next() or catch() twice for PersistencePromise\"),this.yo=!0,this.wo?this.error?this.So(n,this.error):this.Do(e,this.result):new t((function(t,i){r.po=function(n){r.Do(e,n).next(t,i)},r.bo=function(e){r.So(n,e).next(t,i)}}))},t.prototype.Co=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Oo=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Do=function(e,n){return e?this.Oo((function(){return e(n)})):t.resolve(n)},t.prototype.So=function(e,n){return e?this.Oo((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.Fo=function(e){return new t((function(t,n){var r=0,i=0,s=!1;e.forEach((function(e){++r,e.next((function(){++i,s&&i===r&&t()}),(function(t){return n(t)}))})),s=!0,i===r&&t()}))},t.No=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,s=e;i<s.length;i++){r(s[i])}return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.Fo(r)},t}(),__PRIVATE_RemoteDocumentChangeBuffer=function(){function t(){this.Mo=new __PRIVATE_ObjectMap((function(t){return t.toString()})),this.Lo=!1}return Object.defineProperty(t.prototype,\"readTime\",{get:function(){return assert(void 0!==this.Go,\"Read time is not set. All removeEntry() calls must include a readTime if `trackRemovals` is used.\"),this.Go},set:function(t){assert(void 0===this.Go||this.Go.isEqual(t),\"All changes in a RemoteDocumentChangeBuffer must have the same read time\"),this.Go=t},enumerable:!0,configurable:!0}),t.prototype.Bo=function(t,e){this.Uo(),this.readTime=e,this.Mo.set(t.key,t)},t.prototype.ko=function(t,e){this.Uo(),e&&(this.readTime=e),this.Mo.set(t,null)},t.prototype.xo=function(t,e){this.Uo();var n=this.Mo.get(e);return void 0!==n?PersistencePromise.resolve(n):this.Ko(t,e)},t.prototype.getEntries=function(t,e){return this.jo(t,e)},t.prototype.apply=function(t){return this.Uo(),this.Lo=!0,this.qo(t)},t.prototype.Uo=function(){assert(!this.Lo,\"Changes have already been applied.\")},t}(),__PRIVATE_PRIMARY_LEASE_LOST_ERROR_MSG=\"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.\",__PRIVATE_PersistenceTransaction=function(){function t(){this.Qo=[]}return t.prototype.Wo=function(t){this.Qo.push(t)},t.prototype.$o=function(){this.Qo.forEach((function(t){return t()}))},t}(),__PRIVATE_LOG_TAG$1=\"SimpleDb\",__PRIVATE_TRANSACTION_RETRY_COUNT=3,__PRIVATE_SimpleDb=function(){function t(e){this.db=e,12.2===t.Yo(util.getUA())&&error(\"Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.\")}return t.Ho=function(e,n,r){return assert(t.Xo(),\"IndexedDB not supported in current environment.\"),debug(__PRIVATE_LOG_TAG$1,\"Opening database:\",e),new PersistencePromise((function(i,s){var o=window.indexedDB.open(e,n);o.onsuccess=function(e){var n=e.target.result;i(new t(n))},o.onblocked=function(){s(new FirestoreError(Code.FAILED_PRECONDITION,\"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed.\"))},o.onerror=function(t){var e=t.target.error;\"VersionError\"===e.name?s(new FirestoreError(Code.FAILED_PRECONDITION,\"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.\")):s(e)},o.onupgradeneeded=function(t){debug(__PRIVATE_LOG_TAG$1,'Database \"'+e+'\" requires upgrade from version:',t.oldVersion);var n=t.target.result;r.createOrUpgrade(n,o.transaction,t.oldVersion,SCHEMA_VERSION).next((function(){debug(__PRIVATE_LOG_TAG$1,\"Database upgrade to version \"+SCHEMA_VERSION+\" complete\")}))}})).Co()},t.delete=function(t){return debug(__PRIVATE_LOG_TAG$1,\"Removing database:\",t),__PRIVATE_wrapRequest(window.indexedDB.deleteDatabase(t)).Co()},t.Xo=function(){if(\"undefined\"==typeof window||null==window.indexedDB)return!1;if(t.zo())return!0;if(void 0===window.navigator)return!1;var e=util.getUA(),n=t.Yo(e),r=0<n&&n<10,i=t.Jo(e),s=0<i&&i<4.5;return!(e.indexOf(\"MSIE \")>0||e.indexOf(\"Trident/\")>0||e.indexOf(\"Edge/\")>0||r||s)},t.zo=function(){var t;return\"undefined\"!=typeof process&&\"YES\"===(null===(t=process.env)||void 0===t?void 0:t.Zo)},t.tu=function(t,e){return t.store(e)},t.Yo=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\\d_]+)/i),n=e?e[1].split(\"_\").slice(0,2).join(\".\"):\"-1\";return Number(n)},t.Jo=function(t){var e=t.match(/Android ([\\d.]+)/i),n=e?e[1].split(\".\").slice(0,2).join(\".\"):\"-1\";return Number(n)},t.prototype.eu=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){return tslib.__awaiter(this,void 0,void 0,(function(){var r,i,s,o,u,a;return tslib.__generator(this,(function(_){switch(_.label){case 0:r=t.startsWith(\"readonly\"),i=t.endsWith(\"idempotent\"),s=0,o=function(){var t,o,a,_;return tslib.__generator(this,(function(c){switch(c.label){case 0:++s,t=__PRIVATE_SimpleDbTransaction.open(u.db,r?\"readonly\":\"readwrite\",e),c.label=1;case 1:return c.trys.push([1,3,,4]),(o=n(t).catch((function(e){return t.abort(e),PersistencePromise.reject(e)})).Co()).catch((function(){})),[4,t.nu];case 2:return c.sent(),[2,{value:o}];case 3:return a=c.sent(),_=i&&\"FirebaseError\"!==a.name&&s<__PRIVATE_TRANSACTION_RETRY_COUNT,debug(__PRIVATE_LOG_TAG$1,\"Transaction failed with error: %s. Retrying: %s.\",a.message,_),_?[3,4]:[2,{value:Promise.reject(a)}];case 4:return[2]}}))},u=this,_.label=1;case 1:return[5,o()];case 2:return\"object\"==typeof(a=_.sent())?[2,a.value]:[3,1];case 3:return[2]}}))}))},t.prototype.close=function(){this.db.close()},t}(),__PRIVATE_IterationController=function(){function t(t){this.ru=t,this.iu=!1,this.su=null}return Object.defineProperty(t.prototype,\"wo\",{get:function(){return this.iu},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"ou\",{get:function(){return this.su},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"cursor\",{set:function(t){this.ru=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.iu=!0},t.prototype.uu=function(t){this.su=t},t.prototype.delete=function(){return __PRIVATE_wrapRequest(this.ru.delete())},t}(),__PRIVATE_SimpleDbTransaction=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.au=new __PRIVATE_Deferred,this.transaction.oncomplete=function(){e.au.resolve()},this.transaction.onabort=function(){t.error?e.au.reject(t.error):e.au.resolve()},this.transaction.onerror=function(t){var n=__PRIVATE_checkForAndReportiOSError(t.target.error);e.au.reject(n)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,\"nu\",{get:function(){return this.au.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.au.reject(t),this.aborted||(debug(__PRIVATE_LOG_TAG$1,\"Aborting transaction:\",t?t.message:\"Client-initiated abort\"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return assert(!!e,\"Object store not part of transaction: \"+t),new __PRIVATE_SimpleDbStore(e)},t}(),__PRIVATE_SimpleDbStore=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(debug(__PRIVATE_LOG_TAG$1,\"PUT\",this.store.name,t,e),n=this.store.put(e,t)):(debug(__PRIVATE_LOG_TAG$1,\"PUT\",this.store.name,\"<auto-key>\",t),n=this.store.put(t)),__PRIVATE_wrapRequest(n)},t.prototype.add=function(t){return debug(__PRIVATE_LOG_TAG$1,\"ADD\",this.store.name,t,t),__PRIVATE_wrapRequest(this.store.add(t))},t.prototype.get=function(t){var e=this;return __PRIVATE_wrapRequest(this.store.get(t)).next((function(n){return void 0===n&&(n=null),debug(__PRIVATE_LOG_TAG$1,\"GET\",e.store.name,t,n),n}))},t.prototype.delete=function(t){return debug(__PRIVATE_LOG_TAG$1,\"DELETE\",this.store.name,t),__PRIVATE_wrapRequest(this.store.delete(t))},t.prototype.count=function(){return debug(__PRIVATE_LOG_TAG$1,\"COUNT\",this.store.name),__PRIVATE_wrapRequest(this.store.count())},t.prototype._u=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cu(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.hu=function(t,e){debug(__PRIVATE_LOG_TAG$1,\"DELETE ALL\",this.store.name);var n=this.options(t,e);n.fu=!1;var r=this.cursor(n);return this.cu(r,(function(t,e,n){return n.delete()}))},t.prototype.lu=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cu(r,e)},t.prototype.du=function(t){var e=this.cursor({});return new PersistencePromise((function(n,r){e.onerror=function(t){var e=__PRIVATE_checkForAndReportiOSError(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.cu=function(t,e){var n=[];return new PersistencePromise((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new __PRIVATE_IterationController(i),o=e(i.primaryKey,i.value,s);if(o instanceof PersistencePromise){var u=o.catch((function(t){return s.done(),PersistencePromise.reject(t)}));n.push(u)}s.wo?r():null===s.ou?i.continue():i.continue(s.ou)}else r()}})).next((function(){return PersistencePromise.Fo(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&(\"string\"==typeof t?n=t:(assert(void 0===e,\"3rd argument must not be defined if 2nd is a range.\"),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e=\"next\";if(t.reverse&&(e=\"prev\"),t.index){var n=this.store.index(t.index);return t.fu?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function __PRIVATE_wrapRequest(t){return new PersistencePromise((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=__PRIVATE_checkForAndReportiOSError(t.target.error);n(e)}}))}var __PRIVATE_reportedIOSError=!1;function __PRIVATE_checkForAndReportiOSError(t){var e=__PRIVATE_SimpleDb.Yo(util.getUA());if(e>=12.2&&e<13){var n=\"An internal error was encountered in the Indexed Database server\";if(t.message.indexOf(n)>=0){var r=new FirestoreError(\"internal\",\"IOS_INDEXEDDB_BUG1: IndexedDb has thrown '\"+n+\"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.\");return __PRIVATE_reportedIOSError||(__PRIVATE_reportedIOSError=!0,setTimeout((function(){throw r}),0)),r}}return t}var __PRIVATE_IndexedDbMutationQueue=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Tu=n,this.Eu=r,this.Pu={}}return t.Au=function(e,n,r,i){return assert(\"\"!==e.uid,\"UserID must not be an empty string.\"),new t(e.R()?e.uid:\"\",n,r,i)},t.prototype.Ru=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return __PRIVATE_mutationsStore(t).lu({index:DbMutationBatch.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Iu=function(t,e,n){return this.Vu(t).next((function(e){return e.lastStreamToken=__PRIVATE_convertStreamToken(n),__PRIVATE_mutationQueuesStore(t).put(e)}))},t.prototype.mu=function(t){return this.Vu(t).next((function(t){return t.lastStreamToken}))},t.prototype.vu=function(t,e){return this.Vu(t).next((function(n){return n.lastStreamToken=__PRIVATE_convertStreamToken(e),__PRIVATE_mutationQueuesStore(t).put(n)}))},t.prototype.pu=function(t,e,n,r){var i=this,s=__PRIVATE_documentMutationsStore(t),o=__PRIVATE_mutationsStore(t);return o.add({}).next((function(u){assert(\"number\"==typeof u,\"Auto-generated key is not a number\");for(var a=new __PRIVATE_MutationBatch(u,e,n,r),_=i.serializer.bu(i.userId,a),c=[],h=new __PRIVATE_SortedSet((function(t,e){return __PRIVATE_primitiveComparator(t.ot(),e.ot())})),f=0,l=r;f<l.length;f++){var d=l[f],T=DbDocumentMutation.key(i.userId,d.key.path,u);h=h.add(d.key.path.Z()),c.push(o.put(_)),c.push(s.put(T,DbDocumentMutation.PLACEHOLDER))}return h.forEach((function(e){c.push(i.Tu.gu(t,e))})),t.Wo((function(){i.Pu[u]=a.keys()})),PersistencePromise.Fo(c).next((function(){return a}))}))},t.prototype.wu=function(t,e){var n=this;return __PRIVATE_mutationsStore(t).get(e).next((function(t){return t?(assert(t.userId===n.userId,\"Unexpected user '\"+t.userId+\"' for mutation batch \"+e),n.serializer.yu(t)):null}))},t.prototype.Su=function(t,e){var n=this;return this.Pu[e]?PersistencePromise.resolve(this.Pu[e]):this.wu(t,e).next((function(t){if(t){var r=t.keys();return n.Pu[e]=r,r}return null}))},t.prototype.Du=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return __PRIVATE_mutationsStore(t).lu({index:DbMutationBatch.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(assert(e.batchId>=r,\"Should have found mutation after \"+r),s=n.serializer.yu(e)),i.done()})).next((function(){return s}))},t.prototype.Cu=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=__PRIVATE_BATCHID_UNKNOWN;return __PRIVATE_mutationsStore(t).lu({index:DbMutationBatch.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Ou=function(t){var e=this,n=IDBKeyRange.bound([this.userId,__PRIVATE_BATCHID_UNKNOWN],[this.userId,Number.POSITIVE_INFINITY]);return __PRIVATE_mutationsStore(t)._u(DbMutationBatch.userMutationsIndex,n).next((function(t){return t.map((function(t){return e.serializer.yu(t)}))}))},t.prototype.Fu=function(t,e){var n=this,r=DbDocumentMutation.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return __PRIVATE_documentMutationsStore(t).lu({range:i},(function(r,i,o){var u=r[0],a=r[1],_=r[2],c=decode(a);if(u===n.userId&&e.path.isEqual(c))return __PRIVATE_mutationsStore(t).get(_).next((function(t){if(!t)throw fail(\"Dangling document-mutation reference found: \"+r+\" which points to \"+_);assert(t.userId===n.userId,\"Unexpected user '\"+t.userId+\"' for mutation batch \"+_),s.push(n.serializer.yu(t))}));o.done()})).next((function(){return s}))},t.prototype.Nu=function(t,e){var n=this,r=new __PRIVATE_SortedSet(__PRIVATE_primitiveComparator),i=[];return e.forEach((function(e){var s=DbDocumentMutation.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),u=__PRIVATE_documentMutationsStore(t).lu({range:o},(function(t,i,s){var o=t[0],u=t[1],a=t[2],_=decode(u);o===n.userId&&e.path.isEqual(_)?r=r.add(a):s.done()}));i.push(u)})),PersistencePromise.Fo(i).next((function(){return n.Mu(t,r)}))},t.prototype.Lu=function(t,e){var n=this;assert(!e.He(),\"Document queries shouldn't go down this path\"),assert(!e.pn(),\"CollectionGroup queries should be handled in LocalDocumentsView\");var r=e.path,i=r.length+1,s=DbDocumentMutation.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),u=new __PRIVATE_SortedSet(__PRIVATE_primitiveComparator);return __PRIVATE_documentMutationsStore(t).lu({range:o},(function(t,e,s){var o=t[0],a=t[1],_=t[2],c=decode(a);o===n.userId&&r.rt(c)?c.length===i&&(u=u.add(_)):s.done()})).next((function(){return n.Mu(t,u)}))},t.prototype.Mu=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(__PRIVATE_mutationsStore(t).get(e).next((function(t){if(null===t)throw fail(\"Dangling document-mutation reference found, which points to \"+e);assert(t.userId===n.userId,\"Unexpected user '\"+t.userId+\"' for mutation batch \"+e),r.push(n.serializer.yu(t))})))})),PersistencePromise.Fo(i).next((function(){return r}))},t.prototype.Gu=function(t,e){var n=this;return __PRIVATE_removeMutationBatch(t.Bu,this.userId,e).next((function(r){return t.Wo((function(){n.Uu(e.batchId)})),PersistencePromise.forEach(r,(function(e){return n.Eu.ku(t,e)}))}))},t.prototype.Uu=function(t){delete this.Pu[t]},t.prototype.xu=function(t){var e=this;return this.Ru(t).next((function(n){if(!n)return PersistencePromise.resolve();var r=IDBKeyRange.lowerBound(DbDocumentMutation.prefixForUser(e.userId)),i=[];return __PRIVATE_documentMutationsStore(t).lu({range:r},(function(t,n,r){if(t[0]===e.userId){var s=decode(t[1]);i.push(s)}else r.done()})).next((function(){assert(0===i.length,\"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: \"+i.map((function(t){return t.ot()})))}))}))},t.prototype.Io=function(t,e){return __PRIVATE_mutationQueueContainsKey(t,this.userId,e)},t.prototype.Vu=function(t){var e=this;return __PRIVATE_mutationQueuesStore(t).get(this.userId).next((function(t){return t||new DbMutationQueue(e.userId,__PRIVATE_BATCHID_UNKNOWN,\"\")}))},t}();function __PRIVATE_mutationQueueContainsKey(t,e,n){var r=DbDocumentMutation.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return __PRIVATE_documentMutationsStore(t).lu({range:s,fu:!0},(function(t,n,r){var s=t[0],u=t[1];t[2];s===e&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function __PRIVATE_mutationQueuesContainKey(t,e){var n=!1;return __PRIVATE_mutationQueuesStore(t).du((function(r){return __PRIVATE_mutationQueueContainsKey(t,r,e).next((function(t){return t&&(n=!0),PersistencePromise.resolve(!t)}))})).next((function(){return n}))}function __PRIVATE_removeMutationBatch(t,e,n){var r=t.store(DbMutationBatch.store),i=t.store(DbDocumentMutation.store),s=[],o=IDBKeyRange.only(n.batchId),u=0,a=r.lu({range:o},(function(t,e,n){return u++,n.delete()}));s.push(a.next((function(){assert(1===u,\"Dangling document-mutation reference found: Missing batch \"+n.batchId)})));for(var _=[],c=0,h=n.mutations;c<h.length;c++){var f=h[c],l=DbDocumentMutation.key(e,f.key.path,n.batchId);s.push(i.delete(l)),_.push(f.key)}return PersistencePromise.Fo(s).next((function(){return _}))}function __PRIVATE_convertStreamToken(t){return t instanceof Uint8Array?(assert(__PRIVATE_SimpleDb.zo(),\"Persisting non-string stream tokens is only supported with mock persistence.\"),t.toString()):t}function __PRIVATE_mutationsStore(t){return __PRIVATE_IndexedDbPersistence.tu(t,DbMutationBatch.store)}function __PRIVATE_documentMutationsStore(t){return __PRIVATE_IndexedDbPersistence.tu(t,DbDocumentMutation.store)}function __PRIVATE_mutationQueuesStore(t){return __PRIVATE_IndexedDbPersistence.tu(t,DbMutationQueue.store)}var __PRIVATE_GeneratorIds,__PRIVATE_RESERVED_BITS=1;!function(t){t[t.Ku=0]=\"__PRIVATE_QueryCache\",t[t.ju=1]=\"__PRIVATE_SyncEngine\"}(__PRIVATE_GeneratorIds||(__PRIVATE_GeneratorIds={}));var __PRIVATE_TargetIdGenerator=function(){function t(t,e){this.qu=t,assert((t&__PRIVATE_RESERVED_BITS)===t,\"Generator ID \"+t+\" contains more than \"+__PRIVATE_RESERVED_BITS+\" reserved bits\"),this.Qu(void 0!==e?e:this.qu)}return t.prototype.next=function(){var t=this.Wu;return this.Wu+=1<<__PRIVATE_RESERVED_BITS,t},t.prototype.after=function(t){return this.Qu(t+(1<<__PRIVATE_RESERVED_BITS)),this.next()},t.prototype.Qu=function(t){assert((t&__PRIVATE_RESERVED_BITS)===this.qu,\"Cannot supply target ID from different generator ID\"),this.Wu=t},t.$u=function(){return new t(__PRIVATE_GeneratorIds.Ku,2)},t.Yu=function(){return new t(__PRIVATE_GeneratorIds.ju)},t}(),__PRIVATE_LocalDocumentsView=function(){function t(t,e,n){this.Hu=t,this.Xu=e,this.Tu=n}return t.prototype.zu=function(t,e){var n=this;return this.Xu.Fu(t,e).next((function(r){return n.Ju(t,e,r)}))},t.prototype.Ju=function(t,e,n){return this.Hu.xo(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++){t=i[r].Ht(e,t)}return t}))},t.prototype.Zu=function(t,e,n){var r=__PRIVATE_nullableMaybeDocumentMap();return e.forEach((function(t,e){for(var i=0,s=n;i<s.length;i++){e=s[i].Ht(t,e)}r=r.Pt(t,e)})),r},t.prototype.ta=function(t,e){var n=this;return this.Hu.getEntries(t,e).next((function(e){return n.ea(t,e)}))},t.prototype.ea=function(t,e){var n=this;return this.Xu.Nu(t,e).next((function(r){var i=n.Zu(t,e,r),s=__PRIVATE_maybeDocumentMap();return i.forEach((function(t,e){e||(e=new __PRIVATE_NoDocument(t,__PRIVATE_SnapshotVersion.W())),s=s.Pt(t,e)})),s}))},t.prototype.na=function(t,e,n){return e.He()?this.ra(t,e.path):e.pn()?this.ia(t,e,n):this.sa(t,e,n)},t.prototype.ra=function(t,e){return this.zu(t,new __PRIVATE_DocumentKey(e)).next((function(t){var e=__PRIVATE_documentMap();return t instanceof Document&&(e=e.Pt(t.key,t)),e}))},t.prototype.ia=function(t,e,n){var r=this;assert(e.path.tt(),\"Currently we only support collection group queries at the root.\");var i=e.collectionGroup,s=__PRIVATE_documentMap();return this.Tu.oa(t,i).next((function(o){return PersistencePromise.forEach(o,(function(o){var u=e.ln(o.child(i));return r.sa(t,u,n).next((function(t){t.forEach((function(t,e){s=s.Pt(t,e)}))}))})).next((function(){return s}))}))},t.prototype.sa=function(t,e,n){var r,i,s=this;return this.Hu.na(t,e,n).next((function(n){return r=n,s.Xu.Lu(t,e)})).next((function(e){return i=e,s.ua(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,u=s.mutations;o<u.length;o++){var a=u[o],_=a.key,c=r.get(_),h=a.Ht(c,c,s.ke);r=h instanceof Document?r.Pt(_,h):r.remove(_)}}))})).next((function(){return r.forEach((function(t,n){e.matches(n)||(r=r.remove(t))})),r}))},t.prototype.ua=function(t,e,n){for(var r=__PRIVATE_documentKeySet(),i=0,s=e;i<s.length;i++)for(var o=0,u=s[i].mutations;o<u.length;o++){var a=u[o];a instanceof __PRIVATE_PatchMutation&&null===n.get(a.key)&&(r=r.add(a.key))}var _=n;return this.Hu.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Document&&(_=_.Pt(t,e))})),_}))},t}(),__PRIVATE_LocalViewChanges=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.aa=n,this._a=r}return t.ca=function(e,n){for(var r=__PRIVATE_documentKeySet(),i=__PRIVATE_documentKeySet(),s=0,o=n.docChanges;s<o.length;s++){var u=o[s];switch(u.type){case __PRIVATE_ChangeType.Un:r=r.add(u.doc.key);break;case __PRIVATE_ChangeType.kn:i=i.add(u.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),__PRIVATE_LOG_TAG$2=\"LocalStore\",__PRIVATE_LocalStore=function(){function t(t,e,n){this.persistence=t,this.ha=e,this.fa=new __PRIVATE_ReferenceSet,this.la=new __PRIVATE_SortedMap(__PRIVATE_primitiveComparator),this.da=new __PRIVATE_ObjectMap((function(t){return t.canonicalId()})),this.Ta=__PRIVATE_SnapshotVersion.MIN,assert(t.Ea,\"LocalStore was passed an unstarted persistence implementation\"),this.persistence.Eu.Pa(this.fa),this.Xu=t.Aa(n),this.Ra=t.Ia(),this.Va=t.ma(),this.va=new __PRIVATE_LocalDocumentsView(this.Ra,this.Xu,this.persistence.pa()),this.ha.ba(this.va)}return t.prototype.start=function(){return this.ga()},t.prototype.wa=function(t){return tslib.__awaiter(this,void 0,void 0,(function(){var e,n,r,i=this;return tslib.__generator(this,(function(s){switch(s.label){case 0:return e=this.Xu,n=this.va,[4,this.persistence.runTransaction(\"Handle user change\",\"readonly-idempotent\",(function(r){var s;return i.Xu.Ou(r).next((function(o){return s=o,e=i.persistence.Aa(t),n=new __PRIVATE_LocalDocumentsView(i.Ra,e,i.persistence.pa()),e.Ou(r)})).next((function(t){for(var e=[],i=[],o=__PRIVATE_documentKeySet(),u=0,a=s;u<a.length;u++){var _=a[u];e.push(_.batchId);for(var c=0,h=_.mutations;c<h.length;c++){var f=h[c];o=o.add(f.key)}}for(var l=0,d=t;l<d.length;l++){_=d[l];i.push(_.batchId);for(var T=0,E=_.mutations;T<E.length;T++){f=E[T];o=o.add(f.key)}}return n.ta(r,o).next((function(t){return{ya:t,Sa:e,Da:i}}))}))}))];case 1:return r=s.sent(),this.Xu=e,this.va=n,this.ha.ba(this.va),[2,r]}}))}))},t.prototype.Ca=function(t){var e,n=this,r=Timestamp.now(),i=t.reduce((function(t,e){return t.add(e.key)}),__PRIVATE_documentKeySet());return this.persistence.runTransaction(\"Locally write mutations\",\"readwrite-idempotent\",(function(s){return n.va.ta(s,i).next((function(i){e=i;for(var o=[],u=0,a=t;u<a.length;u++){var _=a[u],c=_.he(e.get(_.key));null!=c&&o.push(new __PRIVATE_PatchMutation(_.key,c,c.fe(),Precondition.exists(!0)))}return n.Xu.pu(s,r,o,t)}))})).then((function(t){var n=t.oo(e);return{batchId:t.batchId,Mo:n}}))},t.prototype.Oa=function(t){var e=this;return this.persistence.runTransaction(\"Lookup mutation documents\",\"readonly-idempotent\",(function(n){return e.Xu.Su(n,t).next((function(t){return t?e.va.ta(n,t):PersistencePromise.resolve(null)}))}))},t.prototype.Iu=function(t){var e=this;return this.persistence.runTransaction(\"Acknowledge batch\",\"readwrite-primary-idempotent\",(function(n){var r=t.batch.keys(),i=e.Ra.Fa({Na:!0});return e.Xu.Iu(n,t.batch,t.streamToken).next((function(){return e.Ma(n,t,i)})).next((function(){return i.apply(n)})).next((function(){return e.Xu.xu(n)})).next((function(){return e.va.ta(n,r)}))}))},t.prototype.La=function(t){var e=this;return this.persistence.runTransaction(\"Reject batch\",\"readwrite-primary-idempotent\",(function(n){var r;return e.Xu.wu(n,t).next((function(t){return assert(null!==t,\"Attempt to reject nonexistent batch!\"),r=t.keys(),e.Xu.Gu(n,t)})).next((function(){return e.Xu.xu(n)})).next((function(){return e.va.ta(n,r)}))}))},t.prototype.Cu=function(){var t=this;return this.persistence.runTransaction(\"Get highest unacknowledged batch id\",\"readonly-idempotent\",(function(e){return t.Xu.Cu(e)}))},t.prototype.mu=function(){var t=this;return this.persistence.runTransaction(\"Get last stream token\",\"readonly-idempotent\",(function(e){return t.Xu.mu(e)}))},t.prototype.vu=function(t){var e=this;return this.persistence.runTransaction(\"Set last stream token\",\"readwrite-primary-idempotent\",(function(n){return e.Xu.vu(n,t)}))},t.prototype.Ga=function(){var t=this;return this.persistence.runTransaction(\"Get last remote snapshot version\",\"readonly-idempotent\",(function(e){return t.Va.Ga(e)}))},t.prototype.Ba=function(e){var n=this,r=e.On,i=this.la;return this.persistence.runTransaction(\"Apply remote event\",\"readwrite-primary-idempotent\",(function(s){var o=n.Ra.Fa({Na:!0});i=n.la;var u=[];__PRIVATE_forEachNumber(e.Jn,(function(e,o){var a=i.get(e);if(a){u.push(n.Va.Ua(s,o.ur,e).next((function(){return n.Va.ka(s,o.sr,e)})));var _=o.resumeToken;if(_.length>0){var c=a.Nn(_,r).Fn(s.xa);i=i.Pt(e,c),t.Ka(a,c,o)&&u.push(n.Va.ja(s,c))}}}));var a=__PRIVATE_maybeDocumentMap(),_=__PRIVATE_documentKeySet();if(e.tr.forEach((function(t,e){_=_.add(t)})),u.push(o.getEntries(s,_).next((function(t){e.tr.forEach((function(i,_){var c=t.get(i);_ instanceof __PRIVATE_NoDocument&&_.version.isEqual(__PRIVATE_SnapshotVersion.MIN)?(o.ko(i,r),a=a.Pt(i,_)):null==c||_.version._(c.version)>0||0===_.version._(c.version)&&c.hasPendingWrites?(assert(!__PRIVATE_SnapshotVersion.MIN.isEqual(r),\"Cannot add a document when the remote version is zero\"),o.Bo(_,r),a=a.Pt(i,_)):debug(__PRIVATE_LOG_TAG$2,\"Ignoring outdated watch update for \",i,\". Current version:\",c.version,\" Watch version:\",_.version),e.er.has(i)&&u.push(n.persistence.Eu.qa(s,i))}))}))),!r.isEqual(__PRIVATE_SnapshotVersion.MIN)){var c=n.Va.Ga(s).next((function(t){return assert(r._(t)>=0,\"Watch stream reverted to previous snapshot?? \"+r+\" < \"+t),n.Va.Qa(s,s.xa,r)}));u.push(c)}return PersistencePromise.Fo(u).next((function(){return o.apply(s)})).next((function(){return n.va.ea(s,a)}))})).then((function(t){return n.la=i,t}))},t.Ka=function(t,e,n){return assert(e.resumeToken.length>0,\"Attempted to persist target data with no resume token\"),0===t.resumeToken.length||(e.On.$()-t.On.$()>=this.Wa||n.sr.size+n.or.size+n.ur.size>0)},t.prototype.$a=function(t){for(var e=this,n=0,r=t;n<r.length;n++){var i=r[n],s=i.targetId;if(this.fa.lo(i.aa,s),this.fa.Eo(i._a,s),!i.fromCache){var o=this.la.get(s);assert(null!==o,\"Can't set limbo-free snapshot version for unknown target: \"+s);var u=o.On,a=o.Mn(u);this.la=this.la.Pt(s,a)}}return this.persistence.runTransaction(\"notifyLocalViewChanges\",\"readwrite-idempotent\",(function(n){return PersistencePromise.forEach(t,(function(t){return PersistencePromise.forEach(t._a,(function(t){return e.persistence.Eu.do(n,t)}))}))}))},t.prototype.Ya=function(t){var e=this;return this.persistence.runTransaction(\"Get next mutation batch\",\"readonly-idempotent\",(function(n){return void 0===t&&(t=__PRIVATE_BATCHID_UNKNOWN),e.Xu.Du(n,t)}))},t.prototype.Ha=function(t){var e=this;return this.persistence.runTransaction(\"read document\",\"readonly-idempotent\",(function(n){return e.va.zu(n,t)}))},t.prototype.Xa=function(t){var e=this;return this.persistence.runTransaction(\"Allocate target\",\"readwrite-idempotent\",(function(n){var r;return e.Va.za(n,t).next((function(i){return i?(r=i,PersistencePromise.resolve(r)):e.Va.Ja(n).next((function(i){return r=new __PRIVATE_TargetData(t,i,__PRIVATE_TargetPurpose.yn,n.xa),e.Va.Za(n,r).next((function(){return r}))}))}))})).then((function(n){return null===e.la.get(n.targetId)&&(e.la=e.la.Pt(n.targetId,n),e.da.set(t,n.targetId)),n}))},t.prototype.za=function(t,e){var n=this.da.get(e);return void 0!==n?PersistencePromise.resolve(this.la.get(n)):this.Va.za(t,e)},t.prototype.t_=function(t,e){var n=this,r=this.la.get(t);assert(null!==r,\"Tried to release nonexistent target: \"+t);var i=e?\"readwrite-idempotent\":\"readwrite-primary-idempotent\";return this.persistence.runTransaction(\"Release target\",i,(function(i){var s=n.fa.Po(t);return e?PersistencePromise.resolve():PersistencePromise.forEach(s,(function(t){return n.persistence.Eu.do(i,t)})).next((function(){n.persistence.Eu.removeTarget(i,r)}))})).then((function(){n.la=n.la.remove(t),n.da.delete(r.target)}))},t.prototype.e_=function(t,e){var n=this,r=__PRIVATE_SnapshotVersion.MIN,i=__PRIVATE_documentKeySet();return this.persistence.runTransaction(\"Execute query\",\"readonly-idempotent\",(function(s){return n.za(s,t.Tn()).next((function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,n.Va.n_(s,t.targetId).next((function(t){i=t}))})).next((function(){return n.ha.na(s,t,e?r:__PRIVATE_SnapshotVersion.MIN,e?i:__PRIVATE_documentKeySet())})).next((function(t){return{documents:t,r_:i}}))}))},t.prototype.i_=function(t){var e=this;return this.persistence.runTransaction(\"Remote document keys\",\"readonly-idempotent\",(function(n){return e.Va.n_(n,t)}))},t.prototype.s_=function(){return this.persistence.s_()},t.prototype.o_=function(t){this.Xu.Uu(t)},t.prototype.u_=function(t){this.persistence.u_(t)},t.prototype.Ma=function(t,e,n){var r=this,i=e.batch,s=i.keys(),o=PersistencePromise.resolve();return s.forEach((function(r){o=o.next((function(){return n.xo(t,r)})).next((function(t){var s=t,o=e.ao.get(r);assert(null!==o,\"ackVersions should contain every doc in the write.\"),(!s||s.version._(o)<0)&&((s=i.Xt(r,s,e))?n.Bo(s,e.uo):assert(!t,\"Mutation batch \"+i+\" applied to document \"+t+\" resulted in null\"))}))})),o.next((function(){return r.Xu.Gu(t,i)}))},t.prototype.a_=function(t){var e=this;return this.persistence.runTransaction(\"Collect garbage\",\"readwrite-primary-idempotent\",(function(n){return t.__(n,e.la)}))},t.prototype.c_=function(t){var e=this,n=this.la.get(t);return n?Promise.resolve(n.target):this.persistence.runTransaction(\"Get target data\",\"readonly-idempotent\",(function(n){return e.Va.Xr(n,t).next((function(t){return t?t.target:null}))}))},t.prototype.h_=function(){var t=this;return this.persistence.runTransaction(\"Get new document changes\",\"readonly-idempotent\",(function(e){return t.Ra.h_(e,t.Ta)})).then((function(e){var n=e.f_,r=e.readTime;return t.Ta=r,n}))},t.prototype.ga=function(){return tslib.__awaiter(this,void 0,void 0,(function(){var t,e=this;return tslib.__generator(this,(function(n){switch(n.label){case 0:return t=this,[4,this.persistence.runTransaction(\"Synchronize last document change read time\",\"readonly-idempotent\",(function(t){return e.Ra.l_(t)}))];case 1:return t.Ta=n.sent(),[2]}}))}))},t.Wa=3e8,t}();function __PRIVATE_ignoreIfPrimaryLeaseLoss(t){return tslib.__awaiter(this,void 0,void 0,(function(){return tslib.__generator(this,(function(e){if(t.code!==Code.FAILED_PRECONDITION||t.message!==__PRIVATE_PRIMARY_LEASE_LOST_ERROR_MSG)throw t;return debug(__PRIVATE_LOG_TAG$2,\"Unexpectedly lost primary lease\"),[2]}))}))}function __PRIVATE_bufferEntryComparator(t,e){var n=t[0],r=t[1],i=e[0],s=e[1],o=__PRIVATE_primitiveComparator(n,i);return 0===o?__PRIVATE_primitiveComparator(r,s):o}var __PRIVATE_RollingSequenceNumberBuffer=function(){function t(t){this.d_=t,this.buffer=new __PRIVATE_SortedSet(__PRIVATE_bufferEntryComparator),this.T_=0}return t.prototype.E_=function(){return++this.T_},t.prototype.P_=function(t){var e=[t,this.E_()];if(this.buffer.size<this.d_)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();__PRIVATE_bufferEntryComparator(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,\"maxValue\",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),__PRIVATE_GC_DID_NOT_RUN={A_:!1,R_:0,I_:0,V_:0},__PRIVATE_LruParams=function(){function t(t,e,n){this.m_=t,this.v_=e,this.p_=n}return t.b_=function(e){return new t(e,t.g_,t.w_)},t.y_=-1,t.S_=1048576,t.D_=41943040,t.g_=10,t.w_=1e3,t.C_=new t(t.D_,t.g_,t.w_),t.DISABLED=new t(t.y_,0,0),t}(),__PRIVATE_INITIAL_GC_DELAY_MS=6e4,__PRIVATE_REGULAR_GC_DELAY_MS=3e5,__PRIVATE_LruScheduler=function(){function t(t,e,n){this.O_=t,this.Ds=e,this.F_=n,this.N_=!1,this.M_=null}return t.prototype.start=function(){assert(null===this.M_,\"Cannot start an already started LruScheduler\"),this.O_.params.m_!==__PRIVATE_LruParams.y_&&this.L_()},t.prototype.stop=function(){this.M_&&(this.M_.cancel(),this.M_=null)},Object.defineProperty(t.prototype,\"Ea\",{get:function(){return null!==this.M_},enumerable:!0,configurable:!0}),t.prototype.L_=function(){var t=this;assert(null===this.M_,\"Cannot schedule GC while a task is pending\");var e=this.N_?__PRIVATE_REGULAR_GC_DELAY_MS:__PRIVATE_INITIAL_GC_DELAY_MS;debug(\"LruGarbageCollector\",\"Garbage collection scheduled in \"+e+\"ms\"),this.M_=this.Ds.Js(__PRIVATE_TimerId.ys,e,(function(){return t.M_=null,t.N_=!0,t.F_.a_(t.O_).then((function(){return t.L_()})).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)}))},t}(),__PRIVATE_LruGarbageCollector=function(){function t(t,e){this.G_=t,this.params=e}return t.prototype.B_=function(t,e){return this.G_.U_(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.k_=function(t,e){var n=this;if(0===e)return PersistencePromise.resolve(__PRIVATE_ListenSequence.Is);var r=new __PRIVATE_RollingSequenceNumberBuffer(e);return this.G_.Ur(t,(function(t){return r.P_(t.sequenceNumber)})).next((function(){return n.G_.x_(t,(function(t){return r.P_(t)}))})).next((function(){return r.maxValue}))},t.prototype.K_=function(t,e,n){return this.G_.K_(t,e,n)},t.prototype.j_=function(t,e){return this.G_.j_(t,e)},t.prototype.__=function(t,e){var n=this;return this.params.m_===__PRIVATE_LruParams.y_?(debug(\"LruGarbageCollector\",\"Garbage collection skipped; disabled\"),PersistencePromise.resolve(__PRIVATE_GC_DID_NOT_RUN)):this.q_(t).next((function(r){return r<n.params.m_?(debug(\"LruGarbageCollector\",\"Garbage collection skipped; Cache size \"+r+\" is lower than threshold \"+n.params.m_),__PRIVATE_GC_DID_NOT_RUN):n.Q_(t,e)}))},t.prototype.q_=function(t){return this.G_.q_(t)},t.prototype.Q_=function(t,e){var n,r,i,s,o,u,a,_=this,c=Date.now();return this.B_(t,this.params.v_).next((function(e){return e>_.params.p_?(debug(\"LruGarbageCollector\",\"Capping sequence numbers to collect down to the maximum of \"+_.params.p_+\" from \"+e),r=_.params.p_):r=e,s=Date.now(),_.k_(t,r)})).next((function(r){return n=r,o=Date.now(),_.K_(t,n,e)})).next((function(e){return i=e,u=Date.now(),_.j_(t,n)})).next((function(t){(a=Date.now(),__PRIVATE_getLogLevel()<=LogLevel.DEBUG)&&debug(\"LruGarbageCollector\",\"LRU Garbage Collection\\n\\tCounted targets in \"+(s-c)+\"ms\\n\\tDetermined least recently used \"+r+\" in \"+(o-s)+\"ms\\n\\tRemoved \"+i+\" targets in \"+(u-o)+\"ms\\n\\tRemoved \"+t+\" documents in \"+(a-u)+\"ms\\nTotal Duration: \"+(a-c)+\"ms\");return PersistencePromise.resolve({A_:!0,R_:r,I_:i,V_:t})}))},t}(),__PRIVATE_IndexedDbTargetCache=function(){function t(t,e){this.Eu=t,this.serializer=e,this.W_=__PRIVATE_TargetIdGenerator.$u()}return t.prototype.Ja=function(t){var e=this;return this.Y_(t).next((function(n){return n.highestTargetId=e.W_.after(n.highestTargetId),e.H_(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Ga=function(t){return this.Y_(t).next((function(t){return __PRIVATE_SnapshotVersion.q(new Timestamp(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.X_=function(t){return __PRIVATE_getHighestListenSequenceNumber(t.Bu)},t.prototype.Qa=function(t,e,n){var r=this;return this.Y_(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.Y()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.H_(t,i)}))},t.prototype.Za=function(t,e){var n=this;return this.z_(t,e).next((function(){return n.Y_(t).next((function(r){return r.targetCount+=1,n.J_(e,r),n.H_(t,r)}))}))},t.prototype.ja=function(t,e){return this.z_(t,e)},t.prototype.Z_=function(t,e){var n=this;return this.tc(t,e.targetId).next((function(){return __PRIVATE_targetsStore(t).delete(e.targetId)})).next((function(){return n.Y_(t)})).next((function(e){return assert(e.targetCount>0,\"Removing from an empty target cache\"),e.targetCount-=1,n.H_(t,e)}))},t.prototype.K_=function(t,e,n){var r=this,i=0,s=[];return __PRIVATE_targetsStore(t).lu((function(o,u){var a=r.serializer.ec(u);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,s.push(r.Z_(t,a)))})).next((function(){return PersistencePromise.Fo(s)})).next((function(){return i}))},t.prototype.Ur=function(t,e){var n=this;return __PRIVATE_targetsStore(t).lu((function(t,r){var i=n.serializer.ec(r);e(i)}))},t.prototype.Y_=function(t){return __PRIVATE_retrieveMetadata(t.Bu)},t.prototype.H_=function(t,e){return __PRIVATE_globalTargetStore(t).put(DbTargetGlobal.key,e)},t.prototype.z_=function(t,e){return __PRIVATE_targetsStore(t).put(this.serializer.nc(e))},t.prototype.J_=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.rc=function(t){return this.Y_(t).next((function(t){return t.targetCount}))},t.prototype.za=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return __PRIVATE_targetsStore(t).lu({range:i,index:DbTarget.queryTargetsIndexName},(function(t,r,i){var o=n.serializer.ec(r);e.isEqual(o.target)&&(s=o,i.done())})).next((function(){return s}))},t.prototype.ka=function(t,e,n){var r=this,i=[],s=__PRIVATE_documentTargetStore(t);return e.forEach((function(e){var o=encode(e.path);i.push(s.put(new DbTargetDocument(n,o))),i.push(r.Eu.fo(t,e))})),PersistencePromise.Fo(i)},t.prototype.Ua=function(t,e,n){var r=this,i=__PRIVATE_documentTargetStore(t);return PersistencePromise.forEach(e,(function(e){var s=encode(e.path);return PersistencePromise.Fo([i.delete([n,s]),r.Eu.do(t,e)])}))},t.prototype.tc=function(t,e){var n=__PRIVATE_documentTargetStore(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.n_=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=__PRIVATE_documentTargetStore(t),i=__PRIVATE_documentKeySet();return r.lu({range:n,fu:!0},(function(t,e,n){var r=decode(t[1]),s=new __PRIVATE_DocumentKey(r);i=i.add(s)})).next((function(){return i}))},t.prototype.Io=function(t,e){var n=encode(e.path),r=IDBKeyRange.bound([n],[__PRIVATE_immediateSuccessor(n)],!1,!0),i=0;return __PRIVATE_documentTargetStore(t).lu({index:DbTargetDocument.documentTargetsIndex,fu:!0,range:r},(function(t,e,n){var r=t[0];t[1];0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Xr=function(t,e){var n=this;return __PRIVATE_targetsStore(t).get(e).next((function(t){return t?n.serializer.ec(t):null}))},t}();function __PRIVATE_targetsStore(t){return __PRIVATE_IndexedDbPersistence.tu(t,DbTarget.store)}function __PRIVATE_globalTargetStore(t){return __PRIVATE_IndexedDbPersistence.tu(t,DbTargetGlobal.store)}function __PRIVATE_retrieveMetadata(t){return __PRIVATE_SimpleDb.tu(t,DbTargetGlobal.store).get(DbTargetGlobal.key).next((function(t){return assert(null!==t,\"Missing metadata row.\"),t}))}function __PRIVATE_getHighestListenSequenceNumber(t){return __PRIVATE_retrieveMetadata(t).next((function(t){return t.highestListenSequenceNumber}))}function __PRIVATE_documentTargetStore(t){return __PRIVATE_IndexedDbPersistence.tu(t,DbTargetDocument.store)}var __PRIVATE_IndexedDbRemoteDocumentCache=function(){function t(t,e){this.serializer=t,this.Tu=e}return t.prototype.Bo=function(t,e,n){return __PRIVATE_remoteDocumentsStore(t).put(__PRIVATE_dbKey(e),n)},t.prototype.ko=function(t,e){var n=__PRIVATE_remoteDocumentsStore(t),r=__PRIVATE_dbKey(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.ic(t,r)}))},t.prototype.xo=function(t,e){var n=this;return __PRIVATE_remoteDocumentsStore(t).get(__PRIVATE_dbKey(e)).next((function(t){return n.sc(t)}))},t.prototype.oc=function(t,e){var n=this;return __PRIVATE_remoteDocumentsStore(t).get(__PRIVATE_dbKey(e)).next((function(t){var e=n.sc(t);return e?{uc:e,size:__PRIVATE_dbDocumentSize(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=__PRIVATE_nullableMaybeDocumentMap();return this.ac(t,e,(function(t,e){var i=n.sc(e);r=r.Pt(t,i)})).next((function(){return r}))},t.prototype._c=function(t,e){var n=this,r=__PRIVATE_nullableMaybeDocumentMap(),i=new __PRIVATE_SortedMap(__PRIVATE_DocumentKey.H);return this.ac(t,e,(function(t,e){var s=n.sc(e);s?(r=r.Pt(t,s),i=i.Pt(t,__PRIVATE_dbDocumentSize(e))):(r=r.Pt(t,null),i=i.Pt(t,0))})).next((function(){return{cc:r,hc:i}}))},t.prototype.ac=function(t,e,n){if(e.tt())return PersistencePromise.resolve();var r=IDBKeyRange.bound(e.first().path.st(),e.last().path.st()),i=e.pt(),s=i.Dt();return __PRIVATE_remoteDocumentsStore(t).lu({range:r},(function(t,e,r){for(var o=__PRIVATE_DocumentKey.Tt(t);s&&__PRIVATE_DocumentKey.H(s,o)<0;)n(s,null),s=i.Dt();s&&s.isEqual(o)&&(n(s,e),s=i.Ct()?i.Dt():null),s?r.uu(s.path.st()):r.done()})).next((function(){for(;s;)n(s,null),s=i.Ct()?i.Dt():null}))},t.prototype.na=function(t,e,n){var r=this;assert(!e.pn(),\"CollectionGroup queries should be handled in LocalDocumentsView\");var i=__PRIVATE_documentMap(),s=e.path.length+1,o={};if(n.isEqual(__PRIVATE_SnapshotVersion.MIN)){var u=e.path.st();o.range=IDBKeyRange.lowerBound(u)}else{var a=e.path.st(),_=this.serializer.fc(n);o.range=IDBKeyRange.lowerBound([a,_],!0),o.index=DbRemoteDocument.collectionReadTimeIndex}return __PRIVATE_remoteDocumentsStore(t).lu(o,(function(t,n,o){if(t.length===s){var u=r.serializer.lc(n);e.path.rt(u.key.path)?u instanceof Document&&e.matches(u)&&(i=i.Pt(u.key,u)):o.done()}})).next((function(){return i}))},t.prototype.h_=function(t,e){var n=this,r=__PRIVATE_maybeDocumentMap(),i=this.serializer.fc(e),s=__PRIVATE_remoteDocumentsStore(t),o=IDBKeyRange.lowerBound(i,!0);return s.lu({index:DbRemoteDocument.readTimeIndex,range:o},(function(t,e){var s=n.serializer.lc(e);r=r.Pt(s.key,s),i=e.readTime})).next((function(){return{f_:r,readTime:n.serializer.dc(i)}}))},t.prototype.l_=function(t){var e=this,n=__PRIVATE_remoteDocumentsStore(t),r=__PRIVATE_SnapshotVersion.MIN;return n.lu({index:DbRemoteDocument.readTimeIndex,reverse:!0},(function(t,n,i){n.readTime&&(r=e.serializer.dc(n.readTime)),i.done()})).next((function(){return r}))},t.prototype.Fa=function(e){return new t.Tc(this,!!e&&e.Na)},t.prototype.Ec=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return __PRIVATE_documentGlobalStore(t).get(DbRemoteDocumentGlobal.key).next((function(t){return assert(!!t,\"Missing document cache metadata\"),t}))},t.prototype.ic=function(t,e){return __PRIVATE_documentGlobalStore(t).put(DbRemoteDocumentGlobal.key,e)},t.prototype.sc=function(t){if(t){var e=this.serializer.lc(t);return e instanceof __PRIVATE_NoDocument&&e.version.isEqual(__PRIVATE_SnapshotVersion.W())?null:e}return null},t.Tc=function(t){function e(e,n){var r=t.call(this)||this;return r.Pc=e,r.Na=n,r.Ac=new __PRIVATE_ObjectMap((function(t){return t.toString()})),r}return tslib.__extends(e,t),e.prototype.qo=function(t){var e=this,n=[],r=0,i=new __PRIVATE_SortedSet((function(t,e){return __PRIVATE_primitiveComparator(t.ot(),e.ot())}));return this.Mo.forEach((function(s,o){var u=e.Ac.get(s);if(assert(void 0!==u,\"Cannot modify a document that wasn't read (for \"+s+\")\"),o){assert(!e.readTime.isEqual(__PRIVATE_SnapshotVersion.MIN),\"Cannot add a document with a read time of zero\");var a=e.Pc.serializer.Rc(o,e.readTime);i=i.add(s.path.Z());var _=__PRIVATE_dbDocumentSize(a);r+=_-u,n.push(e.Pc.Bo(t,s,a))}else if(r-=u,e.Na){var c=e.Pc.serializer.Rc(new __PRIVATE_NoDocument(s,__PRIVATE_SnapshotVersion.W()),e.readTime);n.push(e.Pc.Bo(t,s,c))}else n.push(e.Pc.ko(t,s))})),i.forEach((function(r){n.push(e.Pc.Tu.gu(t,r))})),n.push(this.Pc.updateMetadata(t,r)),PersistencePromise.Fo(n)},e.prototype.Ko=function(t,e){var n=this;return this.Pc.oc(t,e).next((function(t){return null===t?(n.Ac.set(e,0),null):(n.Ac.set(e,t.size),t.uc)}))},e.prototype.jo=function(t,e){var n=this;return this.Pc._c(t,e).next((function(t){var e=t.cc;return t.hc.forEach((function(t,e){n.Ac.set(t,e)})),e}))},e}(__PRIVATE_RemoteDocumentChangeBuffer),t}();function __PRIVATE_documentGlobalStore(t){return __PRIVATE_IndexedDbPersistence.tu(t,DbRemoteDocumentGlobal.store)}function __PRIVATE_remoteDocumentsStore(t){return __PRIVATE_IndexedDbPersistence.tu(t,DbRemoteDocument.store)}function __PRIVATE_dbKey(t){return t.path.st()}function __PRIVATE_dbDocumentSize(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw fail(\"Unknown remote document type\");e=t.noDocument}return JSON.stringify(e).length}var __PRIVATE_MemoryIndexManager=function(){function t(){this.Ic=new __PRIVATE_MemoryCollectionParentIndex}return t.prototype.gu=function(t,e){return this.Ic.add(e),PersistencePromise.resolve()},t.prototype.oa=function(t,e){return PersistencePromise.resolve(this.Ic.getEntries(e))},t}(),__PRIVATE_MemoryCollectionParentIndex=function(){function t(){this.index={}}return t.prototype.add=function(t){assert(t.length%2==1,\"Expected a collection path.\");var e=t.nt(),n=t.Z(),r=this.index[e]||new __PRIVATE_SortedSet(ResourcePath.H),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.nt(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new __PRIVATE_SortedSet(ResourcePath.H)).st()},t}(),SCHEMA_VERSION=9,SchemaConverter=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;assert(n<r&&n>=0&&r<=SCHEMA_VERSION,\"Unexpected schema upgrade from v\"+n+\" to v{toVersion}.\");var s=new __PRIVATE_SimpleDbTransaction(e);n<1&&r>=1&&(__PRIVATE_createPrimaryClientStore(t),__PRIVATE_createMutationQueue(t),__PRIVATE_createQueryCache(t),__PRIVATE_createRemoteDocumentCache(t));var o=PersistencePromise.resolve();return n<3&&r>=3&&(0!==n&&(__PRIVATE_dropQueryCache(t),__PRIVATE_createQueryCache(t)),o=o.next((function(){return __PRIVATE_writeEmptyTargetGlobalEntry(s)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return __PRIVATE_upgradeMutationBatchSchemaAndMigrateData(t,s)}))),o=o.next((function(){__PRIVATE_createClientMetadataStore(t)}))),n<5&&r>=5&&(o=o.next((function(){return i.removeAcknowledgedMutations(s)}))),n<6&&r>=6&&(o=o.next((function(){return __PRIVATE_createDocumentGlobalStore(t),i.addDocumentGlobal(s)}))),n<7&&r>=7&&(o=o.next((function(){return i.ensureSequenceNumbers(s)}))),n<8&&r>=8&&(o=o.next((function(){return i.createCollectionParentIndex(t,s)}))),n<9&&r>=9&&(o=o.next((function(){__PRIVATE_dropRemoteDocumentChangesStore(t),__PRIVATE_createRemoteDocumentReadTimeIndex(e)}))),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(DbRemoteDocument.store).lu((function(t,n){e+=__PRIVATE_dbDocumentSize(n)})).next((function(){var n=new DbRemoteDocumentGlobal(e);return t.store(DbRemoteDocumentGlobal.store).put(DbRemoteDocumentGlobal.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(DbMutationQueue.store),r=t.store(DbMutationBatch.store);return n._u().next((function(n){return PersistencePromise.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,__PRIVATE_BATCHID_UNKNOWN],[n.userId,n.lastAcknowledgedBatchId]);return r._u(DbMutationBatch.userMutationsIndex,i).next((function(r){return PersistencePromise.forEach(r,(function(r){assert(r.userId===n.userId,\"Cannot process batch \"+r.batchId+\" from unexpected user\");var i=e.serializer.yu(r);return __PRIVATE_removeMutationBatch(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(DbTargetDocument.store),n=t.store(DbRemoteDocument.store);return __PRIVATE_getHighestListenSequenceNumber(t).next((function(t){var r=[];return n.lu((function(n,i){var s=new ResourcePath(n),o=__PRIVATE_sentinelKey(s);r.push(e.get(o).next((function(n){return n?PersistencePromise.resolve():function(n){return e.put(new DbTargetDocument(0,encode(n),t))}(s)})))})).next((function(){return PersistencePromise.Fo(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(DbCollectionParent.store,{keyPath:DbCollectionParent.keyPath});var n=e.store(DbCollectionParent.store),r=new __PRIVATE_MemoryCollectionParentIndex,i=function(t){if(r.add(t)){var e=t.nt(),i=t.Z();return n.put({collectionId:e,parent:encode(i)})}};return e.store(DbRemoteDocument.store).lu({fu:!0},(function(t,e){var n=new ResourcePath(t);return i(n.Z())})).next((function(){return e.store(DbDocumentMutation.store).lu({fu:!0},(function(t,e){t[0];var n=t[1],r=(t[2],decode(n));return i(r.Z())}))}))},t}();function __PRIVATE_sentinelKey(t){return[0,encode(t)]}var DbTimestamp=function(t,e){this.seconds=t,this.nanoseconds=e},DbPrimaryClient=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store=\"owner\",t.key=\"owner\",t}();function __PRIVATE_createPrimaryClientStore(t){t.createObjectStore(DbPrimaryClient.store)}var DbMutationQueue=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store=\"mutationQueues\",t.keyPath=\"userId\",t}(),DbMutationBatch=function(){function t(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}return t.store=\"mutations\",t.keyPath=\"batchId\",t.userMutationsIndex=\"userMutationsIndex\",t.userMutationsKeyPath=[\"userId\",\"batchId\"],t}();function __PRIVATE_createMutationQueue(t){t.createObjectStore(DbMutationQueue.store,{keyPath:DbMutationQueue.keyPath}),t.createObjectStore(DbMutationBatch.store,{keyPath:DbMutationBatch.keyPath,autoIncrement:!0}).createIndex(DbMutationBatch.userMutationsIndex,DbMutationBatch.userMutationsKeyPath,{unique:!0}),t.createObjectStore(DbDocumentMutation.store)}function __PRIVATE_upgradeMutationBatchSchemaAndMigrateData(t,e){return e.store(DbMutationBatch.store)._u().next((function(n){t.deleteObjectStore(DbMutationBatch.store),t.createObjectStore(DbMutationBatch.store,{keyPath:DbMutationBatch.keyPath,autoIncrement:!0}).createIndex(DbMutationBatch.userMutationsIndex,DbMutationBatch.userMutationsKeyPath,{unique:!0});var r=e.store(DbMutationBatch.store),i=n.map((function(t){return r.put(t)}));return PersistencePromise.Fo(i)}))}var DbDocumentMutation=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,encode(e)]},t.key=function(t,e,n){return[t,encode(e),n]},t.store=\"documentMutations\",t.PLACEHOLDER=new t,t}();function __PRIVATE_createRemoteDocumentCache(t){t.createObjectStore(DbRemoteDocument.store)}var DbNoDocument=function(t,e){this.path=t,this.readTime=e},DbUnknownDocument=function(t,e){this.path=t,this.version=e},DbRemoteDocument=function(){function t(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}return t.store=\"remoteDocuments\",t.readTimeIndex=\"readTimeIndex\",t.readTimeIndexPath=\"readTime\",t.collectionReadTimeIndex=\"collectionReadTimeIndex\",t.collectionReadTimeIndexPath=[\"parentPath\",\"readTime\"],t}(),DbRemoteDocumentGlobal=function(){function t(t){this.byteSize=t}return t.store=\"remoteDocumentGlobal\",t.key=\"remoteDocumentGlobalKey\",t}();function __PRIVATE_createDocumentGlobalStore(t){t.createObjectStore(DbRemoteDocumentGlobal.store)}var DbTarget=function(){function t(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}return t.store=\"targets\",t.keyPath=\"targetId\",t.queryTargetsIndexName=\"queryTargetsIndex\",t.queryTargetsKeyPath=[\"canonicalId\",\"targetId\"],t}(),DbTargetDocument=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,assert(0===t==(void 0!==n),\"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number\")}return t.store=\"targetDocuments\",t.keyPath=[\"targetId\",\"path\"],t.documentTargetsIndex=\"documentTargetsIndex\",t.documentTargetsKeyPath=[\"path\",\"targetId\"],t}(),DbTargetGlobal=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key=\"targetGlobalKey\",t.store=\"targetGlobal\",t}(),DbCollectionParent=function(){function t(t,e){this.collectionId=t,this.parent=e}return t.store=\"collectionParents\",t.keyPath=[\"collectionId\",\"parent\"],t}();function __PRIVATE_createQueryCache(t){t.createObjectStore(DbTargetDocument.store,{keyPath:DbTargetDocument.keyPath}).createIndex(DbTargetDocument.documentTargetsIndex,DbTargetDocument.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(DbTarget.store,{keyPath:DbTarget.keyPath}).createIndex(DbTarget.queryTargetsIndexName,DbTarget.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(DbTargetGlobal.store)}function __PRIVATE_dropQueryCache(t){t.deleteObjectStore(DbTargetDocument.store),t.deleteObjectStore(DbTarget.store),t.deleteObjectStore(DbTargetGlobal.store)}function __PRIVATE_dropRemoteDocumentChangesStore(t){t.objectStoreNames.contains(\"remoteDocumentChanges\")&&t.deleteObjectStore(\"remoteDocumentChanges\")}function __PRIVATE_writeEmptyTargetGlobalEntry(t){var e=t.store(DbTargetGlobal.store),n=new DbTargetGlobal(0,0,__PRIVATE_SnapshotVersion.MIN.Y(),0);return e.put(DbTargetGlobal.key,n)}function __PRIVATE_createRemoteDocumentReadTimeIndex(t){var e=t.objectStore(DbRemoteDocument.store);e.createIndex(DbRemoteDocument.readTimeIndex,DbRemoteDocument.readTimeIndexPath,{unique:!1}),e.createIndex(DbRemoteDocument.collectionReadTimeIndex,DbRemoteDocument.collectionReadTimeIndexPath,{unique:!1})}var DbClientMetadata=function(){function t(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r}return t.store=\"clientMetadata\",t.keyPath=\"clientId\",t}();function __PRIVATE_createClientMetadataStore(t){t.createObjectStore(DbClientMetadata.store,{keyPath:DbClientMetadata.keyPath})}var V1_STORES=[DbMutationQueue.store,DbMutationBatch.store,DbDocumentMutation.store,DbRemoteDocument.store,DbTarget.store,DbPrimaryClient.store,DbTargetGlobal.store,DbTargetDocument.store],V3_STORES=V1_STORES,V4_STORES=tslib.__spreadArrays(V3_STORES,[DbClientMetadata.store]),V6_STORES=tslib.__spreadArrays(V4_STORES,[DbRemoteDocumentGlobal.store]),V8_STORES=tslib.__spreadArrays(V6_STORES,[DbCollectionParent.store]),ALL_STORES=V8_STORES,__PRIVATE_IndexedDbIndexManager=function(){function t(){this.Vc=new __PRIVATE_MemoryCollectionParentIndex}return t.prototype.gu=function(t,e){var n=this;if(assert(e.length%2==1,\"Expected a collection path.\"),!this.Vc.has(e)){var r=e.nt(),i=e.Z();t.Wo((function(){n.Vc.add(e)}));var s={collectionId:r,parent:encode(i)};return __PRIVATE_collectionParentsStore(t).put(s)}return PersistencePromise.resolve()},t.prototype.oa=function(t,e){var n=[],r=IDBKeyRange.bound([e,\"\"],[__PRIVATE_immediateSuccessor(e),\"\"],!1,!0);return __PRIVATE_collectionParentsStore(t)._u(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(decode(s.parent))}return n}))},t}();function __PRIVATE_collectionParentsStore(t){return __PRIVATE_IndexedDbPersistence.tu(t,DbCollectionParent.store)}var LocalSerializer=function(){function t(t){this.mc=t}return t.prototype.lc=function(t){if(t.document)return this.mc.pi(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=__PRIVATE_DocumentKey.Tt(t.noDocument.path),n=this.vc(t.noDocument.readTime);return new __PRIVATE_NoDocument(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){e=__PRIVATE_DocumentKey.Tt(t.unknownDocument.path),n=this.vc(t.unknownDocument.version);return new __PRIVATE_UnknownDocument(e,n)}return fail(\"Unexpected DbRemoteDocument\")},t.prototype.Rc=function(t,e){var n=this.fc(e),r=t.key.path.Z().st();if(t instanceof Document){var i=t.proto?t.proto:this.mc.vi(t),s=t.hasCommittedMutations;return new DbRemoteDocument(null,null,i,s,n,r)}if(t instanceof __PRIVATE_NoDocument){var o=t.key.path.st(),u=this.pc(t.version);s=t.hasCommittedMutations;return new DbRemoteDocument(null,new DbNoDocument(o,u),null,s,n,r)}if(t instanceof __PRIVATE_UnknownDocument){o=t.key.path.st();var a=this.pc(t.version);return new DbRemoteDocument(new DbUnknownDocument(o,a),null,null,!0,n,r)}return fail(\"Unexpected MaybeDocument\")},t.prototype.fc=function(t){var e=t.Y();return[e.seconds,e.nanoseconds]},t.prototype.dc=function(t){var e=new Timestamp(t[0],t[1]);return __PRIVATE_SnapshotVersion.q(e)},t.prototype.pc=function(t){var e=t.Y();return new DbTimestamp(e.seconds,e.nanoseconds)},t.prototype.vc=function(t){var e=new Timestamp(t.seconds,t.nanoseconds);return __PRIVATE_SnapshotVersion.q(e)},t.prototype.bu=function(t,e){var n=this,r=e.baseMutations.map((function(t){return n.mc.Fi(t)})),i=e.mutations.map((function(t){return n.mc.Fi(t)}));return new DbMutationBatch(t,e.batchId,e.ke.toMillis(),r,i)},t.prototype.yu=function(t){var e=this,n=(t.baseMutations||[]).map((function(t){return e.mc.Gi(t)})),r=t.mutations.map((function(t){return e.mc.Gi(t)})),i=Timestamp.fromMillis(t.localWriteTimeMs);return new __PRIVATE_MutationBatch(t.batchId,i,n,r)},t.prototype.bc=function(t){var e=[];return t.forEach((function(t){e.push(encode(t.path))})),e},t.prototype.gc=function(t){for(var e=__PRIVATE_documentKeySet(),n=0,r=t;n<r.length;n++){var i=r[n];e=e.add(new __PRIVATE_DocumentKey(decode(i)))}return e},t.prototype.ec=function(t){var e,n=this.vc(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?this.vc(t.lastLimboFreeSnapshotVersion):__PRIVATE_SnapshotVersion.MIN,i=t.resumeToken;return e=__PRIVATE_isDocumentQuery(t.query)?this.mc.qi(t.query):this.mc.Hi(t.query),new __PRIVATE_TargetData(e,t.targetId,__PRIVATE_TargetPurpose.yn,t.lastListenSequenceNumber,n,r,i)},t.prototype.nc=function(t){assert(__PRIVATE_TargetPurpose.yn===t.Cn,\"Only queries with purpose \"+__PRIVATE_TargetPurpose.yn+\" may be stored, got \"+t.Cn);var e,n,r=this.pc(t.On),i=this.pc(t.lastLimboFreeSnapshotVersion);return e=t.target.He()?this.mc.ji(t.target):this.mc.Qi(t.target),t.resumeToken instanceof Uint8Array?(assert(__PRIVATE_SimpleDb.zo(),\"Persisting non-string stream tokens is only supported with mock persistence .\"),n=t.resumeToken.toString()):n=t.resumeToken,new DbTarget(t.targetId,t.target.canonicalId(),r,n,t.sequenceNumber,i,e)},t}();function __PRIVATE_isDocumentQuery(t){return void 0!==t.documents}var __PRIVATE_LOG_TAG$3=\"IndexedDbPersistence\",__PRIVATE_MAX_CLIENT_AGE_MS=18e5,__PRIVATE_MAX_PRIMARY_ELIGIBLE_AGE_MS=5e3,__PRIVATE_CLIENT_METADATA_REFRESH_INTERVAL_MS=4e3,__PRIVATE_PRIMARY_LEASE_EXCLUSIVE_ERROR_MSG=\"Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.\",__PRIVATE_UNSUPPORTED_PLATFORM_ERROR_MSG=\"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.\",__PRIVATE_ZOMBIED_CLIENTS_KEY_PREFIX=\"firestore_zombie\",__PRIVATE_IndexedDbTransaction=function(t){function e(e,n){var r=t.call(this)||this;return r.Bu=e,r.xa=n,r}return tslib.__extends(e,t),e}(__PRIVATE_PersistenceTransaction),__PRIVATE_IndexedDbPersistence=function(){function t(e,n,r,i,s,o,u,a){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.wc=o,this.yc=a,this.Sc=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Dc=null,this.inForeground=!1,this.Cc=null,this.Oc=null,this.Fc=Number.NEGATIVE_INFINITY,this.Nc=function(t){return Promise.resolve()},this.Eu=new __PRIVATE_IndexedDbLruDelegate(this,s),this.Mc=n+t.Lc,this.serializer=new LocalSerializer(u),this.document=i.document,this.Va=new __PRIVATE_IndexedDbTargetCache(this.Eu,this.serializer),this.Tu=new __PRIVATE_IndexedDbIndexManager,this.Hu=new __PRIVATE_IndexedDbRemoteDocumentCache(this.serializer,this.Tu),!i.window||!i.window.localStorage)throw new FirestoreError(Code.UNIMPLEMENTED,\"IndexedDB persistence is only available on platforms that support LocalStorage.\");this.window=i.window,this.Gc=this.window.localStorage}return t.tu=function(t,e){if(t instanceof __PRIVATE_IndexedDbTransaction)return __PRIVATE_SimpleDb.tu(t.Bu,e);throw fail(\"IndexedDbPersistence must use instances of IndexedDbTransaction\")},t.Bc=function(e){return tslib.__awaiter(this,void 0,void 0,(function(){var n;return tslib.__generator(this,(function(r){switch(r.label){case 0:if(!t.Xo())throw new FirestoreError(Code.UNIMPLEMENTED,__PRIVATE_UNSUPPORTED_PLATFORM_ERROR_MSG);return[4,(n=new t(e.allowTabSynchronization,e.persistenceKey,e.clientId,e.platform,e.Uc,e.wc,e.serializer,e.yc)).start()];case 1:return r.sent(),[2,n]}}))}))},t.prototype.start=function(){var t=this;return assert(!this.Ea,\"IndexedDbPersistence double-started!\"),assert(null!==this.window,\"Expected 'window' to be defined\"),__PRIVATE_SimpleDb.Ho(this.Mc,SCHEMA_VERSION,new SchemaConverter(this.serializer)).then((function(e){return t.kc=e,t.xc()})).then((function(){return t.Kc(),t.jc(),t.qc(),t.kc.runTransaction(\"readonly-idempotent\",[DbTargetGlobal.store],(function(t){return __PRIVATE_getHighestListenSequenceNumber(t)}))})).then((function(e){t.Qc=new __PRIVATE_ListenSequence(e,t.yc)})).then((function(){t.Sc=!0})).catch((function(e){return t.kc&&t.kc.close(),Promise.reject(e)}))},t.prototype.Wc=function(t){var e=this;return this.Nc=function(n){return tslib.__awaiter(e,void 0,void 0,(function(){return tslib.__generator(this,(function(e){return this.Ea?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.$c=function(t){var e=this;this.kc.eu((function(n){return tslib.__awaiter(e,void 0,void 0,(function(){return tslib.__generator(this,(function(e){switch(e.label){case 0:return null!==n.newVersion?[3,2]:[4,t()];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.u_=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.wc.Us((function(){return tslib.__awaiter(e,void 0,void 0,(function(){return tslib.__generator(this,(function(t){switch(t.label){case 0:return this.Ea?[4,this.xc()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.xc=function(){var t=this;return this.kc.runTransaction(\"readwrite-idempotent\",ALL_STORES,(function(e){return __PRIVATE_clientMetadataStore(e).put(new DbClientMetadata(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Yc(e).next((function(e){e||(t.isPrimary=!1,t.wc.Us((function(){return t.Nc(!1)})))}))})).next((function(){return t.Hc(e)})).next((function(n){return t.isPrimary&&!n?t.Xc(e).next((function(){return!1})):!!n&&t.zc(e).next((function(){return!0}))}))})).catch((function(e){if(!t.allowTabSynchronization)throw e;return debug(__PRIVATE_LOG_TAG$3,\"Releasing owner lease after error during lease refresh\",e),!1})).then((function(e){t.isPrimary!==e&&t.wc.Us((function(){return t.Nc(e)})),t.isPrimary=e}))},t.prototype.Yc=function(t){var e=this;return __PRIVATE_primaryClientStore(t).get(DbPrimaryClient.key).next((function(t){return PersistencePromise.resolve(e.Jc(t))}))},t.prototype.Zc=function(t){return __PRIVATE_clientMetadataStore(t).delete(this.clientId)},t.prototype.th=function(){return tslib.__awaiter(this,void 0,void 0,(function(){var e=this;return tslib.__generator(this,(function(n){switch(n.label){case 0:return!this.isPrimary||this.eh(this.Fc,__PRIVATE_MAX_CLIENT_AGE_MS)?[3,2]:(this.Fc=Date.now(),[4,this.runTransaction(\"maybeGarbageCollectMultiClientState\",\"readwrite-primary-idempotent\",(function(n){var r=t.tu(n,DbClientMetadata.store);return r._u().next((function(t){var n=e.nh(t,__PRIVATE_MAX_CLIENT_AGE_MS),i=t.filter((function(t){return-1===n.indexOf(t)}));return PersistencePromise.forEach(i,(function(t){return r.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:n.sent().forEach((function(t){e.window.localStorage.removeItem(e.rh(t.clientId))})),n.label=2;case 2:return[2]}}))}))},t.prototype.qc=function(){var t=this;this.Oc=this.wc.Js(__PRIVATE_TimerId.ws,__PRIVATE_CLIENT_METADATA_REFRESH_INTERVAL_MS,(function(){return t.xc().then((function(){return t.th()})).then((function(){return t.qc()}))}))},t.prototype.Jc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Hc=function(t){var e=this;return __PRIVATE_primaryClientStore(t).get(DbPrimaryClient.key).next((function(n){if(null!==n&&e.eh(n.leaseTimestampMs,__PRIVATE_MAX_PRIMARY_ELIGIBLE_AGE_MS)&&!e.ih(n.ownerId)){if(e.Jc(n)&&e.networkEnabled)return!0;if(!e.Jc(n)){if(!n.allowTabSynchronization)throw new FirestoreError(Code.FAILED_PRECONDITION,__PRIVATE_PRIMARY_LEASE_EXCLUSIVE_ERROR_MSG);return!1}}return!(!e.networkEnabled||!e.inForeground)||__PRIVATE_clientMetadataStore(t)._u().next((function(t){return void 0===e.nh(t,__PRIVATE_MAX_PRIMARY_ELIGIBLE_AGE_MS).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&debug(__PRIVATE_LOG_TAG$3,\"Client \"+(t?\"is\":\"is not\")+\" eligible for a primary lease.\"),t}))},t.prototype.shutdown=function(){return tslib.__awaiter(this,void 0,void 0,(function(){var t=this;return tslib.__generator(this,(function(e){switch(e.label){case 0:return this.Sc=!1,this.sh(),this.Oc&&(this.Oc.cancel(),this.Oc=null),this.oh(),this.uh(),[4,this.kc.runTransaction(\"readwrite-idempotent\",[DbPrimaryClient.store,DbClientMetadata.store],(function(e){return t.Xc(e).next((function(){return t.Zc(e)}))}))];case 1:return e.sent(),this.kc.close(),this.ah(),[2]}}))}))},t.prototype.nh=function(t,e){var n=this;return t.filter((function(t){return n.eh(t.updateTimeMs,e)&&!n.ih(t.clientId)}))},t.prototype.s_=function(){var t=this;return this.kc.runTransaction(\"readonly-idempotent\",[DbClientMetadata.store],(function(e){return __PRIVATE_clientMetadataStore(e)._u().next((function(e){return t.nh(e,__PRIVATE_MAX_CLIENT_AGE_MS).map((function(t){return t.clientId}))}))}))},t.clearPersistence=function(e){return tslib.__awaiter(this,void 0,void 0,(function(){var n;return tslib.__generator(this,(function(r){switch(r.label){case 0:return t.Xo()?(n=e+t.Lc,[4,__PRIVATE_SimpleDb.delete(n)]):[2,Promise.resolve()];case 1:return r.sent(),[2]}}))}))},Object.defineProperty(t.prototype,\"Ea\",{get:function(){return this.Sc},enumerable:!0,configurable:!0}),t.prototype.Aa=function(t){return assert(this.Ea,\"Cannot initialize MutationQueue before persistence is started.\"),__PRIVATE_IndexedDbMutationQueue.Au(t,this.serializer,this.Tu,this.Eu)},t.prototype.ma=function(){return assert(this.Ea,\"Cannot initialize TargetCache before persistence is started.\"),this.Va},t.prototype.Ia=function(){return assert(this.Ea,\"Cannot initialize RemoteDocumentCache before persistence is started.\"),this.Hu},t.prototype.pa=function(){return assert(this.Ea,\"Cannot initialize IndexManager before persistence is started.\"),this.Tu},t.prototype.runTransaction=function(t,e,n){var r=this;debug(__PRIVATE_LOG_TAG$3,\"Starting transaction:\",t);var i,s=e.endsWith(\"idempotent\"),o=e.startsWith(\"readonly\")?s?\"readonly-idempotent\":\"readonly\":s?\"readwrite-idempotent\":\"readwrite\";return this.kc.runTransaction(o,ALL_STORES,(function(s){return i=new __PRIVATE_IndexedDbTransaction(s,r.Qc.next()),\"readwrite-primary\"===e||\"readwrite-primary-idempotent\"===e?r.Yc(s).next((function(t){return!!t||r.Hc(s)})).next((function(e){if(!e)throw error(\"Failed to obtain primary lease for action '\"+t+\"'.\"),r.isPrimary=!1,r.wc.Us((function(){return r.Nc(!1)})),new FirestoreError(Code.FAILED_PRECONDITION,__PRIVATE_PRIMARY_LEASE_LOST_ERROR_MSG);return n(i)})).next((function(t){return r.zc(s).next((function(){return t}))})):r._h(s).next((function(){return n(i)}))})).then((function(t){return i.$o(),t}))},t.prototype._h=function(t){var e=this;return __PRIVATE_primaryClientStore(t).get(DbPrimaryClient.key).next((function(t){if(null!==t&&e.eh(t.leaseTimestampMs,__PRIVATE_MAX_PRIMARY_ELIGIBLE_AGE_MS)&&!e.ih(t.ownerId)&&!e.Jc(t)&&!t.allowTabSynchronization)throw new FirestoreError(Code.FAILED_PRECONDITION,__PRIVATE_PRIMARY_LEASE_EXCLUSIVE_ERROR_MSG)}))},t.prototype.zc=function(t){var e=new DbPrimaryClient(this.clientId,this.allowTabSynchronization,Date.now());return __PRIVATE_primaryClientStore(t).put(DbPrimaryClient.key,e)},t.Xo=function(){return __PRIVATE_SimpleDb.Xo()},t.hh=function(t){var e=t.o.projectId;return t.o.u||(e+=\".\"+t.o.database),\"firestore/\"+t.persistenceKey+\"/\"+e+\"/\"},t.prototype.Xc=function(t){var e=this,n=__PRIVATE_primaryClientStore(t);return n.get(DbPrimaryClient.key).next((function(t){return e.Jc(t)?(debug(__PRIVATE_LOG_TAG$3,\"Releasing primary lease.\"),n.delete(DbPrimaryClient.key)):PersistencePromise.resolve()}))},t.prototype.eh=function(t,e){var n=Date.now();return!(t<n-e)&&(!(t>n)||(error(\"Detected an update time that is in the future: \"+t+\" > \"+n),!1))},t.prototype.Kc=function(){var t=this;null!==this.document&&\"function\"==typeof this.document.addEventListener&&(this.Cc=function(){t.wc.Us((function(){return t.inForeground=\"visible\"===t.document.visibilityState,t.xc()}))},this.document.addEventListener(\"visibilitychange\",this.Cc),this.inForeground=\"visible\"===this.document.visibilityState)},t.prototype.oh=function(){this.Cc&&(assert(null!==this.document&&\"function\"==typeof this.document.addEventListener,\"Expected 'document.addEventListener' to be a function\"),this.document.removeEventListener(\"visibilitychange\",this.Cc),this.Cc=null)},t.prototype.jc=function(){var t=this;\"function\"==typeof this.window.addEventListener&&(this.Dc=function(){t.sh(),t.wc.Us((function(){return t.shutdown()}))},this.window.addEventListener(\"unload\",this.Dc))},t.prototype.uh=function(){this.Dc&&(assert(\"function\"==typeof this.window.removeEventListener,\"Expected 'window.removeEventListener' to be a function\"),this.window.removeEventListener(\"unload\",this.Dc),this.Dc=null)},t.prototype.ih=function(t){try{var e=null!==this.Gc.getItem(this.rh(t));return debug(__PRIVATE_LOG_TAG$3,\"Client '\"+t+\"' \"+(e?\"is\":\"is not\")+\" zombied in LocalStorage\"),e}catch(t){return error(__PRIVATE_LOG_TAG$3,\"Failed to get zombied client id.\",t),!1}},t.prototype.sh=function(){try{this.Gc.setItem(this.rh(this.clientId),String(Date.now()))}catch(t){error(\"Failed to set zombie client id.\",t)}},t.prototype.ah=function(){try{this.Gc.removeItem(this.rh(this.clientId))}catch(t){}},t.prototype.rh=function(t){return __PRIVATE_ZOMBIED_CLIENTS_KEY_PREFIX+\"_\"+this.persistenceKey+\"_\"+t},t.Lc=\"main\",t}();function __PRIVATE_primaryClientStore(t){return t.store(DbPrimaryClient.store)}function __PRIVATE_clientMetadataStore(t){return t.store(DbClientMetadata.store)}var __PRIVATE_IndexedDbLruDelegate=function(){function t(t,e){this.db=t,this.fh=null,this.O_=new __PRIVATE_LruGarbageCollector(this,e)}return t.prototype.U_=function(t){var e=this.lh(t);return this.db.ma().rc(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.lh=function(t){var e=0;return this.x_(t,(function(t){e++})).next((function(){return e}))},t.prototype.Ur=function(t,e){return this.db.ma().Ur(t,e)},t.prototype.x_=function(t,e){return this.dh(t,(function(t,n){return e(n)}))},t.prototype.Pa=function(t){this.fh=t},t.prototype.fo=function(t,e){return __PRIVATE_writeSentinelKey(t,e)},t.prototype.do=function(t,e){return __PRIVATE_writeSentinelKey(t,e)},t.prototype.K_=function(t,e,n){return this.db.ma().K_(t,e,n)},t.prototype.ku=function(t,e){return __PRIVATE_writeSentinelKey(t,e)},t.prototype.Th=function(t,e){return this.fh.Io(e)?PersistencePromise.resolve(!0):__PRIVATE_mutationQueuesContainKey(t,e)},t.prototype.j_=function(t,e){var n=this,r=this.db.Ia().Fa(),i=[],s=0;return this.dh(t,(function(o,u){if(u<=e){var a=n.Th(t,o).next((function(e){if(!e)return s++,r.xo(t,o).next((function(){return r.ko(o),__PRIVATE_documentTargetStore(t).delete(__PRIVATE_sentinelKey$1(o))}))}));i.push(a)}})).next((function(){return PersistencePromise.Fo(i)})).next((function(){return r.apply(t)})).next((function(){return s}))},t.prototype.removeTarget=function(t,e){var n=e.Fn(t.xa);return this.db.ma().ja(t,n)},t.prototype.qa=function(t,e){return __PRIVATE_writeSentinelKey(t,e)},t.prototype.dh=function(t,e){var n,r=__PRIVATE_documentTargetStore(t),i=__PRIVATE_ListenSequence.Is;return r.lu({index:DbTargetDocument.documentTargetsIndex},(function(t,r){var s=t[0],o=(t[1],r.path),u=r.sequenceNumber;0===s?(i!==__PRIVATE_ListenSequence.Is&&e(new __PRIVATE_DocumentKey(decode(n)),i),i=u,n=o):i=__PRIVATE_ListenSequence.Is})).next((function(){i!==__PRIVATE_ListenSequence.Is&&e(new __PRIVATE_DocumentKey(decode(n)),i)}))},t.prototype.q_=function(t){return this.db.Ia().Ec(t)},t}();function __PRIVATE_sentinelKey$1(t){return[0,encode(t.path)]}function __PRIVATE_sentinelRow(t,e){return new DbTargetDocument(0,encode(t.path),e)}function __PRIVATE_writeSentinelKey(t,e){return __PRIVATE_documentTargetStore(t).put(__PRIVATE_sentinelRow(e,t.xa))}var __PRIVATE_IndexFreeQueryEngine=function(){function t(){}return t.prototype.ba=function(t){this.Eh=t},t.prototype.na=function(t,e,n,r){var i=this;return assert(void 0!==this.Eh,\"setLocalDocumentsView() not called\"),e.dn()?this.Ph(t,e):n.isEqual(__PRIVATE_SnapshotVersion.MIN)?this.Ph(t,e):this.Eh.ta(t,r).next((function(s){var o=i.Ah(e,s);return(e.Vn()||e.mn())&&i.Rh(e.Ze,o,r,n)?i.Ph(t,e):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&debug(\"IndexFreeQueryEngine\",\"Re-using previous result from %s to execute query: %s\",n.toString(),e.toString()),i.Eh.na(t,e,n).next((function(t){return o.forEach((function(e){t=t.Pt(e.key,e)})),t})))}))},t.prototype.Ah=function(t,e){var n=new __PRIVATE_SortedSet((function(e,n){return t.En(e,n)}));return e.forEach((function(e,r){r instanceof Document&&t.matches(r)&&(n=n.add(r))})),n},t.prototype.Rh=function(t,e,n,r){if(n.size!==e.size)return!0;var i=t===__PRIVATE_LimitType.Xe?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version._(r)>0)},t.prototype.Ph=function(t,e){return __PRIVATE_getLogLevel()<=LogLevel.DEBUG&&debug(\"IndexFreeQueryEngine\",\"Using full collection scan to execute query: %s\",e.toString()),this.Eh.na(t,e,__PRIVATE_SnapshotVersion.MIN)},t}(),__PRIVATE_MemoryMutationQueue=function(){function t(t,e){this.Tu=t,this.Eu=e,this.Xu=[],this.Ih=1,this.lastStreamToken=__PRIVATE_emptyByteString(),this.Vh=new __PRIVATE_SortedSet(__PRIVATE_DocReference.je)}return t.prototype.Ru=function(t){return PersistencePromise.resolve(0===this.Xu.length)},t.prototype.Iu=function(t,e,n){var r=e.batchId,i=this.mh(r,\"acknowledged\");assert(0===i,\"Can only acknowledge the first batch in the mutation queue\");var s=this.Xu[i];return assert(r===s.batchId,\"Queue ordering failure: expected batch \"+r+\", got batch \"+s.batchId),this.lastStreamToken=n,PersistencePromise.resolve()},t.prototype.mu=function(t){return PersistencePromise.resolve(this.lastStreamToken)},t.prototype.vu=function(t,e){return this.lastStreamToken=e,PersistencePromise.resolve()},t.prototype.pu=function(t,e,n,r){assert(0!==r.length,\"Mutation batches should not be empty\");var i=this.Ih;(this.Ih++,this.Xu.length>0)&&assert(this.Xu[this.Xu.length-1].batchId<i,\"Mutation batchIDs must be monotonically increasing order\");var s=new __PRIVATE_MutationBatch(i,e,n,r);this.Xu.push(s);for(var o=0,u=r;o<u.length;o++){var a=u[o];this.Vh=this.Vh.add(new __PRIVATE_DocReference(a.key,i)),this.Tu.gu(t,a.key.path.Z())}return PersistencePromise.resolve(s)},t.prototype.wu=function(t,e){return PersistencePromise.resolve(this.vh(e))},t.prototype.Su=function(t,e){var n=this.vh(e);return assert(null!=n,\"Failed to find local mutation batch.\"),PersistencePromise.resolve(n.keys())},t.prototype.Du=function(t,e){var n=e+1,r=this.ph(n),i=r<0?0:r;return PersistencePromise.resolve(this.Xu.length>i?this.Xu[i]:null)},t.prototype.Cu=function(){return PersistencePromise.resolve(0===this.Xu.length?__PRIVATE_BATCHID_UNKNOWN:this.Ih-1)},t.prototype.Ou=function(t){return PersistencePromise.resolve(this.Xu.slice())},t.prototype.Fu=function(t,e){var n=this,r=new __PRIVATE_DocReference(e,0),i=new __PRIVATE_DocReference(e,Number.POSITIVE_INFINITY),s=[];return this.Vh.qt([r,i],(function(t){assert(e.isEqual(t.key),\"Should only iterate over a single key's batches\");var r=n.vh(t.Vo);assert(null!==r,\"Batches in the index must exist in the main table\"),s.push(r)})),PersistencePromise.resolve(s)},t.prototype.Nu=function(t,e){var n=this,r=new __PRIVATE_SortedSet(__PRIVATE_primitiveComparator);return e.forEach((function(t){var e=new __PRIVATE_DocReference(t,0),i=new __PRIVATE_DocReference(t,Number.POSITIVE_INFINITY);n.Vh.qt([e,i],(function(e){assert(t.isEqual(e.key),\"For each key, should only iterate over a single key's batches\"),r=r.add(e.Vo)}))})),PersistencePromise.resolve(this.bh(r))},t.prototype.Lu=function(t,e){assert(!e.pn(),\"CollectionGroup queries should be handled in LocalDocumentsView\");var n=e.path,r=n.length+1,i=n;__PRIVATE_DocumentKey.lt(i)||(i=i.child(\"\"));var s=new __PRIVATE_DocReference(new __PRIVATE_DocumentKey(i),0),o=new __PRIVATE_SortedSet(__PRIVATE_primitiveComparator);return this.Vh.Qt((function(t){var e=t.key.path;return!!n.rt(e)&&(e.length===r&&(o=o.add(t.Vo)),!0)}),s),PersistencePromise.resolve(this.bh(o))},t.prototype.bh=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.vh(t);null!==r&&n.push(r)})),n},t.prototype.Gu=function(t,e){var n=this;assert(0===this.mh(e.batchId,\"removed\"),\"Can only remove the first entry of the mutation queue\"),this.Xu.shift();var r=this.Vh;return PersistencePromise.forEach(e.mutations,(function(i){var s=new __PRIVATE_DocReference(i.key,e.batchId);return r=r.delete(s),n.Eu.ku(t,i.key)})).next((function(){n.Vh=r}))},t.prototype.Uu=function(t){},t.prototype.Io=function(t,e){var n=new __PRIVATE_DocReference(e,0),r=this.Vh.Wt(n);return PersistencePromise.resolve(e.isEqual(r&&r.key))},t.prototype.xu=function(t){return 0===this.Xu.length&&assert(this.Vh.tt(),\"Document leak -- detected dangling mutation references when queue is empty.\"),PersistencePromise.resolve()},t.prototype.mh=function(t,e){var n=this.ph(t);return assert(n>=0&&n<this.Xu.length,\"Batches must exist to be \"+e),n},t.prototype.ph=function(t){return 0===this.Xu.length?0:t-this.Xu[0].batchId},t.prototype.vh=function(t){var e=this.ph(t);if(e<0||e>=this.Xu.length)return null;var n=this.Xu[e];return assert(n.batchId===t,\"If found batch must match\"),n},t}();function __PRIVATE_documentEntryMap(){return new __PRIVATE_SortedMap(__PRIVATE_DocumentKey.H)}var __PRIVATE_PersistentStreamState,__PRIVATE_MemoryRemoteDocumentCache=function(){function t(t,e){this.Tu=t,this.gh=e,this.docs=__PRIVATE_documentEntryMap(),this.size=0}return t.prototype.Bo=function(t,e,n){assert(!n.isEqual(__PRIVATE_SnapshotVersion.MIN),\"Cannot add a document with a read time of zero\");var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.gh(e);return this.docs=this.docs.Pt(r,{uc:e,size:o,readTime:n}),this.size+=o-s,this.Tu.gu(t,r.path.Z())},t.prototype.ko=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.xo=function(t,e){var n=this.docs.get(e);return PersistencePromise.resolve(n?n.uc:null)},t.prototype.getEntries=function(t,e){var n=this,r=__PRIVATE_nullableMaybeDocumentMap();return e.forEach((function(t){var e=n.docs.get(t);r=r.Pt(t,e?e.uc:null)})),PersistencePromise.resolve(r)},t.prototype.na=function(t,e,n){assert(!e.pn(),\"CollectionGroup queries should be handled in LocalDocumentsView\");for(var r=__PRIVATE_documentMap(),i=new __PRIVATE_DocumentKey(e.path.child(\"\")),s=this.docs.bt(i);s.Ct();){var o=s.Dt(),u=o.key,a=o.value,_=a.uc,c=a.readTime;if(!e.path.rt(u.path))break;c._(n)<=0||_ instanceof Document&&e.matches(_)&&(r=r.Pt(_.key,_))}return PersistencePromise.resolve(r)},t.prototype.wh=function(t,e){return PersistencePromise.forEach(this.docs,(function(t){return e(t)}))},t.prototype.h_=function(t,e){throw new Error(\"getNewDocumentChanges() is not supported with MemoryPersistence\")},t.prototype.l_=function(t){return PersistencePromise.resolve(__PRIVATE_SnapshotVersion.MIN)},t.prototype.Fa=function(e){return new t.Tc(this)},t.prototype.Ec=function(t){return PersistencePromise.resolve(this.size)},t.Tc=function(t){function e(e){var n=t.call(this)||this;return n.Pc=e,n}return tslib.__extends(e,t),e.prototype.qo=function(t){var e=this,n=[];return this.Mo.forEach((function(r,i){i?n.push(e.Pc.Bo(t,i,e.readTime)):e.Pc.ko(r)})),PersistencePromise.Fo(n)},e.prototype.Ko=function(t,e){return this.Pc.xo(t,e)},e.prototype.jo=function(t,e){return this.Pc.getEntries(t,e)},e}(__PRIVATE_RemoteDocumentChangeBuffer),t}(),__PRIVATE_MemoryTargetCache=function(){function t(t){this.persistence=t,this.yh=new __PRIVATE_ObjectMap((function(t){return t.canonicalId()})),this.lastRemoteSnapshotVersion=__PRIVATE_SnapshotVersion.MIN,this.highestTargetId=0,this.Sh=0,this.Dh=new __PRIVATE_ReferenceSet,this.targetCount=0,this.W_=__PRIVATE_TargetIdGenerator.$u()}return t.prototype.Ur=function(t,e){return this.yh.forEach((function(t,n){return e(n)})),PersistencePromise.resolve()},t.prototype.Ga=function(t){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)},t.prototype.X_=function(t){return PersistencePromise.resolve(this.Sh)},t.prototype.Ja=function(t){var e=this.W_.after(this.highestTargetId);return this.highestTargetId=e,PersistencePromise.resolve(e)},t.prototype.Qa=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Sh&&(this.Sh=e),PersistencePromise.resolve()},t.prototype.z_=function(t){this.yh.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.Sh&&(this.Sh=t.sequenceNumber)},t.prototype.Za=function(t,e){return assert(!this.yh.has(e.target),\"Adding a target that already exists\"),this.z_(e),this.targetCount+=1,PersistencePromise.resolve()},t.prototype.ja=function(t,e){return assert(this.yh.has(e.target),\"Updating a non-existent target\"),this.z_(e),PersistencePromise.resolve()},t.prototype.Z_=function(t,e){return assert(this.targetCount>0,\"Removing a target from an empty cache\"),assert(this.yh.has(e.target),\"Removing a non-existent target from the cache\"),this.yh.delete(e.target),this.Dh.Po(e.targetId),this.targetCount-=1,PersistencePromise.resolve()},t.prototype.K_=function(t,e,n){var r=this,i=0,s=[];return this.yh.forEach((function(o,u){u.sequenceNumber<=e&&null===n.get(u.targetId)&&(r.yh.delete(o),s.push(r.tc(t,u.targetId)),i++)})),PersistencePromise.Fo(s).next((function(){return i}))},t.prototype.rc=function(t){return PersistencePromise.resolve(this.targetCount)},t.prototype.za=function(t,e){var n=this.yh.get(e)||null;return PersistencePromise.resolve(n)},t.prototype.Xr=function(t,e){return fail(\"Not yet implemented.\")},t.prototype.ka=function(t,e,n){this.Dh.lo(e,n);var r=this.persistence.Eu,i=[];return r&&e.forEach((function(e){i.push(r.fo(t,e))})),PersistencePromise.Fo(i)},t.prototype.Ua=function(t,e,n){this.Dh.Eo(e,n);var r=this.persistence.Eu,i=[];return r&&e.forEach((function(e){i.push(r.do(t,e))})),PersistencePromise.Fo(i)},t.prototype.tc=function(t,e){return this.Dh.Po(e),PersistencePromise.resolve()},t.prototype.n_=function(t,e){var n=this.Dh.Ro(e);return PersistencePromise.resolve(n)},t.prototype.Io=function(t,e){return PersistencePromise.resolve(this.Dh.Io(e))},t}(),__PRIVATE_LOG_TAG$4=\"MemoryPersistence\",__PRIVATE_MemoryPersistence=function(){function t(t,e){var n=this;this.clientId=t,this.Ch={},this.Qc=new __PRIVATE_ListenSequence(0),this.Sc=!1,this.Sc=!0,this.Eu=e(this),this.Va=new __PRIVATE_MemoryTargetCache(this);this.Tu=new __PRIVATE_MemoryIndexManager,this.Hu=new __PRIVATE_MemoryRemoteDocumentCache(this.Tu,(function(t){return n.Eu.Oh(t)}))}return t.Fh=function(e,n){return new t(e,(function(t){return new __PRIVATE_MemoryLruDelegate(t,n)}))},t.Nh=function(e){return new t(e,(function(t){return new __PRIVATE_MemoryEagerDelegate(t)}))},t.prototype.shutdown=function(){return this.Sc=!1,Promise.resolve()},Object.defineProperty(t.prototype,\"Ea\",{get:function(){return this.Sc},enumerable:!0,configurable:!0}),t.prototype.s_=function(){return tslib.__awaiter(this,void 0,void 0,(function(){return tslib.__generator(this,(function(t){return[2,[this.clientId]]}))}))},t.prototype.Wc=function(t){return t(!0)},t.prototype.$c=function(){},t.prototype.u_=function(t){},t.prototype.pa=function(){return this.Tu},t.prototype.Aa=function(t){var e=this.Ch[t.I()];return e||(e=new __PRIVATE_MemoryMutationQueue(this.Tu,this.Eu),this.Ch[t.I()]=e),e},t.prototype.ma=function(){return this.Va},t.prototype.Ia=function(){return this.Hu},t.prototype.runTransaction=function(t,e,n){var r=this;debug(__PRIVATE_LOG_TAG$4,\"Starting transaction:\",t);var i=new __PRIVATE_MemoryTransaction(this.Qc.next());return this.Eu.Mh(),n(i).next((function(t){return r.Eu.Lh(i).next((function(){return t}))})).Co().then((function(t){return i.$o(),t}))},t.prototype.Gh=function(t,e){return PersistencePromise.No(values(this.Ch).map((function(n){return function(){return n.Io(t,e)}})))},t}(),__PRIVATE_MemoryTransaction=function(t){function e(e){var n=t.call(this)||this;return n.xa=e,n}return tslib.__extends(e,t),e}(__PRIVATE_PersistenceTransaction),__PRIVATE_MemoryEagerDelegate=function(){function t(t){this.persistence=t,this.fh=null,this.Bh=null}return Object.defineProperty(t.prototype,\"Uh\",{get:function(){if(this.Bh)return this.Bh;throw fail(\"orphanedDocuments is only valid during a transaction.\")},enumerable:!0,configurable:!0}),t.prototype.Pa=function(t){this.fh=t},t.prototype.fo=function(t,e){return this.Uh.delete(e),PersistencePromise.resolve()},t.prototype.do=function(t,e){return this.Uh.add(e),PersistencePromise.resolve()},t.prototype.ku=function(t,e){return this.Uh.add(e),PersistencePromise.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.ma();return r.n_(t,e.targetId).next((function(t){t.forEach((function(t){return n.Uh.add(t)}))})).next((function(){return r.Z_(t,e)}))},t.prototype.Mh=function(){this.Bh=new Set},t.prototype.Lh=function(t){var e=this,n=this.persistence.Ia().Fa();return PersistencePromise.forEach(this.Uh,(function(r){return e.kh(t,r).next((function(t){t||n.ko(r)}))})).next((function(){return e.Bh=null,n.apply(t)}))},t.prototype.qa=function(t,e){var n=this;return this.kh(t,e).next((function(t){t?n.Uh.delete(e):n.Uh.add(e)}))},t.prototype.Oh=function(t){return 0},t.prototype.kh=function(t,e){var n=this;return PersistencePromise.No([function(){return n.persistence.ma().Io(t,e)},function(){return n.persistence.Gh(t,e)},function(){return PersistencePromise.resolve(n.fh.Io(e))}])},t}(),__PRIVATE_MemoryLruDelegate=function(){function t(t,e){this.persistence=t,this.fh=null,this.xh=new __PRIVATE_ObjectMap((function(t){return encode(t.path)})),this.O_=new __PRIVATE_LruGarbageCollector(this,e)}return t.prototype.Mh=function(){},t.prototype.Lh=function(t){return PersistencePromise.resolve()},t.prototype.Ur=function(t,e){return this.persistence.ma().Ur(t,e)},t.prototype.U_=function(t){var e=this.Kh(t);return this.persistence.ma().rc(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Kh=function(t){var e=0;return this.x_(t,(function(t){e++})).next((function(){return e}))},t.prototype.x_=function(t,e){var n=this;return PersistencePromise.forEach(this.xh,(function(r,i){return n.Th(t,r,i).next((function(t){return t?PersistencePromise.resolve():e(i)}))}))},t.prototype.Pa=function(t){this.fh=t},t.prototype.K_=function(t,e,n){return this.persistence.ma().K_(t,e,n)},t.prototype.j_=function(t,e){var n=this,r=0,i=this.persistence.Ia(),s=i.Fa();return i.wh(t,(function(i){return n.Th(t,i,e).next((function(t){t||(r++,s.ko(i))}))})).next((function(){return s.apply(t)})).next((function(){return r}))},t.prototype.ku=function(t,e){return this.xh.set(e,t.xa),PersistencePromise.resolve()},t.prototype.removeTarget=function(t,e){var n=e.Fn(t.xa);return this.persistence.ma().ja(t,n)},t.prototype.fo=function(t,e){return this.xh.set(e,t.xa),PersistencePromise.resolve()},t.prototype.do=function(t,e){return this.xh.set(e,t.xa),PersistencePromise.resolve()},t.prototype.qa=function(t,e){return this.xh.set(e,t.xa),PersistencePromise.resolve()},t.prototype.Oh=function(t){var e=t.key.toString().length;return t instanceof Document&&(e+=t.data().Me()),e},t.prototype.Th=function(t,e,n){var r=this;return PersistencePromise.No([function(){return r.persistence.Gh(t,e)},function(){return PersistencePromise.resolve(r.fh.Io(e))},function(){return r.persistence.ma().Io(t,e)},function(){var t=r.xh.get(e);return PersistencePromise.resolve(void 0!==t&&t>n)}])},t.prototype.q_=function(t){return this.persistence.Ia().Ec(t)},t}(),__PRIVATE_LOG_TAG$5=\"ExponentialBackoff\",__PRIVATE_DEFAULT_BACKOFF_INITIAL_DELAY_MS=1e3,__PRIVATE_DEFAULT_BACKOFF_FACTOR=1.5,__PRIVATE_DEFAULT_BACKOFF_MAX_DELAY_MS=6e4,__PRIVATE_ExponentialBackoff=function(){function t(t,e,n,r,i){void 0===n&&(n=__PRIVATE_DEFAULT_BACKOFF_INITIAL_DELAY_MS),void 0===r&&(r=__PRIVATE_DEFAULT_BACKOFF_FACTOR),void 0===i&&(i=__PRIVATE_DEFAULT_BACKOFF_MAX_DELAY_MS),this.wc=t,this.Cs=e,this.jh=n,this.qh=r,this.Qh=i,this.Wh=0,this.$h=null,this.Yh=Date.now(),this.reset()}return t.prototype.reset=function(){this.Wh=0},t.prototype.Hh=function(){this.Wh=this.Qh},t.prototype.Xh=function(t){var e=this;this.cancel();var n=Math.floor(this.Wh+this.zh()),r=Math.max(0,Date.now()-this.Yh),i=Math.max(0,n-r);this.Wh>0&&debug(__PRIVATE_LOG_TAG$5,\"Backing off for \"+i+\" ms (base delay: \"+this.Wh+\" ms, delay with jitter: \"+n+\" ms, last attempt: \"+r+\" ms ago)\"),this.$h=this.wc.Js(this.Cs,i,(function(){return e.Yh=Date.now(),t()})),this.Wh*=this.qh,this.Wh<this.jh&&(this.Wh=this.jh),this.Wh>this.Qh&&(this.Wh=this.Qh)},t.prototype.cancel=function(){null!==this.$h&&(this.$h.cancel(),this.$h=null)},t.prototype.zh=function(){return(Math.random()-.5)*this.Wh},t}(),__PRIVATE_LOG_TAG$6=\"PersistentStream\";!function(t){t[t.Jh=0]=\"__PRIVATE_Initial\",t[t.Zh=1]=\"__PRIVATE_Starting\",t[t.tf=2]=\"__PRIVATE_Open\",t[t.Error=3]=\"Error\",t[t.ef=4]=\"__PRIVATE_Backoff\"}(__PRIVATE_PersistentStreamState||(__PRIVATE_PersistentStreamState={}));var __PRIVATE_IDLE_TIMEOUT_MS=6e4,__PRIVATE_PersistentStream=function(){function t(t,e,n,r,i,s){this.wc=t,this.nf=n,this.connection=r,this.rf=i,this.listener=s,this.state=__PRIVATE_PersistentStreamState.Jh,this.if=0,this.sf=null,this.stream=null,this.uf=new __PRIVATE_ExponentialBackoff(t,e)}return t.prototype.af=function(){return this.state===__PRIVATE_PersistentStreamState.Zh||this.state===__PRIVATE_PersistentStreamState.tf||this.state===__PRIVATE_PersistentStreamState.ef},t.prototype._f=function(){return this.state===__PRIVATE_PersistentStreamState.tf},t.prototype.start=function(){this.state!==__PRIVATE_PersistentStreamState.Error?(assert(this.state===__PRIVATE_PersistentStreamState.Jh,\"Already started\"),this.auth()):this.cf()},t.prototype.stop=function(){return tslib.__awaiter(this,void 0,void 0,(function(){return tslib.__generator(this,(function(t){switch(t.label){case 0:return this.af()?[4,this.close(__PRIVATE_PersistentStreamState.Jh)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.hf=function(){assert(!this.af(),\"Can only inhibit backoff in a stopped state\"),this.state=__PRIVATE_PersistentStreamState.Jh,this.uf.reset()},t.prototype.ff=function(){var t=this;this._f()&&null===this.sf&&(this.sf=this.wc.Js(this.nf,__PRIVATE_IDLE_TIMEOUT_MS,(function(){return t.lf()})))},t.prototype.df=function(t){this.Tf(),this.stream.send(t)},t.prototype.lf=function(){return tslib.__awaiter(this,void 0,void 0,(function(){return tslib.__generator(this,(function(t){return this._f()?[2,this.close(__PRIVATE_PersistentStreamState.Jh)]:[2]}))}))},t.prototype.Tf=function(){this.sf&&(this.sf.cancel(),this.sf=null)},t.prototype.close=function(t,e){return tslib.__awaiter(this,void 0,void 0,(function(){return tslib.__generator(this,(function(n){switch(n.label){case 0:return assert(this.af(),\"Only started streams should be closed.\"),assert(t===__PRIVATE_PersistentStreamState.Error||isNullOrUndefined(e),\"Can't provide an error when not in an error state.\"),this.Tf(),this.uf.cancel(),this.if++,t!==__PRIVATE_PersistentStreamState.Error?this.uf.reset():e&&e.code===Code.RESOURCE_EXHAUSTED?(error(e.toString()),error(\"Using maximum backoff delay to prevent overloading the backend.\"),this.uf.Hh()):e&&e.code===Code.UNAUTHENTICATED&&this.rf.g(),null!==this.stream&&(this.Ef(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Pf(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.Ef=function(){},t.prototype.auth=function(){var t=this;assert(this.state===__PRIVATE_PersistentStreamState.Jh,\"Must be in initial state to auth\"),this.state=__PRIVATE_PersistentStreamState.Zh;var e=this.Af(this.if),n=this.if;this.rf.getToken().then((function(e){t.if===n&&t.Rf(e)}),(function(n){e((function(){var e=new FirestoreError(Code.UNKNOWN,\"Fetching auth token failed: \"+n.message);return t.If(e)}))}))},t.prototype.Rf=function(t){var e=this;assert(this.state===__PRIVATE_PersistentStreamState.Zh,\"Trying to start stream in a non-starting state\");var n=this.Af(this.if);this.stream=this.Vf(t),this.stream.mf((function(){n((function(){return assert(e.state===__PRIVATE_PersistentStreamState.Zh,\"Expected stream to be in state Starting, but was \"+e.state),e.state=__PRIVATE_PersistentStreamState.tf,e.listener.mf()}))})),this.stream.Pf((function(t){n((function(){return e.If(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.cf=function(){var t=this;assert(this.state===__PRIVATE_PersistentStreamState.Error,\"Should only perform backoff when in Error state\"),this.state=__PRIVATE_PersistentStreamState.ef,this.uf.Xh((function(){return tslib.__awaiter(t,void 0,void 0,(function(){return tslib.__generator(this,(function(t){return assert(this.state===__PRIVATE_PersistentStreamState.ef,\"Backoff elapsed but state is now: \"+this.state),this.state=__PRIVATE_PersistentStreamState.Jh,this.start(),assert(this.af(),\"PersistentStream should have started\"),[2]}))}))}))},t.prototype.If=function(t){return assert(this.af(),\"Can't handle server close on non-started stream\"),debug(__PRIVATE_LOG_TAG$6,\"close with error: \"+t),this.stream=null,this.close(__PRIVATE_PersistentStreamState.Error,t)},t.prototype.Af=function(t){var e=this;return function(n){e.wc.Us((function(){return e.if===t?n():(debug(__PRIVATE_LOG_TAG$6,\"stream callback skipped by getCloseGuardedDispatcher.\"),Promise.resolve())}))}},t}(),__PRIVATE_PersistentListenStream=function(t){function e(e,n,r,i,s){var o=t.call(this,e,__PRIVATE_TimerId.vs,__PRIVATE_TimerId.ms,n,r,s)||this;return o.serializer=i,o}return tslib.__extends(e,t),e.prototype.Vf=function(t){return this.connection.vf(\"Listen\",t)},e.prototype.onMessage=function(t){this.uf.reset();var e=this.serializer.Di(t),n=this.serializer.Oi(t);return this.listener.pf(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.Ti,e.addTarget=this.serializer.Tn(t);var n=this.serializer.Zi(t);n&&(e.labels=n),this.df(e)},e.prototype.bf=function(t){var e={};e.database=this.serializer.Ti,e.removeTarget=t,this.df(e)},e}(__PRIVATE_PersistentStream),__PRIVATE_PersistentWriteStream=function(t){function e(e,n,r,i,s){var o=t.call(this,e,__PRIVATE_TimerId.bs,__PRIVATE_TimerId.ps,n,r,s)||this;return o.serializer=i,o.gf=!1,o.lastStreamToken=__PRIVATE_emptyByteString(),o}return tslib.__extends(e,t),Object.defineProperty(e.prototype,\"wf\",{get:function(){return this.gf},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.gf=!1,t.prototype.start.call(this)},e.prototype.Ef=function(){this.gf&&this.yf([])},e.prototype.Vf=function(t){return this.connection.vf(\"Write\",t)},e.prototype.onMessage=function(t){if(assert(!!t.streamToken,\"Got a write response without a stream token\"),this.lastStreamToken=t.streamToken,this.gf){this.uf.reset();var e=this.serializer.Ki(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.Sf(n,e)}return assert(!t.writeResults||0===t.writeResults.length,\"Got mutation results for handshake\"),this.gf=!0,this.listener.Df()},e.prototype.Cf=function(){assert(this._f(),\"Writing handshake requires an opened stream\"),assert(!this.gf,\"Handshake already completed\");var t={};t.database=this.serializer.Ti,this.df(t)},e.prototype.yf=function(t){var e=this;assert(this._f(),\"Writing mutations requires an opened stream\"),assert(this.gf,\"Handshake must be complete before writing mutations\"),assert(this.lastStreamToken.length>0,\"Trying to write mutation without a token\");var n={streamToken:this.lastStreamToken,writes:t.map((function(t){return e.serializer.Fi(t)}))};this.df(n)},e}(__PRIVATE_PersistentStream),__PRIVATE_Datastore=function(){function t(t,e,n,r){this.wc=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.Of=function(t){return new __PRIVATE_PersistentWriteStream(this.wc,this.connection,this.credentials,this.serializer,t)},t.prototype.Ff=function(t){return new __PRIVATE_PersistentListenStream(this.wc,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.Ti,writes:t.map((function(t){return e.serializer.Fi(t)}))};return this.Nf(\"Commit\",n).then((function(t){return e.serializer.Ki(t.writeResults,t.commitTime)}))},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.Ti,documents:t.map((function(t){return e.serializer.ci(t)}))};return this.Mf(\"BatchGetDocuments\",n).then((function(n){var r=__PRIVATE_maybeDocumentMap();n.forEach((function(t){var n=e.serializer.wi(t);r=r.Pt(n.key,n)}));var i=[];return t.forEach((function(t){var e=r.get(t);assert(!!e,\"Missing entity in write response for \"+t),i.push(e)})),i}))},t.prototype.Nf=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.connection.Nf(t,e,r)})).catch((function(t){throw t.code===Code.UNAUTHENTICATED&&n.credentials.g(),t}))},t.prototype.Mf=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.connection.Mf(t,e,r)})).catch((function(t){throw t.code===Code.UNAUTHENTICATED&&n.credentials.g(),t}))},t}(),FieldPath$1=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];__PRIVATE_validateNamedArrayAtLeastNumberOfElements(\"FieldPath\",t,\"fieldNames\",1);for(var n=0;n<t.length;++n)if(__PRIVATE_validateArgType(\"FieldPath\",\"string\",n,t[n]),0===t[n].length)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Invalid field name at argument $(i + 1). Field names must not be empty.\");this.Lf=new FieldPath(t)}return t.documentId=function(){return t.Gf},t.prototype.isEqual=function(e){if(!(e instanceof t))throw __PRIVATE_invalidClassError(\"isEqual\",\"FieldPath\",1,e);return this.Lf.isEqual(e.Lf)},t.Gf=new t(FieldPath.ht().ot()),t}(),__PRIVATE_RESERVED=new RegExp(\"[~\\\\*/\\\\[\\\\]]\");function __PRIVATE_fromDotSeparatedString(t){if(t.search(__PRIVATE_RESERVED)>=0)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Invalid field path (\"+t+\"). Paths must not contain '~', '*', '/', '[', or ']'\");try{return new(FieldPath$1.bind.apply(FieldPath$1,tslib.__spreadArrays([void 0],t.split(\".\"))))}catch(e){throw new FirestoreError(Code.INVALID_ARGUMENT,\"Invalid field path (\"+t+\"). Paths must not be empty, begin with '.', end with '.', or contain '..'\")}}var __PRIVATE_UserDataSource,__PRIVATE_FieldValueImpl=function(){function t(t){this.Bf=t}return t.delete=function(){return __PRIVATE_validateNoArgs(\"FieldValue.delete\",arguments),__PRIVATE_DeleteFieldValueImpl.instance},t.serverTimestamp=function(){return __PRIVATE_validateNoArgs(\"FieldValue.serverTimestamp\",arguments),__PRIVATE_ServerTimestampFieldValueImpl.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return __PRIVATE_validateAtLeastNumberOfArgs(\"FieldValue.arrayUnion\",arguments,1),new __PRIVATE_ArrayUnionFieldValueImpl(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return __PRIVATE_validateAtLeastNumberOfArgs(\"FieldValue.arrayRemove\",arguments,1),new __PRIVATE_ArrayRemoveFieldValueImpl(t)},t.increment=function(t){return __PRIVATE_validateArgType(\"FieldValue.increment\",\"number\",1,t),__PRIVATE_validateExactNumberOfArgs(\"FieldValue.increment\",arguments,1),new __PRIVATE_NumericIncrementFieldValueImpl(t)},t.prototype.isEqual=function(t){return this===t},t}(),__PRIVATE_DeleteFieldValueImpl=function(t){function e(){return t.call(this,\"FieldValue.delete\")||this}return tslib.__extends(e,t),e.instance=new e,e}(__PRIVATE_FieldValueImpl),__PRIVATE_ServerTimestampFieldValueImpl=function(t){function e(){return t.call(this,\"FieldValue.serverTimestamp\")||this}return tslib.__extends(e,t),e.instance=new e,e}(__PRIVATE_FieldValueImpl),__PRIVATE_ArrayUnionFieldValueImpl=function(t){function e(e){var n=t.call(this,\"FieldValue.arrayUnion\")||this;return n.Uf=e,n}return tslib.__extends(e,t),e}(__PRIVATE_FieldValueImpl),__PRIVATE_ArrayRemoveFieldValueImpl=function(t){function e(e){var n=t.call(this,\"FieldValue.arrayRemove\")||this;return n.Uf=e,n}return tslib.__extends(e,t),e}(__PRIVATE_FieldValueImpl),__PRIVATE_NumericIncrementFieldValueImpl=function(t){function e(e){var n=t.call(this,\"FieldValue.increment\")||this;return n.kf=e,n}return tslib.__extends(e,t),e}(__PRIVATE_FieldValueImpl),__PRIVATE_PublicFieldValue=__PRIVATE_makeConstructorPrivate(__PRIVATE_FieldValueImpl,\"Use FieldValue.<field>() instead.\"),__PRIVATE_RESERVED_FIELD_REGEX=/^__.*__$/,__PRIVATE_ParsedSetData=function(){function t(t,e,n){this.data=t,this.fe=e,this.fieldTransforms=n}return t.prototype.xf=function(t,e){var n=[];return null!==this.fe?n.push(new __PRIVATE_PatchMutation(t,this.data,this.fe,e)):n.push(new __PRIVATE_SetMutation(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new __PRIVATE_TransformMutation(t,this.fieldTransforms)),n},t}(),__PRIVATE_ParsedUpdateData=function(){function t(t,e,n){this.data=t,this.fe=e,this.fieldTransforms=n}return t.prototype.xf=function(t,e){var n=[new __PRIVATE_PatchMutation(t,this.data,this.fe,e)];return this.fieldTransforms.length>0&&n.push(new __PRIVATE_TransformMutation(t,this.fieldTransforms)),n},t}();function __PRIVATE_isWrite(t){switch(t){case __PRIVATE_UserDataSource.Set:case __PRIVATE_UserDataSource.Kf:case __PRIVATE_UserDataSource.jf:return!0;case __PRIVATE_UserDataSource.qf:case __PRIVATE_UserDataSource.Qf:return!1;default:throw fail(\"Unexpected case for UserDataSource: \"+t)}}!function(t){t[t.Set=0]=\"Set\",t[t.jf=1]=\"__PRIVATE_Update\",t[t.Kf=2]=\"__PRIVATE_MergeSet\",t[t.qf=3]=\"__PRIVATE_Argument\",t[t.Qf=4]=\"__PRIVATE_ArrayArgument\"}(__PRIVATE_UserDataSource||(__PRIVATE_UserDataSource={}));var __PRIVATE_ParseContext=function(){function t(t,e,n,r,i,s){this.Wf=t,this.methodName=e,this.path=n,this.$f=r,void 0===i&&this.Yf(),this.$f=void 0!==r&&r,this.fieldTransforms=i||[],this.fe=s||[]}return t.prototype.Hf=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.Wf,this.methodName,n,!1,this.fieldTransforms,this.fe);return r.Xf(e),r},t.prototype.zf=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.Wf,this.methodName,n,!1,this.fieldTransforms,this.fe);return r.Yf(),r},t.prototype.Jf=function(e){return new t(this.Wf,this.methodName,null,!0,this.fieldTransforms,this.fe)},t.prototype.Zf=function(t){var e=null===this.path||this.path.tt()?\"\":\" (found in field \"+this.path.toString()+\")\";return new FirestoreError(Code.INVALID_ARGUMENT,\"Function \"+this.methodName+\"() called with invalid data. \"+t+e)},t.prototype.contains=function(t){return void 0!==this.fe.find((function(e){return t.rt(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.rt(e.field)}))},t.prototype.Yf=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.Xf(this.path.get(t))},t.prototype.Xf=function(t){if(0===t.length)throw this.Zf(\"Document fields must not be empty\");if(__PRIVATE_isWrite(this.Wf)&&__PRIVATE_RESERVED_FIELD_REGEX.test(t))throw this.Zf('Document fields cannot begin and end with \"__\"')},t}(),__PRIVATE_DocumentKeyReference=function(t,e){this.o=t,this.key=e},__PRIVATE_UserDataConverter=function(){function t(t){this.tl=t}return t.prototype.el=function(t,e){var n=new __PRIVATE_ParseContext(__PRIVATE_UserDataSource.Set,t,FieldPath.at);__PRIVATE_validatePlainObject(\"Data must be an object, but it was:\",n,e);var r=this.nl(e,n);return new __PRIVATE_ParsedSetData(r,null,n.fieldTransforms)},t.prototype.rl=function(t,e,n){var r=new __PRIVATE_ParseContext(__PRIVATE_UserDataSource.Kf,t,FieldPath.at);__PRIVATE_validatePlainObject(\"Data must be an object, but it was:\",r,e);var i,s,o=this.nl(e,r);if(n){for(var u=new __PRIVATE_SortedSet(FieldPath.H),a=0,_=n;a<_.length;a++){var c=_[a],h=void 0;if(c instanceof FieldPath$1)h=c.Lf;else{if(\"string\"!=typeof c)throw fail(\"Expected stringOrFieldPath to be a string or a FieldPath\");h=__PRIVATE_fieldPathFromDotSeparatedString(t,c)}if(!r.contains(h))throw new FirestoreError(Code.INVALID_ARGUMENT,\"Field '\"+h+\"' is specified in your field mask but missing from your input data.\");u=u.add(h)}i=__PRIVATE_FieldMask.te(u),s=r.fieldTransforms.filter((function(t){return i.ne(t.field)}))}else i=__PRIVATE_FieldMask.ee(r.fe),s=r.fieldTransforms;return new __PRIVATE_ParsedSetData(o,i,s)},t.prototype.il=function(t,e){var n=this,r=new __PRIVATE_ParseContext(__PRIVATE_UserDataSource.jf,t,FieldPath.at);__PRIVATE_validatePlainObject(\"Data must be an object, but it was:\",r,e);var i=new __PRIVATE_SortedSet(FieldPath.H),s=__PRIVATE_ObjectValue.EMPTY;forEach(e,(function(e,o){var u=__PRIVATE_fieldPathFromDotSeparatedString(t,e),a=r.zf(u);if((o=n.sl(o,a))instanceof __PRIVATE_DeleteFieldValueImpl)i=i.add(u);else{var _=n.nl(o,a);null!=_&&(i=i.add(u),s=s.set(u,_))}}));var o=__PRIVATE_FieldMask.te(i);return new __PRIVATE_ParsedUpdateData(s,o,r.fieldTransforms)},t.prototype.ol=function(t,e,n,r){var i=new __PRIVATE_ParseContext(__PRIVATE_UserDataSource.jf,t,FieldPath.at),s=[__PRIVATE_fieldPathFromArgument(t,e)],o=[n];if(r.length%2!=0)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Function \"+t+\"() needs to be called with an even number of arguments that alternate between field names and values.\");for(var u=0;u<r.length;u+=2)s.push(__PRIVATE_fieldPathFromArgument(t,r[u])),o.push(r[u+1]);var a=new __PRIVATE_SortedSet(FieldPath.H),_=__PRIVATE_ObjectValue.EMPTY;for(u=0;u<s.length;++u){var c=s[u],h=i.zf(c),f=this.sl(o[u],h);if(f instanceof __PRIVATE_DeleteFieldValueImpl)a=a.add(c);else{var l=this.nl(f,h);null!=l&&(a=a.add(c),_=_.set(c,l))}}var d=__PRIVATE_FieldMask.te(a);return new __PRIVATE_ParsedUpdateData(_,d,i.fieldTransforms)},t.prototype.ul=function(t,e,n){void 0===n&&(n=!1);var r=new __PRIVATE_ParseContext(n?__PRIVATE_UserDataSource.Qf:__PRIVATE_UserDataSource.qf,t,FieldPath.at),i=this.nl(e,r);return assert(null!=i,\"Parsed data should not be null.\"),assert(0===r.fieldTransforms.length,\"Field transforms should have been disallowed.\"),i},t.prototype.sl=function(t,e){try{return this.tl(t)}catch(t){var n=__PRIVATE_errorMessage(t);throw e.Zf(n)}},t.prototype.nl=function(t,e){if(__PRIVATE_looksLikeJsonObject(t=this.sl(t,e)))return __PRIVATE_validatePlainObject(\"Unsupported field value:\",e,t),this.al(t,e);if(t instanceof __PRIVATE_FieldValueImpl)return this._l(t,e),null;if(e.path&&e.fe.push(e.path),t instanceof Array){if(e.$f&&e.Wf!==__PRIVATE_UserDataSource.Qf)throw e.Zf(\"Nested arrays are not supported\");return this.cl(t,e)}return this.hl(t,e)},t.prototype.al=function(t,e){var n=this,r=new __PRIVATE_SortedMap(__PRIVATE_primitiveComparator);return __PRIVATE_isEmpty(t)?e.path&&e.path.length>0&&e.fe.push(e.path):forEach(t,(function(t,i){var s=n.nl(i,e.Hf(t));null!=s&&(r=r.Pt(t,s))})),new __PRIVATE_ObjectValue(r)},t.prototype.cl=function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=s[i],u=this.nl(o,e.Jf(r));null==u&&(u=__PRIVATE_NullValue.Le),n.push(u),r++}return new ArrayValue(n)},t.prototype._l=function(t,e){if(!__PRIVATE_isWrite(e.Wf))throw e.Zf(t.Bf+\"() can only be used with update() and set()\");if(null===e.path)throw e.Zf(t.Bf+\"() is not currently supported inside arrays\");if(t instanceof __PRIVATE_DeleteFieldValueImpl){if(e.Wf!==__PRIVATE_UserDataSource.Kf)throw e.Wf===__PRIVATE_UserDataSource.jf?(assert(e.path.length>0,\"FieldValue.delete() at the top level should have already been handled.\"),e.Zf(\"FieldValue.delete() can only appear at the top level of your update data\")):e.Zf(\"FieldValue.delete() cannot be used with set() unless you pass {merge:true}\");e.fe.push(e.path)}else if(t instanceof __PRIVATE_ServerTimestampFieldValueImpl)e.fieldTransforms.push(new FieldTransform(e.path,__PRIVATE_ServerTimestampTransform.instance));else if(t instanceof __PRIVATE_ArrayUnionFieldValueImpl){var n=this.fl(t.Bf,t.Uf),r=new __PRIVATE_ArrayUnionTransformOperation(n);e.fieldTransforms.push(new FieldTransform(e.path,r))}else if(t instanceof __PRIVATE_ArrayRemoveFieldValueImpl){n=this.fl(t.Bf,t.Uf);var i=new __PRIVATE_ArrayRemoveTransformOperation(n);e.fieldTransforms.push(new FieldTransform(e.path,i))}else if(t instanceof __PRIVATE_NumericIncrementFieldValueImpl){var s=this.ul(\"FieldValue.increment\",t.kf),o=new __PRIVATE_NumericIncrementTransformOperation(s);e.fieldTransforms.push(new FieldTransform(e.path,o))}else fail(\"Unknown FieldValue type: \"+t)},t.prototype.hl=function(t,e){if(null===t)return __PRIVATE_NullValue.Le;if(\"number\"==typeof t)return isSafeInteger(t)?new __PRIVATE_IntegerValue(t):new __PRIVATE_DoubleValue(t);if(\"boolean\"==typeof t)return __PRIVATE_BooleanValue.of(t);if(\"string\"==typeof t)return new __PRIVATE_StringValue(t);if(t instanceof Date)return new __PRIVATE_TimestampValue(Timestamp.fromDate(t));if(t instanceof Timestamp)return new __PRIVATE_TimestampValue(new Timestamp(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof GeoPoint)return new __PRIVATE_GeoPointValue(t);if(t instanceof Blob)return new __PRIVATE_BlobValue(t);if(t instanceof __PRIVATE_DocumentKeyReference)return new __PRIVATE_RefValue(t.o,t.key);throw e.Zf(\"Unsupported field value: \"+__PRIVATE_valueDescription(t))},t.prototype.fl=function(t,e){var n=this;return e.map((function(e,r){var i=new __PRIVATE_ParseContext(__PRIVATE_UserDataSource.qf,t,FieldPath.at);return n.nl(e,i.Jf(r))}))},t}();function __PRIVATE_looksLikeJsonObject(t){return!(\"object\"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Timestamp||t instanceof GeoPoint||t instanceof Blob||t instanceof __PRIVATE_DocumentKeyReference||t instanceof __PRIVATE_FieldValueImpl)}function __PRIVATE_validatePlainObject(t,e,n){if(!__PRIVATE_looksLikeJsonObject(n)||!__PRIVATE_isPlainObject(n)){var r=__PRIVATE_valueDescription(n);throw\"an object\"===r?e.Zf(t+\" a custom object\"):e.Zf(t+\" \"+r)}}function __PRIVATE_fieldPathFromArgument(t,e){if(e instanceof FieldPath$1)return e.Lf;if(\"string\"==typeof e)return __PRIVATE_fieldPathFromDotSeparatedString(t,e);throw new FirestoreError(Code.INVALID_ARGUMENT,\"Function \"+t+\"() called with invalid data. Field path arguments must be of type string or FieldPath.\")}function __PRIVATE_fieldPathFromDotSeparatedString(t,e){try{return __PRIVATE_fromDotSeparatedString(e).Lf}catch(e){var n=__PRIVATE_errorMessage(e);throw new FirestoreError(Code.INVALID_ARGUMENT,\"Function \"+t+\"() called with invalid data. \"+n)}}function __PRIVATE_errorMessage(t){return t instanceof Error?t.message:t.toString()}var Transaction=function(){function t(t){this.ll=t,this.dl=__PRIVATE_documentVersionMap(),this.mutations=[],this.Tl=!1,this.El=null,this.Pl=new Set}return t.prototype.lookup=function(t){return tslib.__awaiter(this,void 0,void 0,(function(){var e,n=this;return tslib.__generator(this,(function(r){switch(r.label){case 0:if(this.Al(),this.mutations.length>0)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Firestore transactions require all reads to be executed before all writes.\");return[4,this.ll.lookup(t)];case 1:return(e=r.sent()).forEach((function(t){t instanceof __PRIVATE_NoDocument||t instanceof Document?n.Rl(t):fail(\"Document in a transaction was a \"+t.constructor.name)})),[2,e]}}))}))},t.prototype.set=function(t,e){this.write(e.xf(t,this._e(t))),this.Pl.add(t)},t.prototype.update=function(t,e){try{this.write(e.xf(t,this.Il(t)))}catch(t){this.El=t}this.Pl.add(t)},t.prototype.delete=function(t){this.write([new __PRIVATE_DeleteMutation(t,this._e(t))]),this.Pl.add(t)},t.prototype.commit=function(){return tslib.__awaiter(this,void 0,void 0,(function(){var t,e=this;return tslib.__generator(this,(function(n){switch(n.label){case 0:if(this.Al(),this.El)throw this.El;return t=this.dl,this.mutations.forEach((function(e){t=t.remove(e.key)})),t.forEach((function(t,n){e.mutations.push(new __PRIVATE_VerifyMutation(t,e._e(t)))})),[4,this.ll.commit(this.mutations)];case 1:return n.sent(),this.Tl=!0,[2]}}))}))},t.prototype.Rl=function(t){var e;if(t instanceof Document)e=t.version;else{if(!(t instanceof __PRIVATE_NoDocument))throw fail(\"Document in a transaction was a \"+t.constructor.name);e=__PRIVATE_SnapshotVersion.W()}var n=this.dl.get(t.key);if(null!==n){if(!e.isEqual(n))throw new FirestoreError(Code.ABORTED,\"Document version changed between two reads.\")}else this.dl=this.dl.Pt(t.key,e)},t.prototype._e=function(t){var e=this.dl.get(t);return!this.Pl.has(t)&&e?Precondition.updateTime(e):Precondition.NONE},t.prototype.Il=function(t){var e=this.dl.get(t);if(!this.Pl.has(t)&&e){if(e.isEqual(__PRIVATE_SnapshotVersion.W()))throw new FirestoreError(Code.INVALID_ARGUMENT,\"Can't update a document that doesn't exist.\");return Precondition.updateTime(e)}return Precondition.exists(!0)},t.prototype.write=function(t){this.Al(),this.mutations=this.mutations.concat(t)},t.prototype.Al=function(){assert(!this.Tl,\"A transaction object cannot be used after its update callback has been invoked.\")},t}(),__PRIVATE_LOG_TAG$7=\"OnlineStateTracker\",__PRIVATE_MAX_WATCH_STREAM_FAILURES=1,__PRIVATE_ONLINE_STATE_TIMEOUT_MS=1e4,__PRIVATE_OnlineStateTracker=function(){function t(t,e){this.Ds=t,this.Vl=e,this.state=__PRIVATE_OnlineState.h,this.ml=0,this.vl=null,this.pl=!0}return t.prototype.bl=function(){var t=this;0===this.ml&&(this.gl(__PRIVATE_OnlineState.h),assert(null===this.vl,\"onlineStateTimer shouldn't be started yet\"),this.vl=this.Ds.Js(__PRIVATE_TimerId.gs,__PRIVATE_ONLINE_STATE_TIMEOUT_MS,(function(){return t.vl=null,assert(t.state===__PRIVATE_OnlineState.h,\"Timer should be canceled if we transitioned to a different state.\"),t.wl(\"Backend didn't respond within \"+__PRIVATE_ONLINE_STATE_TIMEOUT_MS/1e3+\" seconds.\"),t.gl(__PRIVATE_OnlineState.T),Promise.resolve()})))},t.prototype.yl=function(t){this.state===__PRIVATE_OnlineState.l?(this.gl(__PRIVATE_OnlineState.h),assert(0===this.ml,\"watchStreamFailures must be 0\"),assert(null===this.vl,\"onlineStateTimer must be null\")):(this.ml++,this.ml>=__PRIVATE_MAX_WATCH_STREAM_FAILURES&&(this.Sl(),this.wl(\"Connection failed \"+__PRIVATE_MAX_WATCH_STREAM_FAILURES+\" times. Most recent error: \"+t.toString()),this.gl(__PRIVATE_OnlineState.T)))},t.prototype.set=function(t){this.Sl(),this.ml=0,t===__PRIVATE_OnlineState.l&&(this.pl=!1),this.gl(t)},t.prototype.gl=function(t){t!==this.state&&(this.state=t,this.Vl(t))},t.prototype.wl=function(t){var e=\"Could not reach Cloud Firestore backend. \"+t+\"\\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.\";this.pl?(error(e),this.pl=!1):debug(__PRIVATE_LOG_TAG$7,e)},t.prototype.Sl=function(){null!==this.vl&&(this.vl.cancel(),this.vl=null)},t}(),__PRIVATE_LOG_TAG$8=\"RemoteStore\",__PRIVATE_MAX_PENDING_WRITES=10,__PRIVATE_RemoteStore=function(){function t(t,e,n,r,i){var s=this;this.F_=t,this.ll=e,this.Dl=[],this.Cl={},this.Ol=null,this.networkEnabled=!1,this.isPrimary=!1,this.Fl=i,this.Fl.Nl((function(t){n.Us((function(){return tslib.__awaiter(s,void 0,void 0,(function(){return tslib.__generator(this,(function(t){switch(t.label){case 0:return this.Ml()?(debug(__PRIVATE_LOG_TAG$8,\"Restarting streams for network reachability change.\"),[4,this.Ll()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Gl=new __PRIVATE_OnlineStateTracker(n,r),this.Bl=this.ll.Ff({mf:this.Ul.bind(this),Pf:this.kl.bind(this),pf:this.xl.bind(this)}),this.Kl=this.ll.Of({mf:this.jl.bind(this),Pf:this.ql.bind(this),Df:this.Ql.bind(this),Sf:this.Sf.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return tslib.__awaiter(this,void 0,void 0,(function(){var t;return tslib.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.Ml()?(t=this.Kl,[4,this.F_.mu()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.Wl()?this.$l():this.Gl.set(__PRIVATE_OnlineState.h),[4,this.Yl()];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.disableNetwork=function(){return tslib.__awaiter(this,void 0,void 0,(function(){return tslib.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.Hl()];case 1:return t.sent(),this.Gl.set(__PRIVATE_OnlineState.T),[2]}}))}))},t.prototype.Hl=function(){return tslib.__awaiter(this,void 0,void 0,(function(){return tslib.__generator(this,(function(t){switch(t.label){case 0:return[4,this.Kl.stop()];case 1:return t.sent(),[4,this.Bl.stop()];case 2:return t.sent(),this.Dl.length>0&&(debug(__PRIVATE_LOG_TAG$8,\"Stopping write stream with \"+this.Dl.length+\" pending writes\"),this.Dl=[]),this.Xl(),[2]}}))}))},t.prototype.shutdown=function(){return tslib.__awaiter(this,void 0,void 0,(function(){return tslib.__generator(this,(function(t){switch(t.label){case 0:return debug(__PRIVATE_LOG_TAG$8,\"RemoteStore shutting down.\"),this.networkEnabled=!1,[4,this.Hl()];case 1:return t.sent(),this.Fl.shutdown(),this.Gl.set(__PRIVATE_OnlineState.h),[2]}}))}))},t.prototype.listen=function(t){contains(this.Cl,t.targetId)||(this.Cl[t.targetId]=t,this.Wl()?this.$l():this.Bl._f()&&this.zl(t))},t.prototype.Jl=function(t){assert(contains(this.Cl,t),\"unlisten called on target no currently watched: \"+t),delete this.Cl[t],this.Bl._f()&&this.Zl(t),__PRIVATE_isEmpty(this.Cl)&&(this.Bl._f()?this.Bl.ff():this.Ml()&&this.Gl.set(__PRIVATE_OnlineState.h))},t.prototype.Xr=function(t){return this.Cl[t]||null},t.prototype.Hr=function(t){return this.td.Hr(t)},t.prototype.zl=function(t){this.Ol.wr(t.targetId),this.Bl.watch(t)},t.prototype.Zl=function(t){this.Ol.wr(t),this.Bl.bf(t)},t.prototype.$l=function(){assert(this.Wl(),\"startWatchStream() called when shouldStartWatchStream() is false.\"),this.Ol=new __PRIVATE_WatchChangeAggregator(this),this.Bl.start(),this.Gl.bl()},t.prototype.Wl=function(){return this.Ml()&&!this.Bl.af()&&!__PRIVATE_isEmpty(this.Cl)},t.prototype.Ml=function(){return this.isPrimary&&this.networkEnabled},t.prototype.Xl=function(){this.Ol=null},t.prototype.Ul=function(){return tslib.__awaiter(this,void 0,void 0,(function(){var t=this;return tslib.__generator(this,(function(e){return __PRIVATE_forEachNumber(this.Cl,(function(e,n){t.zl(n)})),[2]}))}))},t.prototype.kl=function(t){return tslib.__awaiter(this,void 0,void 0,(function(){return tslib.__generator(this,(function(e){return void 0===t&&assert(!this.Wl(),\"Watch stream was stopped gracefully while still needed.\"),this.Xl(),this.Wl()?(this.Gl.yl(t),this.$l()):this.Gl.set(__PRIVATE_OnlineState.h),[2]}))}))},t.prototype.xl=function(t,e){return tslib.__awaiter(this,void 0,void 0,(function(){var n;return tslib.__generator(this,(function(r){switch(r.label){case 0:return this.Gl.set(__PRIVATE_OnlineState.l),t instanceof __PRIVATE_WatchTargetChange&&t.state===__PRIVATE_WatchTargetChangeState.kn&&t.cause?[2,this.ed(t)]:(t instanceof __PRIVATE_DocumentWatchChange?this.Ol.Mr(t):t instanceof __PRIVATE_ExistenceFilterChange?this.Ol.jr(t):(assert(t instanceof __PRIVATE_WatchTargetChange,\"Expected watchChange to be an instance of WatchTargetChange\"),this.Ol.Br(t)),e.isEqual(__PRIVATE_SnapshotVersion.MIN)?[3,3]:[4,this.F_.Ga()]);case 1:return n=r.sent(),e._(n)>=0?[4,this.nd(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},t.prototype.nd=function(t){var e=this;assert(!t.isEqual(__PRIVATE_SnapshotVersion.MIN),\"Can't raise event for unknown SnapshotVersion\");var n=this.Ol.Wr(t);return __PRIVATE_forEachNumber(n.Jn,(function(n,r){if(r.resumeToken.length>0){var i=e.Cl[n];i&&(e.Cl[n]=i.Nn(r.resumeToken,t))}})),n.Zn.forEach((function(t){var n=e.Cl[t];if(n){e.Cl[t]=n.Nn(__PRIVATE_emptyByteString(),n.On),e.Zl(t);var r=new __PRIVATE_TargetData(n.target,t,__PRIVATE_TargetPurpose.Sn,n.sequenceNumber);e.zl(r)}})),this.td.Ba(n)},t.prototype.ed=function(t){var e=this;assert(!!t.cause,\"Handling target error without a cause\");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach((function(t){r=r.then((function(){return tslib.__awaiter(e,void 0,void 0,(function(){return tslib.__generator(this,(function(e){return contains(this.Cl,t)?(delete this.Cl[t],this.Ol.removeTarget(t),[2,this.td.rd(t,n)]):[2]}))}))}))})),r},t.prototype.Yl=function(){return tslib.__awaiter(this,void 0,void 0,(function(){var t,e;return tslib.__generator(this,(function(n){switch(n.label){case 0:return this.sd()?(t=this.Dl.length>0?this.Dl[this.Dl.length-1].batchId:__PRIVATE_BATCHID_UNKNOWN,[4,this.F_.Ya(t)]):[3,4];case 1:return null!==(e=n.sent())?[3,2]:(0===this.Dl.length&&this.Kl.ff(),[3,4]);case 2:return this.od(e),[4,this.Yl()];case 3:n.sent(),n.label=4;case 4:return this.ud()&&this.ad(),[2]}}))}))},t.prototype.sd=function(){return this.Ml()&&this.Dl.length<__PRIVATE_MAX_PENDING_WRITES},t.prototype._d=function(){return this.Dl.length},t.prototype.od=function(t){assert(this.sd(),\"addToWritePipeline called when pipeline is full\"),this.Dl.push(t),this.Kl._f()&&this.Kl.wf&&this.Kl.yf(t.mutations)},t.prototype.ud=function(){return this.Ml()&&!this.Kl.af()&&this.Dl.length>0},t.prototype.ad=function(){assert(this.ud(),\"startWriteStream() called when shouldStartWriteStream() is false.\"),this.Kl.start()},t.prototype.jl=function(){return tslib.__awaiter(this,void 0,void 0,(function(){return tslib.__generator(this,(function(t){return this.Kl.Cf(),[2]}))}))},t.prototype.Ql=function(){var t=this;return this.F_.vu(this.Kl.lastStreamToken).then((function(){for(var e=0,n=t.Dl;e<n.length;e++){var r=n[e];t.Kl.yf(r.mutations)}})).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)},t.prototype.Sf=function(t,e){var n=this;assert(this.Dl.length>0,\"Got result for empty write pipeline\");var r=this.Dl.shift(),i=__PRIVATE_MutationBatchResult.from(r,t,e,this.Kl.lastStreamToken);return this.td.hd(i).then((function(){return n.Yl()}))},t.prototype.ql=function(t){return tslib.__awaiter(this,void 0,void 0,(function(){var e=this;return tslib.__generator(this,(function(n){return void 0===t&&assert(!this.ud(),\"Write stream was stopped gracefully while still needed.\"),t&&this.Dl.length>0?(void 0,[2,(this.Kl.wf?this.fd(t):this.ld(t)).then((function(){e.ud()&&e.ad()}))]):[2]}))}))},t.prototype.ld=function(t){return tslib.__awaiter(this,void 0,void 0,(function(){return tslib.__generator(this,(function(e){return __PRIVATE_isPermanentError(t.code)?(debug(__PRIVATE_LOG_TAG$8,\"RemoteStore error before completed handshake; resetting stream token: \",this.Kl.lastStreamToken),this.Kl.lastStreamToken=__PRIVATE_emptyByteString(),[2,this.F_.vu(__PRIVATE_emptyByteString()).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)]):[2]}))}))},t.prototype.fd=function(t){return tslib.__awaiter(this,void 0,void 0,(function(){var e,n=this;return tslib.__generator(this,(function(r){return __PRIVATE_isPermanentWriteError(t.code)?(e=this.Dl.shift(),this.Kl.hf(),[2,this.td.dd(e.batchId,t).then((function(){return n.Yl()}))]):[2]}))}))},t.prototype.Td=function(){return new Transaction(this.ll)},t.prototype.Ll=function(){return tslib.__awaiter(this,void 0,void 0,(function(){return tslib.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.Hl()];case 1:return t.sent(),this.Gl.set(__PRIVATE_OnlineState.h),[4,this.enableNetwork()];case 2:return t.sent(),[2]}}))}))},t.prototype.Ed=function(){return tslib.__awaiter(this,void 0,void 0,(function(){return tslib.__generator(this,(function(t){switch(t.label){case 0:return this.Ml()?(debug(__PRIVATE_LOG_TAG$8,\"RemoteStore restarting streams for new credential\"),[4,this.Ll()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Pd=function(t){return tslib.__awaiter(this,void 0,void 0,(function(){return tslib.__generator(this,(function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.Hl()];case 3:e.sent(),this.Gl.set(__PRIVATE_OnlineState.h),e.label=4;case 4:return[2]}}))}))},t}(),CLIENT_STATE_KEY_PREFIX=\"firestore_clients\";function createWebStorageClientStateKey(t,e){return assert(-1===e.indexOf(\"_\"),\"Client key cannot contain '_', but was '\"+e+\"'\"),CLIENT_STATE_KEY_PREFIX+\"_\"+t+\"_\"+e}var MUTATION_BATCH_KEY_PREFIX=\"firestore_mutations\";function createWebStorageMutationBatchKey(t,e,n){var r=MUTATION_BATCH_KEY_PREFIX+\"_\"+t+\"_\"+n;return e.R()&&(r+=\"_\"+e.uid),r}var QUERY_TARGET_KEY_PREFIX=\"firestore_targets\";function createWebStorageQueryTargetMetadataKey(t,e){return QUERY_TARGET_KEY_PREFIX+\"_\"+t+\"_\"+e}var ONLINE_STATE_KEY_PREFIX=\"firestore_online_state\";function createWebStorageOnlineStateKey(t){return ONLINE_STATE_KEY_PREFIX+\"_\"+t}var SEQUENCE_NUMBER_KEY_PREFIX=\"firestore_sequence_number\";function createWebStorageSequenceNumberKey(t){return SEQUENCE_NUMBER_KEY_PREFIX+\"_\"+t}var __PRIVATE_LOG_TAG$9=\"SharedClientState\",__PRIVATE_MutationMetadata=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r,assert(void 0!==r==(\"rejected\"===n),\"MutationMetadata must contain an error iff state is 'rejected'\")}return t.Ad=function(e,n,r){var i=JSON.parse(r),s=\"object\"==typeof i&&-1!==[\"pending\",\"acknowledged\",\"rejected\"].indexOf(i.state)&&(void 0===i.error||\"object\"==typeof i.error),o=void 0;return s&&i.error&&(s=\"string\"==typeof i.error.message&&\"string\"==typeof i.error.code)&&(o=new FirestoreError(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(error(__PRIVATE_LOG_TAG$9,\"Failed to parse mutation state for ID '\"+n+\"': \"+r),null)},t.prototype.Rd=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),__PRIVATE_QueryTargetMetadata=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,assert(void 0!==n==(\"rejected\"===e),\"QueryTargetMetadata must contain an error iff state is 'rejected'\")}return t.Ad=function(e,n){var r=JSON.parse(n),i=\"object\"==typeof r&&-1!==[\"not-current\",\"current\",\"rejected\"].indexOf(r.state)&&(void 0===r.error||\"object\"==typeof r.error),s=void 0;return i&&r.error&&(i=\"string\"==typeof r.error.message&&\"string\"==typeof r.error.code)&&(s=new FirestoreError(r.error.code,r.error.message)),i?new t(e,r.state,s):(error(__PRIVATE_LOG_TAG$9,\"Failed to parse target state for ID '\"+e+\"': \"+n),null)},t.prototype.Rd=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),__PRIVATE_RemoteClientState=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Ad=function(e,n){for(var r=JSON.parse(n),i=\"object\"==typeof r&&r.activeTargetIds instanceof Array,s=__PRIVATE_targetIdSet(),o=0;i&&o<r.activeTargetIds.length;++o)i=isSafeInteger(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(error(__PRIVATE_LOG_TAG$9,\"Failed to parse client data for instance '\"+e+\"': \"+n),null)},t}(),__PRIVATE_SharedOnlineState=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Ad=function(e){var n=JSON.parse(e);return\"object\"==typeof n&&n.onlineState in __PRIVATE_OnlineState&&\"string\"==typeof n.clientId?new t(n.clientId,__PRIVATE_OnlineState[n.onlineState]):(error(__PRIVATE_LOG_TAG$9,\"Failed to parse online state: \"+e),null)},t}(),__PRIVATE_LocalClientState=function(){function t(){this.activeTargetIds=__PRIVATE_targetIdSet()}return t.prototype.Id=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Vd=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Rd=function(){var t={activeTargetIds:this.activeTargetIds.st(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),__PRIVATE_WebStorageSharedClientState=function(){function t(e,n,r,i,s){if(this.wc=e,this.platform=n,this.persistenceKey=r,this.md=i,this.td=null,this.Vl=null,this.Es=null,this.vd={},this.pd=this.bd.bind(this),this.Ea=!1,this.gd=[],!t.Xo(this.platform))throw new FirestoreError(Code.UNIMPLEMENTED,\"LocalStorage is not available on this platform.\");var o=r.replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\");this.storage=this.platform.window.localStorage,this.currentUser=s,this.wd=createWebStorageClientStateKey(this.persistenceKey,this.md),this.yd=createWebStorageSequenceNumberKey(this.persistenceKey),this.vd[this.md]=new __PRIVATE_LocalClientState,this.Sd=new RegExp(\"^\"+CLIENT_STATE_KEY_PREFIX+\"_\"+o+\"_([^_]*)$\"),this.Dd=new RegExp(\"^\"+MUTATION_BATCH_KEY_PREFIX+\"_\"+o+\"_(\\\\d+)(?:_(.*))?$\"),this.Cd=new RegExp(\"^\"+QUERY_TARGET_KEY_PREFIX+\"_\"+o+\"_(\\\\d+)$\"),this.Od=createWebStorageOnlineStateKey(this.persistenceKey),this.platform.window.addEventListener(\"storage\",this.pd)}return t.Xo=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return tslib.__awaiter(this,void 0,void 0,(function(){var t,e,n,r,i,s,o,u,a,_,c,h=this;return tslib.__generator(this,(function(f){switch(f.label){case 0:return assert(!this.Ea,\"WebStorageSharedClientState already started\"),assert(null!==this.td,\"syncEngine property must be set before calling start()\"),assert(null!==this.Vl,\"onlineStateHandler property must be set before calling start()\"),[4,this.td.s_()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.md&&(i=this.getItem(createWebStorageClientStateKey(this.persistenceKey,r)))&&(s=__PRIVATE_RemoteClientState.Ad(r,i))&&(this.vd[s.clientId]=s);for(this.Fd(),(o=this.storage.getItem(this.Od))&&(u=this.Nd(o))&&this.Md(u),a=0,_=this.gd;a<_.length;a++)c=_[a],this.bd(c);return this.gd=[],this.platform.window.addEventListener(\"unload\",(function(){return h.shutdown()})),this.Ea=!0,[2]}}))}))},t.prototype.Rs=function(t){this.setItem(this.yd,JSON.stringify(t))},t.prototype.Ld=function(){var t=__PRIVATE_targetIdSet();return forEach(this.vd,(function(e,n){t=t.$t(n.activeTargetIds)})),t},t.prototype.Gd=function(t){for(var e in this.vd)if(this.vd.hasOwnProperty(e)&&this.vd[e].activeTargetIds.has(t))return!0;return!1},t.prototype.Bd=function(t){this.Ud(t,\"pending\")},t.prototype.kd=function(t,e,n){this.Ud(t,e,n),this.xd(t)},t.prototype.Kd=function(t){var e=\"not-current\";if(this.Gd(t)){var n=this.storage.getItem(createWebStorageQueryTargetMetadataKey(this.persistenceKey,t));if(n){var r=__PRIVATE_QueryTargetMetadata.Ad(t,n);r&&(e=r.state)}}return this.jd.Id(t),this.Fd(),e},t.prototype.qd=function(t){this.jd.Vd(t),this.Fd()},t.prototype.Qd=function(t){return this.jd.activeTargetIds.has(t)},t.prototype.Wd=function(t){this.removeItem(createWebStorageQueryTargetMetadataKey(this.persistenceKey,t))},t.prototype.$d=function(t,e,n){this.Yd(t,e,n)},t.prototype.wa=function(t,e,n){var r=this;e.forEach((function(t){r.xd(t)})),this.currentUser=t,n.forEach((function(t){r.Bd(t)}))},t.prototype.Hd=function(t){this.Xd(t)},t.prototype.shutdown=function(){this.Ea&&(this.platform.window.removeEventListener(\"storage\",this.pd),this.removeItem(this.wd),this.Ea=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return debug(__PRIVATE_LOG_TAG$9,\"READ\",t,e),e},t.prototype.setItem=function(t,e){debug(__PRIVATE_LOG_TAG$9,\"SET\",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){debug(__PRIVATE_LOG_TAG$9,\"REMOVE\",t),this.storage.removeItem(t)},t.prototype.bd=function(t){var e=this;if(t.storageArea===this.storage){if(debug(__PRIVATE_LOG_TAG$9,\"EVENT\",t.key,t.newValue),t.key===this.wd)return void error(\"Received WebStorage notification for local change. Another client might have garbage-collected our state\");this.wc.Us((function(){return tslib.__awaiter(e,void 0,void 0,(function(){var e,n,r,i,s,o;return tslib.__generator(this,(function(u){if(!this.Ea)return this.gd.push(t),[2];if(null===t.key)return[2];if(this.Sd.test(t.key)){if(null==t.newValue)return n=this.zd(t.key),[2,this.Jd(n,null)];if(e=this.Zd(t.key,t.newValue))return[2,this.Jd(e.clientId,e)]}else if(this.Dd.test(t.key)){if(null!==t.newValue&&(r=this.tT(t.key,t.newValue)))return[2,this.eT(r)]}else if(this.Cd.test(t.key)){if(null!==t.newValue&&(i=this.nT(t.key,t.newValue)))return[2,this.rT(i)]}else if(t.key===this.Od){if(null!==t.newValue&&(s=this.Nd(t.newValue)))return[2,this.Md(s)]}else t.key===this.yd&&(assert(!!this.Es,\"Missing sequenceNumberHandler\"),(o=__PRIVATE_fromWebStorageSequenceNumber(t.newValue))!==__PRIVATE_ListenSequence.Is&&this.Es(o));return[2]}))}))}))}},Object.defineProperty(t.prototype,\"jd\",{get:function(){return this.vd[this.md]},enumerable:!0,configurable:!0}),t.prototype.Fd=function(){this.setItem(this.wd,this.jd.Rd())},t.prototype.Ud=function(t,e,n){var r=new __PRIVATE_MutationMetadata(this.currentUser,t,e,n),i=createWebStorageMutationBatchKey(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Rd())},t.prototype.xd=function(t){var e=createWebStorageMutationBatchKey(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xd=function(t){var e={clientId:this.md,onlineState:__PRIVATE_OnlineState[t]};this.storage.setItem(this.Od,JSON.stringify(e))},t.prototype.Yd=function(t,e,n){var r=createWebStorageQueryTargetMetadataKey(this.persistenceKey,t),i=new __PRIVATE_QueryTargetMetadata(t,e,n);this.setItem(r,i.Rd())},t.prototype.zd=function(t){var e=this.Sd.exec(t);return e?e[1]:null},t.prototype.Zd=function(t,e){var n=this.zd(t);return assert(null!==n,\"Cannot parse client state key '\"+t+\"'\"),__PRIVATE_RemoteClientState.Ad(n,e)},t.prototype.tT=function(t,e){var n=this.Dd.exec(t);assert(null!==n,\"Cannot parse mutation batch key '\"+t+\"'\");var r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return __PRIVATE_MutationMetadata.Ad(new User(i),r,e)},t.prototype.nT=function(t,e){var n=this.Cd.exec(t);assert(null!==n,\"Cannot parse query target key '\"+t+\"'\");var r=Number(n[1]);return __PRIVATE_QueryTargetMetadata.Ad(r,e)},t.prototype.Nd=function(t){return __PRIVATE_SharedOnlineState.Ad(t)},t.prototype.eT=function(t){return tslib.__awaiter(this,void 0,void 0,(function(){return tslib.__generator(this,(function(e){return t.user.uid!==this.currentUser.uid?(debug(__PRIVATE_LOG_TAG$9,\"Ignoring mutation for non-active user \"+t.user.uid),[2]):[2,this.td.iT(t.batchId,t.state,t.error)]}))}))},t.prototype.rT=function(t){return this.td.sT(t.targetId,t.state,t.error)},t.prototype.Jd=function(t,e){var n=this,r=this.Ld();e?this.vd[t]=e:delete this.vd[t];var i=this.Ld(),s=[],o=[];return i.forEach((function(t){return tslib.__awaiter(n,void 0,void 0,(function(){return tslib.__generator(this,(function(e){return r.has(t)||s.push(t),[2]}))}))})),r.forEach((function(t){return tslib.__awaiter(n,void 0,void 0,(function(){return tslib.__generator(this,(function(e){return i.has(t)||o.push(t),[2]}))}))})),this.td.oT(s,o)},t.prototype.Md=function(t){this.vd[t.clientId]&&this.Vl(t.onlineState)},t}();function __PRIVATE_fromWebStorageSequenceNumber(t){var e=__PRIVATE_ListenSequence.Is;if(null!=t)try{var n=JSON.parse(t);assert(\"number\"==typeof n,\"Found non-numeric sequence number\"),e=n}catch(t){error(__PRIVATE_LOG_TAG$9,\"Failed to read sequence number from WebStorage\",t)}return e}var __PRIVATE_MemorySharedClientState=function(){function t(){this.uT=new __PRIVATE_LocalClientState,this.aT={},this.td=null,this.Vl=null,this.Es=null}return t.prototype.Bd=function(t){},t.prototype.kd=function(t,e,n){},t.prototype.Kd=function(t){return this.uT.Id(t),this.aT[t]||\"not-current\"},t.prototype.$d=function(t,e,n){this.aT[t]=e},t.prototype.qd=function(t){this.uT.Vd(t)},t.prototype.Qd=function(t){return this.uT.activeTargetIds.has(t)},t.prototype.Wd=function(t){delete this.aT[t]},t.prototype.Ld=function(){return this.uT.activeTargetIds},t.prototype.Gd=function(t){return this.uT.activeTargetIds.has(t)},t.prototype.start=function(){return this.uT=new __PRIVATE_LocalClientState,Promise.resolve()},t.prototype.wa=function(t,e,n){},t.prototype.Hd=function(t){},t.prototype.shutdown=function(){},t.prototype.Rs=function(t){},t}(),__PRIVATE_AddedLimboDocument=function(t){this.key=t},__PRIVATE_RemovedLimboDocument=function(t){this.key=t},__PRIVATE_View=function(){function t(t,e){this.query=t,this._T=e,this.cT=null,this.ir=!1,this.hT=__PRIVATE_documentKeySet(),this.Yn=__PRIVATE_documentKeySet(),this.fT=new __PRIVATE_DocumentSet(t.En.bind(t))}return Object.defineProperty(t.prototype,\"lT\",{get:function(){return this._T},enumerable:!0,configurable:!0}),t.prototype.dT=function(t,e){var n=this,r=e?e.TT:new __PRIVATE_DocumentChangeSet,i=e?e.fT:this.fT,s=e?e.Yn:this.Yn,o=i,u=!1,a=this.query.Vn()&&i.size===this.query.limit?i.last():null,_=this.query.mn()&&i.size===this.query.limit?i.first():null;if(t.Vt((function(t,e){var c=i.get(t),h=e instanceof Document?e:null;h&&(assert(t.isEqual(h.key),\"Mismatching keys found in document changes: \"+t+\" != \"+h.key),h=n.query.matches(h)?h:null);var f=!!c&&n.Yn.has(c.key),l=!!h&&(h.ce||n.Yn.has(h.key)&&h.hasCommittedMutations),d=!1;c&&h?c.data().isEqual(h.data())?f!==l&&(r.track({type:__PRIVATE_ChangeType.Kn,doc:h}),d=!0):n.ET(c,h)||(r.track({type:__PRIVATE_ChangeType.xn,doc:h}),d=!0,(a&&n.query.En(h,a)>0||_&&n.query.En(h,_)<0)&&(u=!0)):!c&&h?(r.track({type:__PRIVATE_ChangeType.Un,doc:h}),d=!0):c&&!h&&(r.track({type:__PRIVATE_ChangeType.kn,doc:c}),d=!0,(a||_)&&(u=!0));d&&(h?(o=o.add(h),s=l?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))})),this.query.Vn()||this.query.mn())for(;o.size>this.query.limit;){var c=this.query.Vn()?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:__PRIVATE_ChangeType.kn,doc:c})}return assert(!u||!e,\"View was refilled using docs that themselves needed refilling.\"),{fT:o,TT:r,Rh:u,Yn:s}},t.prototype.ET=function(t,e){return t.ce&&e.hasCommittedMutations&&!e.ce},t.prototype.qo=function(t,e,n){var r=this;assert(!t.Rh,\"Cannot apply changes that need a refill\");var i=this.fT;this.fT=t.fT,this.Yn=t.Yn;var s=t.TT.Wn();s.sort((function(t,e){return __PRIVATE_compareChangeType(t.type,e.type)||r.query.En(t.doc,e.doc)})),this.PT(n);var o=e?this.AT():[],u=0===this.hT.size&&this.ir?__PRIVATE_SyncState.qn:__PRIVATE_SyncState.jn,a=u!==this.cT;return this.cT=u,0!==s.length||a?{snapshot:new __PRIVATE_ViewSnapshot(this.query,t.fT,i,s,t.Yn,u===__PRIVATE_SyncState.jn,a,!1),RT:o}:{RT:o}},t.prototype.IT=function(t){return this.ir&&t===__PRIVATE_OnlineState.T?(this.ir=!1,this.qo({fT:this.fT,TT:new __PRIVATE_DocumentChangeSet,Yn:this.Yn,Rh:!1},!1)):{RT:[]}},t.prototype.VT=function(t){return!this._T.has(t)&&(!!this.fT.has(t)&&!this.fT.get(t).ce)},t.prototype.PT=function(t){var e=this;t&&(t.sr.forEach((function(t){return e._T=e._T.add(t)})),t.or.forEach((function(t){return assert(e._T.has(t),\"Modified document \"+t+\" not found in view.\")})),t.ur.forEach((function(t){return e._T=e._T.delete(t)})),this.ir=t.ir)},t.prototype.AT=function(){var t=this;if(!this.ir)return[];var e=this.hT;this.hT=__PRIVATE_documentKeySet(),this.fT.forEach((function(e){t.VT(e.key)&&(t.hT=t.hT.add(e.key))}));var n=[];return e.forEach((function(e){t.hT.has(e)||n.push(new __PRIVATE_RemovedLimboDocument(e))})),this.hT.forEach((function(t){e.has(t)||n.push(new __PRIVATE_AddedLimboDocument(t))})),n},t.prototype.mT=function(t){this._T=t.r_,this.hT=__PRIVATE_documentKeySet();var e=this.dT(t.documents);return this.qo(e,!0)},t.prototype.vT=function(){return __PRIVATE_ViewSnapshot.zn(this.query,this.fT,this.Yn,this.cT===__PRIVATE_SyncState.jn)},t}();function __PRIVATE_compareChangeType(t,e){var n=function(t){switch(t){case __PRIVATE_ChangeType.Un:return 1;case __PRIVATE_ChangeType.xn:case __PRIVATE_ChangeType.Kn:return 2;case __PRIVATE_ChangeType.kn:return 0;default:return fail(\"Unknown ChangeType: \"+t)}};return n(t)-n(e)}var __PRIVATE_RETRY_COUNT=5,__PRIVATE_TransactionRunner=function(){function t(t,e,n,r){this.Ds=t,this.pT=e,this.updateFunction=n,this.Ns=r,this.bT=__PRIVATE_RETRY_COUNT,this.uf=new __PRIVATE_ExponentialBackoff(this.Ds,__PRIVATE_TimerId.Ss)}return t.prototype.run=function(){this.gT()},t.prototype.gT=function(){var t=this;this.uf.Xh((function(){return tslib.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return tslib.__generator(this,(function(r){return t=this.pT.Td(),(e=this.wT(t))&&e.then((function(e){n.Ds.Us((function(){return t.commit().then((function(){n.Ns.resolve(e)})).catch((function(t){n.yT(t)}))}))})).catch((function(t){n.yT(t)})),[2]}))}))}))},t.prototype.wT=function(t){try{var e=this.updateFunction(t);return!isNullOrUndefined(e)&&e.catch&&e.then?e:(this.Ns.reject(Error(\"Transaction callback must return a Promise\")),null)}catch(t){return this.Ns.reject(t),null}},t.prototype.yT=function(t){var e=this;this.bT>0&&this.ST(t)?(this.bT-=1,this.Ds.Us((function(){return e.gT(),Promise.resolve()}))):this.Ns.reject(t)},t.prototype.ST=function(t){if(\"FirebaseError\"===t.name){var e=t.code;return\"aborted\"===e||\"failed-precondition\"===e||!__PRIVATE_isPermanentError(e)}return!1},t}(),__PRIVATE_LOG_TAG$a=\"SyncEngine\",__PRIVATE_QueryView=function(t,e,n){this.query=t,this.targetId=e,this.view=n},__PRIVATE_LimboResolution=function(t){this.key=t,this.DT=!1},__PRIVATE_SyncEngine=function(){function t(t,e,n,r){this.F_=t,this.pT=e,this.CT=n,this.currentUser=r,this.OT=null,this.FT=new __PRIVATE_ObjectMap((function(t){return t.canonicalId()})),this.NT={},this.MT=new __PRIVATE_SortedMap(__PRIVATE_DocumentKey.H),this.LT={},this.GT=new __PRIVATE_ReferenceSet,this.BT={},this.UT=new Map,this.kT=__PRIVATE_TargetIdGenerator.Yu(),this.isPrimary=void 0,this.onlineState=__PRIVATE_OnlineState.h}return Object.defineProperty(t.prototype,\"xT\",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){assert(null!==t,\"SyncEngine listener cannot be null\"),assert(null===this.OT,\"SyncEngine already has a subscriber.\"),this.OT=t},t.prototype.listen=function(t){return tslib.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,s;return tslib.__generator(this,(function(o){switch(o.label){case 0:return this.KT(\"listen()\"),(r=this.FT.get(t))?(e=r.targetId,this.CT.Kd(e),n=r.view.vT(),[3,4]):[3,1];case 1:return[4,this.F_.Xa(t.Tn())];case 2:return i=o.sent(),s=this.CT.Kd(i.targetId),e=i.targetId,[4,this.jT(t,e,\"current\"===s)];case 3:n=o.sent(),this.isPrimary&&this.pT.listen(i),o.label=4;case 4:return this.OT.pf([n]),[2,e]}}))}))},t.prototype.jT=function(t,e,n){return tslib.__awaiter(this,void 0,void 0,(function(){var r,i,s,o,u,a;return tslib.__generator(this,(function(_){switch(_.label){case 0:return[4,this.F_.e_(t,!0)];case 1:return r=_.sent(),i=new __PRIVATE_View(t,r.r_),s=i.dT(r.documents),o=TargetChange.rr(e,n&&this.onlineState!==__PRIVATE_OnlineState.T),assert(0===(u=i.qo(s,!0===this.isPrimary,o)).RT.length,\"View returned limbo docs before target ack from the server.\"),assert(!!u.snapshot,\"applyChanges for new view should always return a snapshot\"),a=new __PRIVATE_QueryView(t,e,i),this.FT.set(t,a),this.NT[e]||(this.NT[e]=[]),this.NT[e].push(t),[2,u.snapshot]}}))}))},t.prototype.qT=function(t){return tslib.__awaiter(this,void 0,void 0,(function(){var e,n;return tslib.__generator(this,(function(r){switch(r.label){case 0:return[4,this.F_.e_(t.query,!0)];case 1:return e=r.sent(),n=t.view.mT(e),this.isPrimary&&this.QT(t.targetId,n.RT),[2,n]}}))}))},t.prototype.Jl=function(t){return tslib.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return tslib.__generator(this,(function(i){switch(i.label){case 0:return this.KT(\"unlisten()\"),assert(!!(e=this.FT.get(t)),\"Trying to unlisten on query not found:\"+t),(n=this.NT[e.targetId]).length>1?(this.NT[e.targetId]=n.filter((function(e){return!e.isEqual(t)})),this.FT.delete(t),[2]):this.isPrimary?(this.CT.qd(e.targetId),this.CT.Gd(e.targetId)?[3,2]:[4,this.F_.t_(e.targetId,!1).then((function(){r.CT.Wd(e.targetId),r.pT.Jl(e.targetId),r.WT(e.targetId)})).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.WT(e.targetId),[4,this.F_.t_(e.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return tslib.__awaiter(this,void 0,void 0,(function(){var n;return tslib.__generator(this,(function(r){switch(r.label){case 0:return this.KT(\"write()\"),[4,this.F_.Ca(t)];case 1:return n=r.sent(),this.CT.Bd(n.batchId),this.$T(n.batchId,e),[4,this.YT(n.Mo)];case 2:return r.sent(),[4,this.pT.Yl()];case 3:return r.sent(),[2]}}))}))},t.prototype.runTransaction=function(t,e,n){new __PRIVATE_TransactionRunner(t,this.pT,e,n).run()},t.prototype.Ba=function(t){return tslib.__awaiter(this,void 0,void 0,(function(){var e,n=this;return tslib.__generator(this,(function(r){switch(r.label){case 0:this.KT(\"applyRemoteEvent()\"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.F_.Ba(t)];case 2:return e=r.sent(),forEach(t.Jn,(function(t,e){var r=n.LT[Number(t)];r&&(assert(e.sr.size+e.or.size+e.ur.size<=1,\"Limbo resolution for single document contains multiple changes.\"),e.sr.size>0?r.DT=!0:e.or.size>0?assert(r.DT,\"Received change for limbo target document without add.\"):e.ur.size>0&&(assert(r.DT,\"Received remove for limbo target document without add.\"),r.DT=!1))})),[4,this.YT(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,__PRIVATE_ignoreIfPrimaryLeaseLoss(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.IT=function(t,e){if(this.isPrimary&&e===__PRIVATE_OnlineStateSource.P||!this.isPrimary&&e===__PRIVATE_OnlineStateSource.A){this.KT(\"applyOnlineStateChange()\");var n=[];this.FT.forEach((function(e,r){var i=r.view.IT(t);assert(0===i.RT.length,\"OnlineState should not affect limbo documents.\"),i.snapshot&&n.push(i.snapshot)})),this.OT.HT(t),this.OT.pf(n),this.onlineState=t,this.isPrimary&&this.CT.Hd(t)}},t.prototype.rd=function(t,e){return tslib.__awaiter(this,void 0,void 0,(function(){var n,r,i,s,o,u=this;return tslib.__generator(this,(function(a){switch(a.label){case 0:return this.KT(\"rejectListens()\"),this.CT.$d(t,\"rejected\",e),n=this.LT[t],(r=n&&n.key)?(this.MT=this.MT.remove(r),delete this.LT[t],i=(i=new __PRIVATE_SortedMap(__PRIVATE_DocumentKey.H)).Pt(r,new __PRIVATE_NoDocument(r,__PRIVATE_SnapshotVersion.W())),s=__PRIVATE_documentKeySet().add(r),o=new __PRIVATE_RemoteEvent(__PRIVATE_SnapshotVersion.MIN,{},new __PRIVATE_SortedSet(__PRIVATE_primitiveComparator),i,s),[2,this.Ba(o)]):[3,1];case 1:return[4,this.F_.t_(t,!1).then((function(){return u.WT(t,e)})).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))},t.prototype.iT=function(t,e,n){return tslib.__awaiter(this,void 0,void 0,(function(){var r;return tslib.__generator(this,(function(i){switch(i.label){case 0:return this.KT(\"applyBatchState()\"),[4,this.F_.Oa(t)];case 1:return null===(r=i.sent())?(debug(__PRIVATE_LOG_TAG$a,\"Cannot apply mutation batch with id: \"+t),[2]):\"pending\"!==e?[3,3]:[4,this.pT.Yl()];case 2:return i.sent(),[3,4];case 3:\"acknowledged\"===e||\"rejected\"===e?(this.XT(t,n||null),this.F_.o_(t)):fail(\"Unknown batchState: \"+e),i.label=4;case 4:return[4,this.YT(r)];case 5:return i.sent(),[2]}}))}))},t.prototype.hd=function(t){return tslib.__awaiter(this,void 0,void 0,(function(){var e,n;return tslib.__generator(this,(function(r){switch(r.label){case 0:this.KT(\"applySuccessfulWrite()\"),e=t.batch.batchId,this.XT(e,null),this.zT(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.F_.Iu(t)];case 2:return n=r.sent(),this.CT.kd(e,\"acknowledged\"),[4,this.YT(n)];case 3:return r.sent(),[3,6];case 4:return[4,__PRIVATE_ignoreIfPrimaryLeaseLoss(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.dd=function(t,e){return tslib.__awaiter(this,void 0,void 0,(function(){var n;return tslib.__generator(this,(function(r){switch(r.label){case 0:this.KT(\"rejectFailedWrite()\"),this.XT(t,e),this.zT(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.F_.La(t)];case 2:return n=r.sent(),this.CT.kd(t,\"rejected\",e),[4,this.YT(n)];case 3:return r.sent(),[3,6];case 4:return[4,__PRIVATE_ignoreIfPrimaryLeaseLoss(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.JT=function(t){return tslib.__awaiter(this,void 0,void 0,(function(){var e,n;return tslib.__generator(this,(function(r){switch(r.label){case 0:return this.pT.Ml()||debug(__PRIVATE_LOG_TAG$a,\"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.\"),[4,this.F_.Cu()];case 1:return(e=r.sent())===__PRIVATE_BATCHID_UNKNOWN?(t.resolve(),[2]):((n=this.UT.get(e)||[]).push(t),this.UT.set(e,n),[2])}}))}))},t.prototype.zT=function(t){(this.UT.get(t)||[]).forEach((function(t){t.resolve()})),this.UT.delete(t)},t.prototype.ZT=function(t){this.UT.forEach((function(e){e.forEach((function(e){e.reject(new FirestoreError(Code.CANCELLED,t))}))})),this.UT.clear()},t.prototype.$T=function(t,e){var n=this.BT[this.currentUser.I()];n||(n=new __PRIVATE_SortedMap(__PRIVATE_primitiveComparator)),n=n.Pt(t,e),this.BT[this.currentUser.I()]=n},t.prototype.XT=function(t,e){var n=this.BT[this.currentUser.I()];if(n){var r=n.get(t);r&&(assert(t===n.Rt(),\"Mutation callbacks processed out-of-order?\"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.BT[this.currentUser.I()]=n}},t.prototype.WT=function(t,e){var n=this;void 0===e&&(e=null),this.CT.qd(t),assert(this.NT[t]&&0!==this.NT[t].length,\"There are no queries mapped to target id \"+t);for(var r=0,i=this.NT[t];r<i.length;r++){var s=i[r];this.FT.delete(s),e&&this.OT.tE(s,e)}if(delete this.NT[t],this.isPrimary){var o=this.GT.Ro(t);this.GT.Po(t),o.forEach((function(t){n.GT.Io(t)||n.eE(t)}))}},t.prototype.eE=function(t){var e=this.MT.get(t);null!==e&&(this.pT.Jl(e),this.MT=this.MT.remove(t),delete this.LT[e])},t.prototype.QT=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i instanceof __PRIVATE_AddedLimboDocument)this.GT.fo(i.key,t),this.nE(i);else if(i instanceof __PRIVATE_RemovedLimboDocument){debug(__PRIVATE_LOG_TAG$a,\"Document no longer in limbo: \"+i.key),this.GT.do(i.key,t),this.GT.Io(i.key)||this.eE(i.key)}else fail(\"Unknown limbo change: \"+JSON.stringify(i))}},t.prototype.nE=function(t){var e=t.key;if(!this.MT.get(e)){debug(__PRIVATE_LOG_TAG$a,\"New document in limbo: \"+e);var n=this.kT.next(),r=Query.rn(e.path);this.LT[n]=new __PRIVATE_LimboResolution(e),this.pT.listen(new __PRIVATE_TargetData(r.Tn(),n,__PRIVATE_TargetPurpose.Dn,__PRIVATE_ListenSequence.Is)),this.MT=this.MT.Pt(e,n)}},t.prototype.rE=function(){return this.MT},t.prototype.YT=function(t,e){return tslib.__awaiter(this,void 0,void 0,(function(){var n,r,i,s=this;return tslib.__generator(this,(function(o){switch(o.label){case 0:return n=[],r=[],i=[],this.FT.forEach((function(o,u){i.push(Promise.resolve().then((function(){var e=u.view.dT(t);return e.Rh?s.F_.e_(u.query,!1).then((function(t){var n=t.documents;return u.view.dT(n,e)})):e})).then((function(t){var i=e&&e.Jn[u.targetId],o=u.view.qo(t,!0===s.isPrimary,i);if(s.QT(u.targetId,o.RT),o.snapshot){s.isPrimary&&s.CT.$d(u.targetId,o.snapshot.fromCache?\"not-current\":\"current\"),n.push(o.snapshot);var a=__PRIVATE_LocalViewChanges.ca(u.targetId,o.snapshot);r.push(a)}})))})),[4,Promise.all(i)];case 1:return o.sent(),this.OT.pf(n),[4,this.F_.$a(r)];case 2:return o.sent(),[2]}}))}))},t.prototype.KT=function(t){assert(null!==this.OT,\"Trying to call \"+t+\" before calling subscribe().\")},t.prototype.Ed=function(t){return tslib.__awaiter(this,void 0,void 0,(function(){var e,n;return tslib.__generator(this,(function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?(this.ZT(\"'waitForPendingWrites' promise is rejected due to a user change.\"),[4,this.F_.wa(t)]):[3,3];case 1:return n=r.sent(),this.CT.wa(t,n.Sa,n.Da),[4,this.YT(n.ya)];case 2:r.sent(),r.label=3;case 3:return[4,this.pT.Ed()];case 4:return r.sent(),[2]}}))}))},t.prototype.Pd=function(t){return tslib.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,s,o,u=this;return tslib.__generator(this,(function(a){switch(a.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.pT.Pd(!0)]);case 1:return a.sent(),s=this.CT.Ld(),[4,this.iE(s.st())];case 2:for(e=a.sent(),n=0,r=e;n<r.length;n++)i=r[n],this.pT.listen(i);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,s=[],o=Promise.resolve(),__PRIVATE_forEachNumber(this.NT,(function(t,e){u.CT.Qd(t)?s.push(t):o=o.then((function(){return u.WT(t),u.F_.t_(t,!0)})),u.pT.Jl(t)})),[4,o]);case 4:return a.sent(),[4,this.iE(s)];case 5:return a.sent(),this.sE(),[4,this.pT.Pd(!1)];case 6:a.sent(),a.label=7;case 7:return[2]}}))}))},t.prototype.sE=function(){var t=this;__PRIVATE_forEachNumber(this.LT,(function(e){t.pT.Jl(e)})),this.GT.Ao(),this.LT=[],this.MT=new __PRIVATE_SortedMap(__PRIVATE_DocumentKey.H)},t.prototype.iE=function(t){return tslib.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,s,o,u,a,_,c,h,f,l;return tslib.__generator(this,(function(d){switch(d.label){case 0:e=[],n=[],r=0,i=t,d.label=1;case 1:return r<i.length?(s=i[r],o=void 0,(u=this.NT[s])&&0!==u.length?[4,this.F_.t_(s,!0)]:[3,8]):[3,14];case 2:return d.sent(),[4,this.F_.Xa(u[0].Tn())];case 3:o=d.sent(),a=0,_=u,d.label=4;case 4:return a<_.length?(c=_[a],assert(!!(h=this.FT.get(c)),\"No query view found for \"+c),[4,this.qT(h)]):[3,7];case 5:(f=d.sent()).snapshot&&n.push(f.snapshot),d.label=6;case 6:return a++,[3,4];case 7:return[3,12];case 8:return assert(!0===this.isPrimary,\"A secondary tab should never have an active target without an active query.\"),[4,this.F_.c_(s)];case 9:return assert(!!(l=d.sent()),\"Target for id \"+s+\" not found\"),[4,this.F_.Xa(l)];case 10:return o=d.sent(),[4,this.jT(this.oE(l),s,!1)];case 11:d.sent(),d.label=12;case 12:e.push(o),d.label=13;case 13:return r++,[3,1];case 14:return this.OT.pf(n),[2,e]}}))}))},t.prototype.oE=function(t){return new Query(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,__PRIVATE_LimitType.Xe,t.startAt,t.endAt)},t.prototype.s_=function(){return this.F_.s_()},t.prototype.sT=function(t,e,n){return tslib.__awaiter(this,void 0,void 0,(function(){var r,i;return tslib.__generator(this,(function(s){switch(s.label){case 0:if(this.isPrimary)return debug(__PRIVATE_LOG_TAG$a,\"Ignoring unexpected query state notification.\"),[2];if(!this.NT[t])return[3,7];switch(e){case\"current\":case\"not-current\":return[3,1];case\"rejected\":return[3,4]}return[3,6];case 1:return[4,this.F_.h_()];case 2:return r=s.sent(),i=__PRIVATE_RemoteEvent.nr(t,\"current\"===e),[4,this.YT(r,i)];case 3:return s.sent(),[3,7];case 4:return[4,this.F_.t_(t,!0)];case 5:return s.sent(),this.WT(t,n),[3,7];case 6:fail(\"Unexpected target state: \"+e),s.label=7;case 7:return[2]}}))}))},t.prototype.oT=function(t,e){return tslib.__awaiter(this,void 0,void 0,(function(){var n,r,i,s,o,u,a,_,c,h=this;return tslib.__generator(this,(function(f){switch(f.label){case 0:if(!this.isPrimary)return[2];n=0,r=t,f.label=1;case 1:return n<r.length?(c=r[n],assert(!this.NT[c],\"Trying to add an already active target\"),[4,this.F_.c_(c)]):[3,6];case 2:return assert(!!(i=f.sent()),\"Query data for active target \"+c+\" not found\"),[4,this.F_.Xa(i)];case 3:return s=f.sent(),[4,this.jT(this.oE(i),s.targetId,!1)];case 4:f.sent(),this.pT.listen(s),f.label=5;case 5:return n++,[3,1];case 6:o=function(t){return tslib.__generator(this,(function(e){switch(e.label){case 0:return u.NT[t]?[4,u.F_.t_(t,!1).then((function(){h.pT.Jl(t),h.WT(t)})).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)]:[2,\"continue\"];case 1:return e.sent(),[2]}}))},u=this,a=0,_=e,f.label=7;case 7:return a<_.length?(c=_[a],[5,o(c)]):[3,10];case 8:f.sent(),f.label=9;case 9:return a++,[3,7];case 10:return[2]}}))}))},t.prototype.enableNetwork=function(){return this.F_.u_(!0),this.pT.enableNetwork()},t.prototype.disableNetwork=function(){return this.F_.u_(!1),this.pT.disableNetwork()},t.prototype.Hr=function(t){var e=this.LT[t];if(e&&e.DT)return __PRIVATE_documentKeySet().add(e.key);var n=__PRIVATE_documentKeySet(),r=this.NT[t];if(!r)return n;for(var i=0,s=r;i<s.length;i++){var o=s[i],u=this.FT.get(o);assert(!!u,\"No query view found for \"+o),n=n.$t(u.view.lT)}return n},t}(),__PRIVATE_QueryListenersInfo=function(){this.uE=null,this.targetId=0,this.listeners=[]},__PRIVATE_EventManager=function(){function t(t){this.td=t,this.aE=new __PRIVATE_ObjectMap((function(t){return t.canonicalId()})),this.onlineState=__PRIVATE_OnlineState.h,this._E=new Set,this.td.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.aE.get(e);(r||(n=!0,r=new __PRIVATE_QueryListenersInfo,this.aE.set(e,r)),r.listeners.push(t),assert(!t.IT(this.onlineState),\"applyOnlineStateChange() shouldn't raise an event for brand-new listeners.\"),r.uE)&&(t.cE(r.uE)&&this.hE());return n?this.td.listen(e).then((function(t){return r.targetId=t,t})):Promise.resolve(r.targetId)},t.prototype.Jl=function(t){return tslib.__awaiter(this,void 0,void 0,(function(){var e,n,r,i;return tslib.__generator(this,(function(s){return e=t.query,n=!1,(r=this.aE.get(e))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.aE.delete(e),[2,this.td.Jl(e)]):[2]}))}))},t.prototype.pf=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],s=i.query,o=this.aE.get(s);if(o){for(var u=0,a=o.listeners;u<a.length;u++){a[u].cE(i)&&(e=!0)}o.uE=i}}e&&this.hE()},t.prototype.tE=function(t,e){var n=this.aE.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++){i[r].onError(e)}this.aE.delete(t)},t.prototype.HT=function(t){this.onlineState=t;var e=!1;this.aE.forEach((function(n,r){for(var i=0,s=r.listeners;i<s.length;i++){s[i].IT(t)&&(e=!0)}})),e&&this.hE()},t.prototype.fE=function(t){this._E.add(t),t.next()},t.prototype.lE=function(t){this._E.delete(t)},t.prototype.hE=function(){this._E.forEach((function(t){t.next()}))},t}(),__PRIVATE_QueryListener=function(){function t(t,e,n){this.query=t,this.dE=e,this.TE=!1,this.EE=null,this.onlineState=__PRIVATE_OnlineState.h,this.options=n||{}}return t.prototype.cE=function(t){if(assert(t.docChanges.length>0||t.Hn,\"We got a new snapshot with no changes?\"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==__PRIVATE_ChangeType.Kn&&e.push(i)}t=new __PRIVATE_ViewSnapshot(t.query,t.docs,t.$n,e,t.Yn,t.fromCache,t.Hn,!0)}var s=!1;return this.TE?this.PE(t)&&(this.dE.next(t),s=!0):this.AE(t,this.onlineState)&&(this.RE(t),s=!0),this.EE=t,s},t.prototype.onError=function(t){this.dE.error(t)},t.prototype.IT=function(t){this.onlineState=t;var e=!1;return this.EE&&!this.TE&&this.AE(this.EE,t)&&(this.RE(this.EE),e=!0),e},t.prototype.AE=function(t,e){if(assert(!this.TE,\"Determining whether to raise first event but already had first event\"),!t.fromCache)return!0;var n=e!==__PRIVATE_OnlineState.T;return this.options.IE&&n?(assert(t.fromCache,\"Waiting for sync, but snapshot is not from cache\"),!1):!t.docs.tt()||e===__PRIVATE_OnlineState.T},t.prototype.PE=function(t){if(t.docChanges.length>0)return!0;var e=this.EE&&this.EE.hasPendingWrites!==t.hasPendingWrites;return!(!t.Hn&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.RE=function(t){assert(!this.TE,\"Trying to raise initial events for second time\"),t=__PRIVATE_ViewSnapshot.zn(t.query,t.docs,t.Yn,t.fromCache),this.TE=!0,this.dE.next(t)},t}(),__PRIVATE_LOG_TAG$b=\"FirestoreClient\",__PRIVATE_DOM_EXCEPTION_INVALID_STATE=11,__PRIVATE_DOM_EXCEPTION_ABORTED=20,__PRIVATE_DOM_EXCEPTION_QUOTA_EXCEEDED=22,__PRIVATE_IndexedDbPersistenceSettings=function(){function t(t,e){this.cacheSizeBytes=t,this.synchronizeTabs=e}return t.prototype.Uc=function(){return __PRIVATE_LruParams.b_(this.cacheSizeBytes)},t}(),__PRIVATE_MemoryPersistenceSettings=function(){},__PRIVATE_FirestoreClient=function(){function t(t,e,n,r){this.platform=t,this.VE=e,this.credentials=n,this.Ds=r,this.clientId=__PRIVATE_AutoId.s()}return t.prototype.start=function(t){var e=this;this.mE();var n=new __PRIVATE_Deferred,r=new __PRIVATE_Deferred,i=!1;return this.credentials.S((function(s){i?e.Ds.Us((function(){return e.Ed(s)})):(i=!0,e.vE(t,r,s).then((function(t){return e.pE(s,t)})).then(n.resolve,n.reject))})),this.Ds.Us((function(){return n.promise})),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.mE(),this.Ds.enqueue((function(){return t.td.enableNetwork()}))},t.prototype.vE=function(t,e,n){var r=this;return t instanceof __PRIVATE_IndexedDbPersistenceSettings?this.bE(n,t).then((function(t){return e.resolve(),t})).catch((function(t){if(e.reject(t),!r.gE(t))throw t;return console.warn(\"Error enabling offline persistence. Falling back to persistence disabled: \"+t),r.wE()})):(e.resolve(),this.wE())},t.prototype.gE=function(t){return t instanceof FirestoreError?t.code===Code.FAILED_PRECONDITION||t.code===Code.UNIMPLEMENTED:!(\"undefined\"!=typeof DOMException&&t instanceof DOMException)||(t.code===__PRIVATE_DOM_EXCEPTION_QUOTA_EXCEEDED||t.code===__PRIVATE_DOM_EXCEPTION_ABORTED||t.code===__PRIVATE_DOM_EXCEPTION_INVALID_STATE)},t.prototype.mE=function(){if(this.Ds.Ws)throw new FirestoreError(Code.FAILED_PRECONDITION,\"The client has already been terminated.\")},t.prototype.bE=function(t,e){var n=this,r=__PRIVATE_IndexedDbPersistence.hh(this.VE),i=new __PRIVATE_JsonProtoSerializer(this.VE.o,{Jr:!0});return Promise.resolve().then((function(){return tslib.__awaiter(n,void 0,void 0,(function(){var n,s;return tslib.__generator(this,(function(o){switch(o.label){case 0:if(e.synchronizeTabs&&!__PRIVATE_WebStorageSharedClientState.Xo(this.platform))throw new FirestoreError(Code.UNIMPLEMENTED,\"IndexedDB persistence is only available on platforms that support LocalStorage.\");return n=e.Uc(),this.CT=e.synchronizeTabs?new __PRIVATE_WebStorageSharedClientState(this.Ds,this.platform,r,this.clientId,t):new __PRIVATE_MemorySharedClientState,[4,__PRIVATE_IndexedDbPersistence.Bc({allowTabSynchronization:e.synchronizeTabs,persistenceKey:r,clientId:this.clientId,platform:this.platform,wc:this.Ds,serializer:i,Uc:n,yc:this.CT})];case 1:return s=o.sent(),this.persistence=s,[2,s.Eu.O_]}}))}))}))},t.prototype.wE=function(){return this.persistence=__PRIVATE_MemoryPersistence.Nh(this.clientId),this.CT=new __PRIVATE_MemorySharedClientState,Promise.resolve(null)},t.prototype.pE=function(t,e){var n=this;return debug(__PRIVATE_LOG_TAG$b,\"Initializing. user=\",t.uid),this.platform.yE(this.VE).then((function(r){return tslib.__awaiter(n,void 0,void 0,(function(){var n,i,s,o,u,a,_=this;return tslib.__generator(this,(function(c){switch(c.label){case 0:return n=new __PRIVATE_IndexFreeQueryEngine,this.F_=new __PRIVATE_LocalStore(this.persistence,n,t),[4,this.F_.start()];case 1:return c.sent(),e&&(this.SE=new __PRIVATE_LruScheduler(e,this.Ds,this.F_)),i=this.platform.DE(),s=this.platform.CE(this.VE.o),o=new __PRIVATE_Datastore(this.Ds,r,this.credentials,s),u=function(t){return _.td.IT(t,__PRIVATE_OnlineStateSource.P)},a=function(t){return _.td.IT(t,__PRIVATE_OnlineStateSource.A)},this.pT=new __PRIVATE_RemoteStore(this.F_,o,this.Ds,u,i),this.td=new __PRIVATE_SyncEngine(this.F_,this.pT,this.CT,t),this.CT.Vl=a,this.pT.td=this.td,this.CT.td=this.td,this.OE=new __PRIVATE_EventManager(this.td),[4,this.CT.start()];case 2:return c.sent(),[4,this.pT.start()];case 3:return c.sent(),[4,this.persistence.Wc((function(t){return tslib.__awaiter(_,void 0,void 0,(function(){return tslib.__generator(this,(function(e){switch(e.label){case 0:return[4,this.td.Pd(t)];case 1:return e.sent(),this.SE&&(t&&!this.SE.Ea?this.SE.start():t||this.SE.stop()),[2]}}))}))}))];case 4:return c.sent(),[4,this.persistence.$c((function(){return tslib.__awaiter(_,void 0,void 0,(function(){return tslib.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))}))];case 5:return c.sent(),[2]}}))}))}))},t.prototype.Ed=function(t){return this.Ds.to(),debug(__PRIVATE_LOG_TAG$b,\"Credential Changed. Current user: \"+t.uid),this.td.Ed(t)},t.prototype.disableNetwork=function(){var t=this;return this.mE(),this.Ds.enqueue((function(){return t.td.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.Ds.zs((function(){return tslib.__awaiter(t,void 0,void 0,(function(){return tslib.__generator(this,(function(t){switch(t.label){case 0:return this.SE&&this.SE.stop(),[4,this.pT.shutdown()];case 1:return t.sent(),[4,this.CT.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:return t.sent(),this.credentials.D(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.mE();var e=new __PRIVATE_Deferred;return this.Ds.Us((function(){return t.td.JT(e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.mE();var i=new __PRIVATE_QueryListener(t,e,n);return this.Ds.Us((function(){return r.OE.listen(i)})),i},t.prototype.Jl=function(t){var e=this;this.FE||this.Ds.Us((function(){return e.OE.Jl(t)}))},t.prototype.NE=function(t){var e=this;return this.mE(),this.Ds.enqueue((function(){return e.F_.Ha(t)})).then((function(t){if(t instanceof Document)return t;if(t instanceof __PRIVATE_NoDocument)return null;throw new FirestoreError(Code.UNAVAILABLE,\"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)\")}))},t.prototype.ME=function(t){var e=this;return this.mE(),this.Ds.enqueue((function(){return tslib.__awaiter(e,void 0,void 0,(function(){var e,n,r;return tslib.__generator(this,(function(i){switch(i.label){case 0:return[4,this.F_.e_(t,!0)];case 1:return e=i.sent(),n=new __PRIVATE_View(t,e.r_),r=n.dT(e.documents),[2,n.qo(r,!1).snapshot]}}))}))}))},t.prototype.write=function(t){var e=this;this.mE();var n=new __PRIVATE_Deferred;return this.Ds.Us((function(){return e.td.write(t,n)})),n.promise},t.prototype.o=function(){return this.VE.o},t.prototype.fE=function(t){var e=this;this.mE(),this.Ds.Us((function(){return e.OE.fE(t),Promise.resolve()}))},t.prototype.lE=function(t){this.FE||this.OE.lE(t)},Object.defineProperty(t.prototype,\"FE\",{get:function(){return this.Ds.Ws},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.mE();var n=new __PRIVATE_Deferred;return this.Ds.Us((function(){return e.td.runTransaction(e.Ds,t,n),Promise.resolve()})),n.promise},t}(),__PRIVATE_AsyncObserver=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.LE(this.observer.next,t)},t.prototype.error=function(t){this.LE(this.observer.error,t)},t.prototype.GE=function(){this.muted=!0},t.prototype.LE=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function __PRIVATE_isPartialObserver(t){return __PRIVATE_implementsAnyMethods(t,[\"next\",\"error\",\"complete\"])}function __PRIVATE_implementsAnyMethods(t,e){if(\"object\"!=typeof t||null===t)return!1;for(var n=t,r=0,i=e;r<i.length;r++){var s=i[r];if(s in n&&\"function\"==typeof n[s])return!0}return!1}var __PRIVATE_DEFAULT_HOST=\"firestore.googleapis.com\",__PRIVATE_DEFAULT_SSL=!0,__PRIVATE_DEFAULT_TIMESTAMPS_IN_SNAPSHOTS=!0,__PRIVATE_DEFAULT_FORCE_LONG_POLLING=!1,CACHE_SIZE_UNLIMITED=__PRIVATE_LruParams.y_,__PRIVATE_DEFAULT_SYNCHRONIZE_TABS=!1,__PRIVATE_FirestoreSettings=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Can't provide ssl option if host option is not set\");this.host=__PRIVATE_DEFAULT_HOST,this.ssl=__PRIVATE_DEFAULT_SSL}else __PRIVATE_validateNamedType(\"settings\",\"non-empty string\",\"host\",t.host),this.host=t.host,__PRIVATE_validateNamedOptionalType(\"settings\",\"boolean\",\"ssl\",t.ssl),this.ssl=__PRIVATE_defaulted(t.ssl,__PRIVATE_DEFAULT_SSL);if(__PRIVATE_validateOptionNames(\"settings\",t,[\"host\",\"ssl\",\"credentials\",\"timestampsInSnapshots\",\"cacheSizeBytes\",\"experimentalForceLongPolling\"]),__PRIVATE_validateNamedOptionalType(\"settings\",\"object\",\"credentials\",t.credentials),this.credentials=t.credentials,__PRIVATE_validateNamedOptionalType(\"settings\",\"boolean\",\"timestampsInSnapshots\",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?error(\"\\n  The timestampsInSnapshots setting now defaults to true and you no\\n  longer need to explicitly set it. In a future release, the setting\\n  will be removed entirely and so it is recommended that you remove it\\n  from your firestore.settings() call now.\"):!1===t.timestampsInSnapshots&&error(\"\\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\\n  YOUR CODE.\\n\\n  To hide this warning, stop using the timestampsInSnapshots setting in your\\n  firestore.settings({ ... }) call.\\n\\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\\n  read back as Firebase Timestamp objects instead of as system Date objects.\\n  So you will also need to update code expecting a Date to instead expect a\\n  Timestamp. For example:\\n\\n  // Old:\\n  const date = snapshot.get('created_at');\\n  // New:\\n  const timestamp = snapshot.get('created_at'); const date =\\n  timestamp.toDate();\\n\\n  Please audit all existing usages of Date when you enable the new\\n  behavior.\"),this.timestampsInSnapshots=__PRIVATE_defaulted(t.timestampsInSnapshots,__PRIVATE_DEFAULT_TIMESTAMPS_IN_SNAPSHOTS),__PRIVATE_validateNamedOptionalType(\"settings\",\"number\",\"cacheSizeBytes\",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=__PRIVATE_LruParams.D_;else{if(t.cacheSizeBytes!==CACHE_SIZE_UNLIMITED&&t.cacheSizeBytes<__PRIVATE_LruParams.S_)throw new FirestoreError(Code.INVALID_ARGUMENT,\"cacheSizeBytes must be at least \"+__PRIVATE_LruParams.S_);this.cacheSizeBytes=t.cacheSizeBytes}__PRIVATE_validateNamedOptionalType(\"settings\",\"boolean\",\"experimentalForceLongPolling\",t.experimentalForceLongPolling),this.forceLongPolling=void 0===t.experimentalForceLongPolling?__PRIVATE_DEFAULT_FORCE_LONG_POLLING:t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),Firestore=function(){function t(e,n){var r=this;if(this.BE=null,this.UE=new __PRIVATE_AsyncQueue,this.INTERNAL={delete:function(){return tslib.__awaiter(r,void 0,void 0,(function(){return tslib.__generator(this,(function(t){switch(t.label){case 0:return this.kE(),[4,this.xE.terminate()];case 1:return t.sent(),[2]}}))}))}},\"object\"==typeof e.options){var i=e;this.BE=i,this.KE=t.jE(i),this.qE=i.name,this.QE=new __PRIVATE_FirebaseCredentialsProvider(n)}else{var s=e;if(!s.projectId)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Must provide projectId\");this.KE=new __PRIVATE_DatabaseId(s.projectId,s.database),this.qE=\"[DEFAULT]\",this.QE=new __PRIVATE_EmptyCredentialsProvider}this.WE=new __PRIVATE_FirestoreSettings({}),this.$E=this.YE(this.KE)}return t.prototype.settings=function(t){if(__PRIVATE_validateExactNumberOfArgs(\"Firestore.settings\",arguments,1),__PRIVATE_validateArgType(\"Firestore.settings\",\"object\",1,t),contains(t,\"persistence\"))throw new FirestoreError(Code.INVALID_ARGUMENT,'\"persistence\" is now specified with a separate call to firestore.enablePersistence().');var e=new __PRIVATE_FirestoreSettings(t);if(this.xE&&!this.WE.isEqual(e))throw new FirestoreError(Code.FAILED_PRECONDITION,\"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.\");this.WE=e,void 0!==e.credentials&&(this.QE=__PRIVATE_makeCredentialsProvider(e.credentials))},t.prototype.enableNetwork=function(){return this.kE(),this.xE.enableNetwork()},t.prototype.disableNetwork=function(){return this.kE(),this.xE.disableNetwork()},t.prototype.enablePersistence=function(t){if(this.xE)throw new FirestoreError(Code.FAILED_PRECONDITION,\"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.\");var e=!1;return t&&(void 0!==t.experimentalTabSynchronization&&error(\"The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'.\"),e=__PRIVATE_defaulted(void 0!==t.synchronizeTabs?t.synchronizeTabs:t.experimentalTabSynchronization,__PRIVATE_DEFAULT_SYNCHRONIZE_TABS)),this.HE(new __PRIVATE_IndexedDbPersistenceSettings(this.WE.cacheSizeBytes,e))},t.prototype.clearPersistence=function(){var t=this,e=__PRIVATE_IndexedDbPersistence.hh(this.XE()),n=new __PRIVATE_Deferred;return this.UE.$s((function(){return tslib.__awaiter(t,void 0,void 0,(function(){var t;return tslib.__generator(this,(function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this.xE&&!this.xE.FE)throw new FirestoreError(Code.FAILED_PRECONDITION,\"Persistence cannot be cleared after this Firestore instance is initialized.\");return[4,__PRIVATE_IndexedDbPersistence.clearPersistence(e)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise},t.prototype.terminate=function(){return this.app._removeServiceInstance(\"firestore\"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,\"zE\",{get:function(){return this.kE(),this.xE.FE},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.kE(),this.xE.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){if(this.kE(),__PRIVATE_isPartialObserver(t))return this.JE(t);__PRIVATE_validateArgType(\"Firestore.onSnapshotsInSync\",\"function\",1,t);var e={next:t};return this.JE(e)},t.prototype.JE=function(t){var e=this,n=new __PRIVATE_AsyncObserver({next:function(){t.next&&t.next()},error:function(t){throw fail(\"Uncaught Error in onSnapshotsInSync\")}});return this.xE.fE(n),function(){n.GE(),e.xE.lE(n)}},t.prototype.kE=function(){return this.xE||this.HE(new __PRIVATE_MemoryPersistenceSettings),this.xE},t.prototype.XE=function(){return new __PRIVATE_DatabaseInfo(this.KE,this.qE,this.WE.host,this.WE.ssl,this.WE.forceLongPolling)},t.prototype.HE=function(t){assert(!!this.WE.host,\"FirestoreSettings.host is not set\"),assert(!this.xE,\"configureClient() called multiple times\");var e=this.XE();return this.xE=new __PRIVATE_FirestoreClient(__PRIVATE_PlatformSupport.t(),e,this.QE,this.UE),this.xE.start(t)},t.prototype.YE=function(t){return new __PRIVATE_UserDataConverter((function(e){if(e instanceof DocumentReference){var n=t,r=e.firestore.KE;if(!r.isEqual(n))throw new FirestoreError(Code.INVALID_ARGUMENT,\"Document reference is for database \"+r.projectId+\"/\"+r.database+\" but should be for database \"+n.projectId+\"/\"+n.database);return new __PRIVATE_DocumentKeyReference(t,e.ZE)}return e}))},t.jE=function(t){var e=t.options;if(!contains(e,\"projectId\"))throw new FirestoreError(Code.INVALID_ARGUMENT,'\"projectId\" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||\"string\"!=typeof n)throw new FirestoreError(Code.INVALID_ARGUMENT,\"projectId must be a string in FirebaseApp.options\");return new __PRIVATE_DatabaseId(n)},Object.defineProperty(t.prototype,\"app\",{get:function(){if(!this.BE)throw new FirestoreError(Code.FAILED_PRECONDITION,\"Firestore was not initialized using the Firebase SDK. 'app' is not available\");return this.BE},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return __PRIVATE_validateExactNumberOfArgs(\"Firestore.collection\",arguments,1),__PRIVATE_validateArgType(\"Firestore.collection\",\"non-empty string\",1,t),this.kE(),new CollectionReference(ResourcePath.ut(t),this)},t.prototype.doc=function(t){return __PRIVATE_validateExactNumberOfArgs(\"Firestore.doc\",arguments,1),__PRIVATE_validateArgType(\"Firestore.doc\",\"non-empty string\",1,t),this.kE(),DocumentReference.tP(ResourcePath.ut(t),this)},t.prototype.collectionGroup=function(t){if(__PRIVATE_validateExactNumberOfArgs(\"Firestore.collectionGroup\",arguments,1),__PRIVATE_validateArgType(\"Firestore.collectionGroup\",\"non-empty string\",1,t),t.indexOf(\"/\")>=0)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Invalid collection ID '\"+t+\"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.\");return this.kE(),new Query$1(new Query(ResourcePath.at,t),this)},t.prototype.runTransaction=function(t){var e=this;return __PRIVATE_validateExactNumberOfArgs(\"Firestore.runTransaction\",arguments,1),__PRIVATE_validateArgType(\"Firestore.runTransaction\",\"function\",1,t),this.kE().transaction((function(n){return t(new Transaction$1(e,n))}))},t.prototype.batch=function(){return this.kE(),new WriteBatch(this)},Object.defineProperty(t,\"logLevel\",{get:function(){switch(__PRIVATE_getLogLevel()){case LogLevel.DEBUG:return\"debug\";case LogLevel.ERROR:return\"error\";case LogLevel.SILENT:return\"silent\";default:return fail(\"Unknown log level: \"+__PRIVATE_getLogLevel())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(__PRIVATE_validateExactNumberOfArgs(\"Firestore.setLogLevel\",arguments,1),__PRIVATE_validateArgType(\"Firestore.setLogLevel\",\"non-empty string\",1,t),t){case\"debug\":setLogLevel(LogLevel.DEBUG);break;case\"error\":setLogLevel(LogLevel.ERROR);break;case\"silent\":setLogLevel(LogLevel.SILENT);break;default:throw new FirestoreError(Code.INVALID_ARGUMENT,\"Invalid log level: \"+t)}},t.prototype.eP=function(){return this.WE.timestampsInSnapshots},t}(),Transaction$1=function(){function t(t,e){this.nP=t,this.rP=e}return t.prototype.get=function(t){var e=this;__PRIVATE_validateExactNumberOfArgs(\"Transaction.get\",arguments,1);var n=__PRIVATE_validateReference(\"Transaction.get\",t,this.nP);return this.rP.lookup([n.ZE]).then((function(t){if(!t||1!==t.length)return fail(\"Mismatch in docs returned from document lookup.\");var r=t[0];if(r instanceof __PRIVATE_NoDocument)return new DocumentSnapshot(e.nP,n.ZE,null,!1,!1,n.iP);if(r instanceof Document)return new DocumentSnapshot(e.nP,n.ZE,r,!1,!1,n.iP);throw fail(\"BatchGetDocumentsRequest returned unexpected document type: \"+r.constructor.name)}))},t.prototype.set=function(t,e,n){__PRIVATE_validateBetweenNumberOfArgs(\"Transaction.set\",arguments,2,3);var r=__PRIVATE_validateReference(\"Transaction.set\",t,this.nP);n=__PRIVATE_validateSetOptions(\"Transaction.set\",n);var i=__PRIVATE_applyFirestoreDataConverter(r.iP,e,\"Transaction.set\"),s=i[0],o=i[1],u=n.merge||n.mergeFields?this.nP.$E.rl(o,s,n.mergeFields):this.nP.$E.el(o,s);return this.rP.set(r.ZE,u),this},t.prototype.update=function(t,e,n){for(var r,i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return\"string\"==typeof e||e instanceof FieldPath$1?(__PRIVATE_validateAtLeastNumberOfArgs(\"Transaction.update\",arguments,3),r=__PRIVATE_validateReference(\"Transaction.update\",t,this.nP),i=this.nP.$E.ol(\"Transaction.update\",e,n,s)):(__PRIVATE_validateExactNumberOfArgs(\"Transaction.update\",arguments,2),r=__PRIVATE_validateReference(\"Transaction.update\",t,this.nP),i=this.nP.$E.il(\"Transaction.update\",e)),this.rP.update(r.ZE,i),this},t.prototype.delete=function(t){__PRIVATE_validateExactNumberOfArgs(\"Transaction.delete\",arguments,1);var e=__PRIVATE_validateReference(\"Transaction.delete\",t,this.nP);return this.rP.delete(e.ZE),this},t}(),WriteBatch=function(){function t(t){this.nP=t,this.sP=[],this.oP=!1}return t.prototype.set=function(t,e,n){__PRIVATE_validateBetweenNumberOfArgs(\"WriteBatch.set\",arguments,2,3),this.uP();var r=__PRIVATE_validateReference(\"WriteBatch.set\",t,this.nP);n=__PRIVATE_validateSetOptions(\"WriteBatch.set\",n);var i=__PRIVATE_applyFirestoreDataConverter(r.iP,e,\"WriteBatch.set\"),s=i[0],o=i[1],u=n.merge||n.mergeFields?this.nP.$E.rl(o,s,n.mergeFields):this.nP.$E.el(o,s);return this.sP=this.sP.concat(u.xf(r.ZE,Precondition.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return this.uP(),\"string\"==typeof e||e instanceof FieldPath$1?(__PRIVATE_validateAtLeastNumberOfArgs(\"WriteBatch.update\",arguments,3),r=__PRIVATE_validateReference(\"WriteBatch.update\",t,this.nP),i=this.nP.$E.ol(\"WriteBatch.update\",e,n,s)):(__PRIVATE_validateExactNumberOfArgs(\"WriteBatch.update\",arguments,2),r=__PRIVATE_validateReference(\"WriteBatch.update\",t,this.nP),i=this.nP.$E.il(\"WriteBatch.update\",e)),this.sP=this.sP.concat(i.xf(r.ZE,Precondition.exists(!0))),this},t.prototype.delete=function(t){__PRIVATE_validateExactNumberOfArgs(\"WriteBatch.delete\",arguments,1),this.uP();var e=__PRIVATE_validateReference(\"WriteBatch.delete\",t,this.nP);return this.sP=this.sP.concat(new __PRIVATE_DeleteMutation(e.ZE,Precondition.NONE)),this},t.prototype.commit=function(){return tslib.__awaiter(this,void 0,void 0,(function(){return tslib.__generator(this,(function(t){return this.uP(),this.oP=!0,this.sP.length>0?[2,this.nP.kE().write(this.sP)]:[2]}))}))},t.prototype.uP=function(){if(this.oP)throw new FirestoreError(Code.FAILED_PRECONDITION,\"A write batch can no longer be used after commit() has been called.\")},t}(),DocumentReference=function(){function t(t,e,n){this.ZE=t,this.firestore=e,this.iP=n,this.xE=this.firestore.kE()}return t.tP=function(e,n,r){if(e.length%2!=0)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Invalid document reference. Document references must have an even number of segments, but \"+e.ot()+\" has \"+e.length);return new t(new __PRIVATE_DocumentKey(e),n,r)},Object.defineProperty(t.prototype,\"id\",{get:function(){return this.ZE.path.nt()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"parent\",{get:function(){return new CollectionReference(this.ZE.path.Z(),this.firestore,this.iP)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"path\",{get:function(){return this.ZE.path.ot()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(__PRIVATE_validateExactNumberOfArgs(\"DocumentReference.collection\",arguments,1),__PRIVATE_validateArgType(\"DocumentReference.collection\",\"non-empty string\",1,t),!t)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Must provide a non-empty collection name to collection()\");var e=ResourcePath.ut(t);return new CollectionReference(this.ZE.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw __PRIVATE_invalidClassError(\"isEqual\",\"DocumentReference\",1,e);return this.firestore===e.firestore&&this.ZE.isEqual(e.ZE)&&this.iP===e.iP},t.prototype.set=function(t,e){__PRIVATE_validateBetweenNumberOfArgs(\"DocumentReference.set\",arguments,1,2),e=__PRIVATE_validateSetOptions(\"DocumentReference.set\",e);var n=__PRIVATE_applyFirestoreDataConverter(this.iP,t,\"DocumentReference.set\"),r=n[0],i=n[1],s=e.merge||e.mergeFields?this.firestore.$E.rl(i,r,e.mergeFields):this.firestore.$E.el(i,r);return this.xE.write(s.xf(this.ZE,Precondition.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return\"string\"==typeof t||t instanceof FieldPath$1?(__PRIVATE_validateAtLeastNumberOfArgs(\"DocumentReference.update\",arguments,2),n=this.firestore.$E.ol(\"DocumentReference.update\",t,e,r)):(__PRIVATE_validateExactNumberOfArgs(\"DocumentReference.update\",arguments,1),n=this.firestore.$E.il(\"DocumentReference.update\",t)),this.xE.write(n.xf(this.ZE,Precondition.exists(!0)))},t.prototype.delete=function(){return __PRIVATE_validateExactNumberOfArgs(\"DocumentReference.delete\",arguments,0),this.xE.write([new __PRIVATE_DeleteMutation(this.ZE,Precondition.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];__PRIVATE_validateBetweenNumberOfArgs(\"DocumentReference.onSnapshot\",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;\"object\"!=typeof t[i]||__PRIVATE_isPartialObserver(t[i])||(__PRIVATE_validateOptionNames(\"DocumentReference.onSnapshot\",r=t[i],[\"includeMetadataChanges\"]),__PRIVATE_validateNamedOptionalType(\"DocumentReference.onSnapshot\",\"boolean\",\"includeMetadataChanges\",r.includeMetadataChanges),i++);var s={includeMetadataChanges:r.includeMetadataChanges};return __PRIVATE_isPartialObserver(t[i])?n=t[i]:(__PRIVATE_validateArgType(\"DocumentReference.onSnapshot\",\"function\",i,t[i]),__PRIVATE_validateOptionalArgType(\"DocumentReference.onSnapshot\",\"function\",i+1,t[i+1]),__PRIVATE_validateOptionalArgType(\"DocumentReference.onSnapshot\",\"function\",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.aP(s,n)},t.prototype.aP=function(t,e){var n=this,r=function(t){console.error(\"Uncaught Error in onSnapshot:\",t)};e.error&&(r=e.error.bind(e));var i=new __PRIVATE_AsyncObserver({next:function(t){if(e.next){assert(t.docs.size<=1,\"Too many documents returned on a document query\");var r=t.docs.get(n.ZE);e.next(new DocumentSnapshot(n.firestore,n.ZE,r,t.fromCache,t.hasPendingWrites,n.iP))}},error:r}),s=this.xE.listen(Query.rn(this.ZE.path),i,t);return function(){i.GE(),n.xE.Jl(s)}},t.prototype.get=function(t){var e=this;return __PRIVATE_validateBetweenNumberOfArgs(\"DocumentReference.get\",arguments,0,1),__PRIVATE_validateGetOptions(\"DocumentReference.get\",t),new Promise((function(n,r){t&&\"cache\"===t.source?e.firestore.kE().NE(e.ZE).then((function(t){n(new DocumentSnapshot(e.firestore,e.ZE,t,!0,t instanceof Document&&t.ce,e.iP))}),r):e._P(n,r,t)}))},t.prototype._P=function(t,e,n){var r=this.aP({includeMetadataChanges:!0,IE:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new FirestoreError(Code.UNAVAILABLE,\"Failed to get document because the client is offline.\")):i.exists&&i.metadata.fromCache&&n&&\"server\"===n.source?e(new FirestoreError(Code.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to \"server\" to retrieve the cached document.)')):t(i)},error:e})},t.prototype.withConverter=function(e){return new t(this.ZE,this.firestore,e)},t}(),SnapshotMetadata=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),DocumentSnapshot=function(){function t(t,e,n,r,i,s){this.nP=t,this.ZE=e,this.cP=n,this.hP=r,this.fP=i,this.iP=s}return t.prototype.data=function(t){if(__PRIVATE_validateBetweenNumberOfArgs(\"DocumentSnapshot.data\",arguments,0,1),t=__PRIVATE_validateSnapshotOptions(\"DocumentSnapshot.data\",t),this.cP){if(this.iP){var e=new QueryDocumentSnapshot(this.nP,this.ZE,this.cP,this.hP,this.fP);return this.iP.fromFirestore(e,t)}return this.lP(this.cP.data(),__PRIVATE_FieldValueOptions.Oe(t,this.nP.eP()))}},t.prototype.get=function(t,e){if(__PRIVATE_validateBetweenNumberOfArgs(\"DocumentSnapshot.get\",arguments,1,2),e=__PRIVATE_validateSnapshotOptions(\"DocumentSnapshot.get\",e),this.cP){var n=this.cP.data().field(__PRIVATE_fieldPathFromArgument(\"DocumentSnapshot.get\",t));if(null!==n)return this.dP(n,__PRIVATE_FieldValueOptions.Oe(e,this.nP.eP()))}},Object.defineProperty(t.prototype,\"id\",{get:function(){return this.ZE.path.nt()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"ref\",{get:function(){return new DocumentReference(this.ZE,this.nP,this.iP)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"exists\",{get:function(){return null!==this.cP},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"metadata\",{get:function(){return new SnapshotMetadata(this.fP,this.hP)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw __PRIVATE_invalidClassError(\"isEqual\",\"DocumentSnapshot\",1,e);return this.nP===e.nP&&this.hP===e.hP&&this.ZE.isEqual(e.ZE)&&(null===this.cP?null===e.cP:this.cP.isEqual(e.cP))&&this.iP===e.iP},t.prototype.lP=function(t,e){var n=this,r={};return t.forEach((function(t,i){r[t]=n.dP(i,e)})),r},t.prototype.dP=function(t,e){if(t instanceof __PRIVATE_ObjectValue)return this.lP(t,e);if(t instanceof ArrayValue)return this.TP(t,e);if(t instanceof __PRIVATE_RefValue){var n=t.value(e),r=this.nP.kE().o();return t.o.isEqual(r)||error(\"Document \"+this.ZE.path+\" contains a document reference within a different database (\"+t.o.projectId+\"/\"+t.o.database+\") which is not supported. It will be treated as a reference in the current database (\"+r.projectId+\"/\"+r.database+\") instead.\"),new DocumentReference(n,this.nP,this.iP)}return t.value(e)},t.prototype.TP=function(t,e){var n=this;return t.Zt.map((function(t){return n.dP(t,e)}))},t}(),QueryDocumentSnapshot=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tslib.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return assert(void 0!==n,\"Document in a QueryDocumentSnapshot should exist\"),n},e}(DocumentSnapshot),Query$1=function(){function t(t,e,n){this.EP=t,this.firestore=e,this.iP=n}return t.prototype.where=function(e,n,r){__PRIVATE_validateExactNumberOfArgs(\"Query.where\",arguments,3),__PRIVATE_validateDefined(\"Query.where\",3,r);var i,s=[\"<\",\"<=\",\"==\",\">=\",\">\",\"array-contains\",\"in\",\"array-contains-any\"];__PRIVATE_validateStringEnum(\"Query.where\",s,2,n);var o=__PRIVATE_fieldPathFromArgument(\"Query.where\",e),u=__PRIVATE_Operator.ut(n);if(o.ct()){if(u===__PRIVATE_Operator.ARRAY_CONTAINS||u===__PRIVATE_Operator.ARRAY_CONTAINS_ANY)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Invalid Query. You can't perform '\"+u.toString()+\"' queries on FieldPath.documentId().\");if(u===__PRIVATE_Operator.IN){this.PP(r,u);for(var a=[],_=0,c=r;_<c.length;_++){var h=c[_];a.push(this.AP(h))}i=new ArrayValue(a)}else i=this.AP(r)}else u!==__PRIVATE_Operator.IN&&u!==__PRIVATE_Operator.ARRAY_CONTAINS_ANY||this.PP(r,u),i=this.firestore.$E.ul(\"Query.where\",r,u===__PRIVATE_Operator.IN);var f=FieldFilter.create(o,u,i);return this.RP(f),new t(this.EP.on(f),this.firestore,this.iP)},t.prototype.orderBy=function(e,n){var r;if(__PRIVATE_validateBetweenNumberOfArgs(\"Query.orderBy\",arguments,1,2),__PRIVATE_validateOptionalArgType(\"Query.orderBy\",\"non-empty string\",2,n),void 0===n||\"asc\"===n)r=__PRIVATE_Direction.ASCENDING;else{if(\"desc\"!==n)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Function Query.orderBy() has unknown direction '\"+n+\"', expected 'asc' or 'desc'.\");r=__PRIVATE_Direction.DESCENDING}if(null!==this.EP.startAt)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().\");if(null!==this.EP.endAt)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().\");var i=__PRIVATE_fieldPathFromArgument(\"Query.orderBy\",e),s=new __PRIVATE_OrderBy(i,r);return this.IP(s),new t(this.EP.an(s),this.firestore,this.iP)},t.prototype.limit=function(e){return __PRIVATE_validateExactNumberOfArgs(\"Query.limit\",arguments,1),__PRIVATE_validateArgType(\"Query.limit\",\"number\",1,e),__PRIVATE_validatePositiveNumber(\"Query.limit\",1,e),new t(this.EP._n(e),this.firestore,this.iP)},t.prototype.limitToLast=function(e){return __PRIVATE_validateExactNumberOfArgs(\"Query.limitToLast\",arguments,1),__PRIVATE_validateArgType(\"Query.limitToLast\",\"number\",1,e),__PRIVATE_validatePositiveNumber(\"Query.limitToLast\",1,e),new t(this.EP.cn(e),this.firestore,this.iP)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];__PRIVATE_validateAtLeastNumberOfArgs(\"Query.startAt\",arguments,1);var i=this.VP(\"Query.startAt\",e,n,!0);return new t(this.EP.hn(i),this.firestore,this.iP)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];__PRIVATE_validateAtLeastNumberOfArgs(\"Query.startAfter\",arguments,1);var i=this.VP(\"Query.startAfter\",e,n,!1);return new t(this.EP.hn(i),this.firestore,this.iP)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];__PRIVATE_validateAtLeastNumberOfArgs(\"Query.endBefore\",arguments,1);var i=this.VP(\"Query.endBefore\",e,n,!0);return new t(this.EP.fn(i),this.firestore,this.iP)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];__PRIVATE_validateAtLeastNumberOfArgs(\"Query.endAt\",arguments,1);var i=this.VP(\"Query.endAt\",e,n,!1);return new t(this.EP.fn(i),this.firestore,this.iP)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw __PRIVATE_invalidClassError(\"isEqual\",\"Query\",1,e);return this.firestore===e.firestore&&this.EP.isEqual(e.EP)},t.prototype.withConverter=function(e){return new t(this.EP,this.firestore,e)},t.prototype.VP=function(t,e,n,r){if(__PRIVATE_validateDefined(t,1,e),e instanceof DocumentSnapshot){if(n.length>0)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Too many arguments provided to \"+t+\"().\");var i=e;if(!i.exists)throw new FirestoreError(Code.NOT_FOUND,\"Can't use a DocumentSnapshot that doesn't exist for \"+t+\"().\");return this.mP(t,i.cP,r)}var s=[e].concat(n);return this.vP(t,s,r)},t.prototype.mP=function(t,e,n){for(var r=[],i=0,s=this.EP.orderBy;i<s.length;i++){var o=s[i];if(o.field.ct())r.push(new __PRIVATE_RefValue(this.firestore.KE,e.key));else{var u=e.field(o.field);if(u instanceof __PRIVATE_ServerTimestampValue)throw new FirestoreError(Code.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field \"'+o.field+'\" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var a=o.field.ot();throw new FirestoreError(Code.INVALID_ARGUMENT,\"Invalid query. You are trying to start or end a query using a document for which the field '\"+a+\"' (used as the orderBy) does not exist.\")}r.push(u)}}return new __PRIVATE_Bound(r,n)},t.prototype.vP=function(t,e,n){var r=this.EP.Je;if(e.length>r.length)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Too many arguments provided to \"+t+\"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses\");for(var i=[],s=0;s<e.length;s++){var o=e[s];if(r[s].field.ct()){if(\"string\"!=typeof o)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Invalid query. Expected a string for document ID in \"+t+\"(), but got a \"+typeof o);if(!this.EP.pn()&&-1!==o.indexOf(\"/\"))throw new FirestoreError(Code.INVALID_ARGUMENT,\"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to \"+t+\"() must be a plain document ID, but '\"+o+\"' contains a slash.\");var u=this.EP.path.child(ResourcePath.ut(o));if(!__PRIVATE_DocumentKey.lt(u))throw new FirestoreError(Code.INVALID_ARGUMENT,\"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to \"+t+\"() must result in a valid document path, but '\"+u+\"' is not because it contains an odd number of segments.\");var a=new __PRIVATE_DocumentKey(u);i.push(new __PRIVATE_RefValue(this.firestore.KE,a))}else{var _=this.firestore.$E.ul(t,o);i.push(_)}}return new __PRIVATE_Bound(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];__PRIVATE_validateBetweenNumberOfArgs(\"Query.onSnapshot\",arguments,1,4);var n,r={},i=0;return\"object\"!=typeof t[i]||__PRIVATE_isPartialObserver(t[i])||(__PRIVATE_validateOptionNames(\"Query.onSnapshot\",r=t[i],[\"includeMetadataChanges\"]),__PRIVATE_validateNamedOptionalType(\"Query.onSnapshot\",\"boolean\",\"includeMetadataChanges\",r.includeMetadataChanges),i++),__PRIVATE_isPartialObserver(t[i])?n=t[i]:(__PRIVATE_validateArgType(\"Query.onSnapshot\",\"function\",i,t[i]),__PRIVATE_validateOptionalArgType(\"Query.onSnapshot\",\"function\",i+1,t[i+1]),__PRIVATE_validateOptionalArgType(\"Query.onSnapshot\",\"function\",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.pP(this.EP),this.aP(r,n)},t.prototype.aP=function(t,e){var n=this,r=function(t){console.error(\"Uncaught Error in onSnapshot:\",t)};e.error&&(r=e.error.bind(e));var i=new __PRIVATE_AsyncObserver({next:function(t){e.next&&e.next(new QuerySnapshot(n.firestore,n.EP,t,n.iP))},error:r}),s=this.firestore.kE(),o=s.listen(this.EP,i,t);return function(){i.GE(),s.Jl(o)}},t.prototype.pP=function(t){if(t.mn()&&0===t.Je.length)throw new FirestoreError(Code.UNIMPLEMENTED,\"limitToLast() queries require specifying at least one orderBy() clause\")},t.prototype.get=function(t){var e=this;return __PRIVATE_validateBetweenNumberOfArgs(\"Query.get\",arguments,0,1),__PRIVATE_validateGetOptions(\"Query.get\",t),this.pP(this.EP),new Promise((function(n,r){t&&\"cache\"===t.source?e.firestore.kE().ME(e.EP).then((function(t){n(new QuerySnapshot(e.firestore,e.EP,t,e.iP))}),r):e._P(n,r,t)}))},t.prototype._P=function(t,e,n){var r=this.aP({includeMetadataChanges:!0,IE:!0},{next:function(i){r(),i.metadata.fromCache&&n&&\"server\"===n.source?e(new FirestoreError(Code.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to \"server\" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.AP=function(t){if(\"string\"==typeof t){if(\"\"===t)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.\");if(!this.EP.pn()&&-1!==t.indexOf(\"/\"))throw new FirestoreError(Code.INVALID_ARGUMENT,\"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '\"+t+\"' contains a '/' character.\");var e=this.EP.path.child(ResourcePath.ut(t));if(!__PRIVATE_DocumentKey.lt(e))throw new FirestoreError(Code.INVALID_ARGUMENT,\"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '\"+e+\"' is not because it has an odd number of segments (\"+e.length+\").\");return new __PRIVATE_RefValue(this.firestore.KE,new __PRIVATE_DocumentKey(e))}if(t instanceof DocumentReference){var n=t;return new __PRIVATE_RefValue(this.firestore.KE,n.ZE)}throw new FirestoreError(Code.INVALID_ARGUMENT,\"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: \"+__PRIVATE_valueDescription(t)+\".\")},t.prototype.PP=function(t,e){if(!Array.isArray(t)||0===t.length)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Invalid Query. A non-empty array is required for '\"+e.toString()+\"' filters.\");if(t.length>10)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Invalid Query. '\"+e.toString()+\"' filters support a maximum of 10 elements in the value array.\");if(t.indexOf(null)>=0)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Invalid Query. '\"+e.toString()+\"' filters cannot contain 'null' in the value array.\");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Invalid Query. '\"+e.toString()+\"' filters cannot contain 'NaN' in the value array.\")},t.prototype.RP=function(t){if(t instanceof FieldFilter){var e=[__PRIVATE_Operator.ARRAY_CONTAINS,__PRIVATE_Operator.ARRAY_CONTAINS_ANY],n=[__PRIVATE_Operator.IN,__PRIVATE_Operator.ARRAY_CONTAINS_ANY],r=e.indexOf(t.op)>=0,i=n.indexOf(t.op)>=0;if(t.un()){var s=this.EP.in();if(null!==s&&!s.isEqual(t.field))throw new FirestoreError(Code.INVALID_ARGUMENT,\"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '\"+s.toString()+\"' and '\"+t.field.toString()+\"'\");var o=this.EP.sn();null!==o&&this.bP(t.field,o)}else if(i||r){var u=null;if(i&&(u=this.EP.vn(n)),null===u&&r&&(u=this.EP.vn(e)),null!=u)throw u===t.op?new FirestoreError(Code.INVALID_ARGUMENT,\"Invalid query. You cannot use more than one '\"+t.op.toString()+\"' filter.\"):new FirestoreError(Code.INVALID_ARGUMENT,\"Invalid query. You cannot use '\"+t.op.toString()+\"' filters with '\"+u.toString()+\"' filters.\")}}},t.prototype.IP=function(t){if(null===this.EP.sn()){var e=this.EP.in();null!==e&&this.bP(e,t.field)}},t.prototype.bP=function(t,e){if(!e.isEqual(t))throw new FirestoreError(Code.INVALID_ARGUMENT,\"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '\"+t.toString()+\"' and so you must also use '\"+t.toString()+\"' as your first Query.orderBy(), but your first Query.orderBy() is on field '\"+e.toString()+\"' instead.\")},t}(),QuerySnapshot=function(){function t(t,e,n,r){this.nP=t,this.gP=e,this.wP=n,this.iP=r,this.yP=null,this.SP=null,this.metadata=new SnapshotMetadata(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,\"docs\",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"empty\",{get:function(){return this.wP.docs.tt()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"size\",{get:function(){return this.wP.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;__PRIVATE_validateBetweenNumberOfArgs(\"QuerySnapshot.forEach\",arguments,1,2),__PRIVATE_validateArgType(\"QuerySnapshot.forEach\",\"function\",1,t),this.wP.docs.forEach((function(r){t.call(e,n.DP(r))}))},Object.defineProperty(t.prototype,\"query\",{get:function(){return new Query$1(this.gP,this.nP,this.iP)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(__PRIVATE_validateOptionNames(\"QuerySnapshot.docChanges\",t,[\"includeMetadataChanges\"]),__PRIVATE_validateNamedOptionalType(\"QuerySnapshot.docChanges\",\"boolean\",\"includeMetadataChanges\",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.wP.Xn)throw new FirestoreError(Code.INVALID_ARGUMENT,\"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().\");return this.yP&&this.SP===e||(this.yP=__PRIVATE_changesFromSnapshot(this.nP,e,this.wP,this.iP),this.SP=e),this.yP},t.prototype.isEqual=function(e){if(!(e instanceof t))throw __PRIVATE_invalidClassError(\"isEqual\",\"QuerySnapshot\",1,e);return this.nP===e.nP&&this.gP.isEqual(e.gP)&&this.wP.isEqual(e.wP)&&this.iP===e.iP},t.prototype.DP=function(t){return new QueryDocumentSnapshot(this.nP,t.key,t,this.metadata.fromCache,this.wP.Yn.has(t.key),this.iP)},t}();function __PRIVATE_throwDocChangesMethodError(){throw new FirestoreError(Code.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like \"querySnapshot.docChanges\" should become \"querySnapshot.docChanges()\"')}var __PRIVATE_docChangesPropertiesToOverride=tslib.__spreadArrays([\"length\",\"forEach\",\"map\"],\"undefined\"!=typeof Symbol?[Symbol.iterator]:[]);__PRIVATE_docChangesPropertiesToOverride.forEach((function(t){try{Object.defineProperty(QuerySnapshot.prototype.docChanges,t,{get:function(){return __PRIVATE_throwDocChangesMethodError()}})}catch(t){}}));var CollectionReference=function(t){function e(e,n,r){var i=t.call(this,Query.rn(e),n,r)||this;if(i.CP=e,e.length%2!=1)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Invalid collection reference. Collection references must have an odd number of segments, but \"+e.ot()+\" has \"+e.length);return i}return tslib.__extends(e,t),Object.defineProperty(e.prototype,\"id\",{get:function(){return this.EP.path.nt()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"parent\",{get:function(){var t=this.EP.path.Z();return t.tt()?null:new DocumentReference(new __PRIVATE_DocumentKey(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"path\",{get:function(){return this.EP.path.ot()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(__PRIVATE_validateBetweenNumberOfArgs(\"CollectionReference.doc\",arguments,0,1),0===arguments.length&&(t=__PRIVATE_AutoId.s()),__PRIVATE_validateArgType(\"CollectionReference.doc\",\"non-empty string\",1,t),\"\"===t)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Document path must be a non-empty string\");var e=ResourcePath.ut(t);return DocumentReference.tP(this.EP.path.child(e),this.firestore,this.iP)},e.prototype.add=function(t){__PRIVATE_validateExactNumberOfArgs(\"CollectionReference.add\",arguments,1);var e=this.iP?this.iP.toFirestore(t):t;__PRIVATE_validateArgType(\"CollectionReference.add\",\"object\",1,e);var n=this.doc();return n.set(t).then((function(){return n}))},e.prototype.withConverter=function(t){return new e(this.CP,this.firestore,t)},e}(Query$1);function __PRIVATE_validateSetOptions(t,e){if(void 0===e)return{merge:!1};if(__PRIVATE_validateOptionNames(t,e,[\"merge\",\"mergeFields\"]),__PRIVATE_validateNamedOptionalType(t,\"boolean\",\"merge\",e.merge),__PRIVATE_validateOptionalArrayElements(t,\"mergeFields\",\"a string or a FieldPath\",e.mergeFields,(function(t){return\"string\"==typeof t||t instanceof FieldPath$1})),void 0!==e.mergeFields&&void 0!==e.merge)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Invalid options passed to function \"+t+'(): You cannot specify both \"merge\" and \"mergeFields\".');return e}function __PRIVATE_validateSnapshotOptions(t,e){return void 0===e?{}:(__PRIVATE_validateOptionNames(t,e,[\"serverTimestamps\"]),__PRIVATE_validateNamedOptionalPropertyEquals(t,\"options\",\"serverTimestamps\",e.serverTimestamps,[\"estimate\",\"previous\",\"none\"]),e)}function __PRIVATE_validateGetOptions(t,e){__PRIVATE_validateOptionalArgType(t,\"object\",1,e),e&&(__PRIVATE_validateOptionNames(t,e,[\"source\"]),__PRIVATE_validateNamedOptionalPropertyEquals(t,\"options\",\"source\",e.source,[\"default\",\"server\",\"cache\"]))}function __PRIVATE_validateReference(t,e,n){if(e instanceof DocumentReference){if(e.firestore!==n)throw new FirestoreError(Code.INVALID_ARGUMENT,\"Provided document reference is from a different Firestore instance.\");return e}throw __PRIVATE_invalidClassError(t,\"DocumentReference\",1,e)}function __PRIVATE_changesFromSnapshot(t,e,n,r){if(n.$n.tt()){var i,s=0;return n.docChanges.map((function(e){var o=new QueryDocumentSnapshot(t,e.doc.key,e.doc,n.fromCache,n.Yn.has(e.doc.key),r);return assert(e.type===__PRIVATE_ChangeType.Un,\"Invalid event type for first snapshot\"),assert(!i||n.query.En(i,e.doc)<0,\"Got added events in wrong order\"),i=e.doc,{type:\"added\",doc:o,oldIndex:-1,newIndex:s++}}))}var o=n.$n;return n.docChanges.filter((function(t){return e||t.type!==__PRIVATE_ChangeType.Kn})).map((function(e){var i=new QueryDocumentSnapshot(t,e.doc.key,e.doc,n.fromCache,n.Yn.has(e.doc.key),r),s=-1,u=-1;return e.type!==__PRIVATE_ChangeType.Un&&(assert((s=o.indexOf(e.doc.key))>=0,\"Index for document not found\"),o=o.delete(e.doc.key)),e.type!==__PRIVATE_ChangeType.kn&&(u=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:__PRIVATE_resultChangeType(e.type),doc:i,oldIndex:s,newIndex:u}}))}function __PRIVATE_resultChangeType(t){switch(t){case __PRIVATE_ChangeType.Un:return\"added\";case __PRIVATE_ChangeType.xn:case __PRIVATE_ChangeType.Kn:return\"modified\";case __PRIVATE_ChangeType.kn:return\"removed\";default:return fail(\"Unknown change type: \"+t)}}function __PRIVATE_applyFirestoreDataConverter(t,e,n){var r;return t?(r=t.toFirestore(e),n=\"toFirestore() in \"+n):r=e,[r,n]}var __PRIVATE_PublicFirestore=__PRIVATE_makeConstructorPrivate(Firestore,\"Use firebase.firestore() instead.\"),__PRIVATE_PublicTransaction=__PRIVATE_makeConstructorPrivate(Transaction$1,\"Use firebase.firestore().runTransaction() instead.\"),__PRIVATE_PublicWriteBatch=__PRIVATE_makeConstructorPrivate(WriteBatch,\"Use firebase.firestore().batch() instead.\"),__PRIVATE_PublicDocumentReference=__PRIVATE_makeConstructorPrivate(DocumentReference,\"Use firebase.firestore().doc() instead.\"),__PRIVATE_PublicDocumentSnapshot=__PRIVATE_makeConstructorPrivate(DocumentSnapshot),__PRIVATE_PublicQueryDocumentSnapshot=__PRIVATE_makeConstructorPrivate(QueryDocumentSnapshot),__PRIVATE_PublicQuery=__PRIVATE_makeConstructorPrivate(Query$1),__PRIVATE_PublicQuerySnapshot=__PRIVATE_makeConstructorPrivate(QuerySnapshot),__PRIVATE_PublicCollectionReference=__PRIVATE_makeConstructorPrivate(CollectionReference,\"Use firebase.firestore().collection() instead.\"),__PRIVATE_firestoreNamespace={Firestore:__PRIVATE_PublicFirestore,GeoPoint:GeoPoint,Timestamp:Timestamp,Blob:__PRIVATE_PublicBlob,Transaction:__PRIVATE_PublicTransaction,WriteBatch:__PRIVATE_PublicWriteBatch,DocumentReference:__PRIVATE_PublicDocumentReference,DocumentSnapshot:__PRIVATE_PublicDocumentSnapshot,Query:__PRIVATE_PublicQuery,QueryDocumentSnapshot:__PRIVATE_PublicQueryDocumentSnapshot,QuerySnapshot:__PRIVATE_PublicQuerySnapshot,CollectionReference:__PRIVATE_PublicCollectionReference,FieldPath:FieldPath$1,FieldValue:__PRIVATE_PublicFieldValue,setLogLevel:Firestore.setLogLevel,CACHE_SIZE_UNLIMITED:CACHE_SIZE_UNLIMITED};function __PRIVATE_configureForFirebase(t){t.INTERNAL.registerComponent(new component.Component(\"firestore\",(function(t){var e=t.getProvider(\"app\").getImmediate();return new Firestore(e,t.getProvider(\"auth-internal\"))}),\"PUBLIC\").setServiceProps(__PRIVATE_shallowCopy(__PRIVATE_firestoreNamespace)))}var __PRIVATE_NoopConnectivityMonitor=function(){function t(){}return t.prototype.Nl=function(t){},t.prototype.shutdown=function(){},t}(),__PRIVATE_LOG_TAG$c=\"ConnectivityMonitor\",__PRIVATE_BrowserConnectivityMonitor=function(){function t(){var t=this;this.OP=function(){return t.FP()},this.NP=function(){return t.MP()},this.LP=[],this.GP()}return t.prototype.Nl=function(t){this.LP.push(t)},t.prototype.shutdown=function(){window.removeEventListener(\"online\",this.OP),window.removeEventListener(\"offline\",this.NP)},t.prototype.GP=function(){window.addEventListener(\"online\",this.OP),window.addEventListener(\"offline\",this.NP)},t.prototype.FP=function(){debug(__PRIVATE_LOG_TAG$c,\"Network connectivity changed: AVAILABLE\");for(var t=0,e=this.LP;t<e.length;t++){(0,e[t])(0)}},t.prototype.MP=function(){debug(__PRIVATE_LOG_TAG$c,\"Network connectivity changed: UNAVAILABLE\");for(var t=0,e=this.LP;t<e.length;t++){(0,e[t])(1)}},t.Xo=function(){return\"undefined\"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),__PRIVATE_StreamBridge=function(){function t(t){this.BP=t.BP,this.UP=t.UP}return t.prototype.mf=function(t){assert(!this.kP,\"Called onOpen on stream twice!\"),this.kP=t},t.prototype.Pf=function(t){assert(!this.xP,\"Called onClose on stream twice!\"),this.xP=t},t.prototype.onMessage=function(t){assert(!this.KP,\"Called onMessage on stream twice!\"),this.KP=t},t.prototype.close=function(){this.UP()},t.prototype.send=function(t){this.BP(t)},t.prototype.jP=function(){assert(void 0!==this.kP,\"Cannot call onOpen because no callback was set\"),this.kP()},t.prototype.qP=function(t){assert(void 0!==this.xP,\"Cannot call onClose because no callback was set\"),this.xP(t)},t.prototype.QP=function(t){assert(void 0!==this.KP,\"Cannot call onMessage because no callback was set\"),this.KP(t)},t}(),__PRIVATE_LOG_TAG$d=\"Connection\",__PRIVATE_RPC_STREAM_SERVICE=\"google.firestore.v1.Firestore\",__PRIVATE_RPC_URL_VERSION=\"v1\",__PRIVATE_RPC_NAME_REST_MAPPING={BatchGetDocuments:\"batchGet\",Commit:\"commit\"},__PRIVATE_X_GOOG_API_CLIENT_VALUE=\"gl-js/ fire/\"+SDK_VERSION,__PRIVATE_XHR_TIMEOUT_SECS=15,__PRIVATE_WebChannelConnection=function(){function t(t){this.o=t.o;var e=t.ssl?\"https\":\"http\";this.WP=e+\"://\"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.$P=function(t,e){if(e)for(var n in e.v)e.v.hasOwnProperty(n)&&(t[n]=e.v[n]);t[\"X-Goog-Api-Client\"]=__PRIVATE_X_GOOG_API_CLIENT_VALUE},t.prototype.Nf=function(t,e,n){var r=this,i=this.YP(t);return new Promise((function(s,o){var u=new webchannelWrapper.XhrIo;u.listenOnce(webchannelWrapper.EventType.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case webchannelWrapper.ErrorCode.NO_ERROR:var e=u.getResponseJson();debug(__PRIVATE_LOG_TAG$d,\"XHR received:\",JSON.stringify(e)),s(e);break;case webchannelWrapper.ErrorCode.TIMEOUT:debug(__PRIVATE_LOG_TAG$d,'RPC \"'+t+'\" timed out'),o(new FirestoreError(Code.DEADLINE_EXCEEDED,\"Request time out\"));break;case webchannelWrapper.ErrorCode.HTTP_ERROR:var n=u.getStatus();if(debug(__PRIVATE_LOG_TAG$d,'RPC \"'+t+'\" failed with status:',n,\"response text:\",u.getResponseText()),n>0){var r=u.getResponseJson().error;if(r&&r.status&&r.message){var i=__PRIVATE_mapCodeFromHttpResponseErrorStatus(r.status);o(new FirestoreError(i,r.message))}else o(new FirestoreError(Code.UNKNOWN,\"Server responded with status \"+u.getStatus()))}else debug(__PRIVATE_LOG_TAG$d,'RPC \"'+t+'\" failed'),o(new FirestoreError(Code.UNAVAILABLE,\"Connection failed.\"));break;default:fail('RPC \"'+t+'\" failed with unanticipated webchannel error '+u.getLastErrorCode()+\": \"+u.getLastError()+\", giving up.\")}}finally{debug(__PRIVATE_LOG_TAG$d,'RPC \"'+t+'\" completed.')}}));var a=tslib.__assign({},e);delete a.database;var _=JSON.stringify(a);debug(__PRIVATE_LOG_TAG$d,\"XHR sending: \",i+\" \"+_);var c={\"Content-Type\":\"text/plain\"};r.$P(c,n),u.send(i,\"POST\",_,c,__PRIVATE_XHR_TIMEOUT_SECS)}))},t.prototype.Mf=function(t,e,n){return this.Nf(t,e,n)},t.prototype.vf=function(t,e){var n=[this.WP,\"/\",__PRIVATE_RPC_STREAM_SERVICE,\"/\",t,\"/channel\"],r=webchannelWrapper.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:\"gsessionid\",initMessageHeaders:{},messageUrlParams:{database:\"projects/\"+this.o.projectId+\"/databases/\"+this.o.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.$P(i.initMessageHeaders,e),util.isMobileCordova()||util.isReactNative()||util.isElectron()||util.isIE()||util.isUWP()||util.isBrowserExtension()||(i.httpHeadersOverwriteParam=\"$httpHeaders\");var s=n.join(\"\");debug(__PRIVATE_LOG_TAG$d,\"Creating WebChannel: \"+s+\" \"+i);var o=r.createWebChannel(s,i),u=!1,a=!1,_=new __PRIVATE_StreamBridge({BP:function(t){a?debug(__PRIVATE_LOG_TAG$d,\"Not sending because WebChannel is closed:\",t):(u||(debug(__PRIVATE_LOG_TAG$d,\"Opening WebChannel transport.\"),o.open(),u=!0),debug(__PRIVATE_LOG_TAG$d,\"WebChannel sending:\",t),o.send(t))},UP:function(){return o.close()}}),c=function(t,e){o.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return c(webchannelWrapper.WebChannel.EventType.OPEN,(function(){a||debug(__PRIVATE_LOG_TAG$d,\"WebChannel transport opened.\")})),c(webchannelWrapper.WebChannel.EventType.CLOSE,(function(){a||(a=!0,debug(__PRIVATE_LOG_TAG$d,\"WebChannel transport closed\"),_.qP())})),c(webchannelWrapper.WebChannel.EventType.ERROR,(function(t){a||(a=!0,debug(__PRIVATE_LOG_TAG$d,\"WebChannel transport errored:\",t),_.qP(new FirestoreError(Code.UNAVAILABLE,\"The operation could not be completed\")))})),c(webchannelWrapper.WebChannel.EventType.MESSAGE,(function(t){var e;if(!a){var n=t.data[0];assert(!!n,\"Got a webchannel message without data.\");var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){debug(__PRIVATE_LOG_TAG$d,\"WebChannel received error:\",i);var s=i.status,u=__PRIVATE_mapCodeFromRpcStatus(s),c=i.message;void 0===u&&(u=Code.INTERNAL,c=\"Unknown error status: \"+s+\" with message \"+i.message),a=!0,_.qP(new FirestoreError(u,c)),o.close()}else debug(__PRIVATE_LOG_TAG$d,\"WebChannel received:\",n),_.QP(n)}})),setTimeout((function(){_.jP()}),0),_},t.prototype.YP=function(t){var e=__PRIVATE_RPC_NAME_REST_MAPPING[t];return assert(void 0!==e,\"Unknown REST mapping for: \"+t),this.WP+\"/\"+__PRIVATE_RPC_URL_VERSION+\"/projects/\"+this.o.projectId+\"/databases/\"+this.o.database+\"/documents:\"+e},t}(),__PRIVATE_BrowserPlatform=function(){function t(){this.zr=\"\",this.ds=\"undefined\"!=typeof atob}return Object.defineProperty(t.prototype,\"document\",{get:function(){return\"undefined\"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,\"window\",{get:function(){return\"undefined\"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.yE=function(t){return Promise.resolve(new __PRIVATE_WebChannelConnection(t))},t.prototype.DE=function(){return __PRIVATE_BrowserConnectivityMonitor.Xo()?new __PRIVATE_BrowserConnectivityMonitor:new __PRIVATE_NoopConnectivityMonitor},t.prototype.CE=function(t){return new __PRIVATE_JsonProtoSerializer(t,{Jr:!0})},t.prototype.i=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}();__PRIVATE_PlatformSupport.ls(new __PRIVATE_BrowserPlatform);var name=\"@firebase/firestore\",version=\"1.11.0\";function __PRIVATE_registerFirestore(t){__PRIVATE_configureForFirebase(t),t.registerVersion(name,version)}__PRIVATE_registerFirestore(firebase),exports.__PRIVATE_registerFirestore=__PRIVATE_registerFirestore;\n//# sourceMappingURL=index.cjs.js.map\n"]},"metadata":{},"sourceType":"script"}